"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[5468],{5468:(W,p,i)=>{i.r(p),i.d(p,{RichTextComponent:()=>Y});var m=i(1368),a=i(6504),R=i(6716),I=i(5072),P=i(1848),n=i(4496),f=i(800),O=i(1424),U=i(5657),C=i(3616),x=i(3992),A=i(320),T=i(8716);function B(e,o){}const c=()=>{const e=typeof window<"u"?window:void 0;return e&&e.tinymce?e.tinymce:null};let F=(()=>{class e{constructor(){this.onBeforePaste=new n._w7,this.onBlur=new n._w7,this.onClick=new n._w7,this.onContextMenu=new n._w7,this.onCopy=new n._w7,this.onCut=new n._w7,this.onDblclick=new n._w7,this.onDrag=new n._w7,this.onDragDrop=new n._w7,this.onDragEnd=new n._w7,this.onDragGesture=new n._w7,this.onDragOver=new n._w7,this.onDrop=new n._w7,this.onFocus=new n._w7,this.onFocusIn=new n._w7,this.onFocusOut=new n._w7,this.onKeyDown=new n._w7,this.onKeyPress=new n._w7,this.onKeyUp=new n._w7,this.onMouseDown=new n._w7,this.onMouseEnter=new n._w7,this.onMouseLeave=new n._w7,this.onMouseMove=new n._w7,this.onMouseOut=new n._w7,this.onMouseOver=new n._w7,this.onMouseUp=new n._w7,this.onPaste=new n._w7,this.onSelectionChange=new n._w7,this.onActivate=new n._w7,this.onAddUndo=new n._w7,this.onBeforeAddUndo=new n._w7,this.onBeforeExecCommand=new n._w7,this.onBeforeGetContent=new n._w7,this.onBeforeRenderUI=new n._w7,this.onBeforeSetContent=new n._w7,this.onChange=new n._w7,this.onClearUndos=new n._w7,this.onDeactivate=new n._w7,this.onDirty=new n._w7,this.onExecCommand=new n._w7,this.onGetContent=new n._w7,this.onHide=new n._w7,this.onInit=new n._w7,this.onInitNgModel=new n._w7,this.onLoadContent=new n._w7,this.onNodeChange=new n._w7,this.onPostProcess=new n._w7,this.onPostRender=new n._w7,this.onPreInit=new n._w7,this.onPreProcess=new n._w7,this.onProgressState=new n._w7,this.onRedo=new n._w7,this.onRemove=new n._w7,this.onReset=new n._w7,this.onResizeEditor=new n._w7,this.onSaveContent=new n._w7,this.onSetAttrib=new n._w7,this.onObjectResizeStart=new n._w7,this.onObjectResized=new n._w7,this.onObjectSelected=new n._w7,this.onSetContent=new n._w7,this.onShow=new n._w7,this.onSubmit=new n._w7,this.onUndo=new n._w7,this.onVisualAid=new n._w7}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Sc5({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),e})();const y=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],u=(e,o,t)=>(0,f.w)(e,o).pipe((0,C.a)(t)),E=(e,o)=>"string"==typeof e?e.split(",").map(t=>t.trim()):Array.isArray(e)?e:o;let v=0;const M=e=>typeof e<"u"&&"textarea"===e.tagName.toLowerCase(),S=e=>typeof e>"u"||""===e?[]:Array.isArray(e)?e:e.split(" "),j=(e,o)=>S(e).concat(S(o)),L=()=>{},b=e=>null==e,$=(()=>{let e={script$:null};return{load:(s,d)=>e.script$||(e.script$=(0,O.Q)(()=>{const r=s.createElement("script");return r.referrerPolicy="origin",r.type="application/javascript",r.src=d,s.head.appendChild(r),(0,f.w)(r,"load").pipe((0,x.U)(1),(0,A.e)(void 0))}).pipe((0,T.C)({bufferSize:1,refCount:!0}))),reinitialize:()=>{e={script$:null}}}})(),V=new n.UbH("TINYMCE_SCRIPT_SRC"),H={provide:a.Y6,useExisting:(0,n.wd)(()=>z),multi:!0};let z=(()=>{class e extends F{constructor(t,s,d,r){super(),this.platformId=d,this.tinymceScriptSrc=r,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=L,this.destroy$=new U.E,this.initialise=()=>{const g={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:j(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:h=>{this._editor=h,u(h,"init",this.destroy$).subscribe(()=>{this.initEditor(h)}),((e,o,t)=>{(e=>{const o=E(e.ignoreEvents,[]);return E(e.allowedEvents,y).filter(s=>y.includes(s)&&!o.includes(s))})(e).forEach(d=>{const r=e[d];u(o,d.substring(2),t).subscribe(g=>{r.observers.length>0&&e.ngZone.run(()=>r.emit({event:g,editor:o}))})})})(this,h,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(h)}};M(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{c().init(g)})},this._elementRef=t,this.ngZone=s}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(b(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(0,m.c0)(this.platformId)&&(this.id=this.id||(e=>{const t=(new Date).getTime(),s=Math.floor(1e9*Math.random());return v++,"tiny-angular_"+s+v+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==c()?this.initialise():this._element&&this._element.ownerDocument&&$.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,C.a)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==c()&&c().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,M(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return b(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){u(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),u(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return e.\u0275fac=function(t){return new(t||e)(n.GI1(n.GMv),n.GI1(n.WW2),n.GI1(n.AHE),n.GI1(V,8))},e.\u0275cmp=n.In1({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[n.M5G([H]),n.eg9,n.UHJ],decls:1,vars:0,template:function(t,s){1&t&&n.yuY(0,B,0,0,"ng-template")},dependencies:[m.MD,a.y],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var _=i(5128),l=i(1752),w=i(2532);function X(e,o){1&e&&(n.SAx(0),n.OEk(1,"Ph\u1ea7n b\u1eaft bu\u1ed9c"),n.k70())}function k(e,o){1&e&&n.yuY(0,X,2,0,"ng-container",8),2&e&&n.E7m("ngIf",o.$implicit.hasError("required"))}let Y=(()=>{class e{constructor(t){this.fb=t,this.pageHeaderInfo={title:"V\u0103n b\u1ea3n phong ph\xfa, m\u1ecdi ng\u01b0\u1eddi lu\xf4n th\xedch s\u1eed d\u1ee5ng v\u0103n b\u1ea3n hoa m\u1ef9 \u0111\u1ec3 th\u1ec3 hi\u1ec7n nh\u1eefng c\u1ea3m x\xfac tr\u1ed1ng r\u1ed7ng c\u1ee7a m\xecnh",breadcrumb:["Home","Ti\u1ec7n \xedch m\u1edf r\u1ed9ng","V\u0103n b\u1ea3n phong ph\xfa"]},this.localUrl="http://139.9.225.248:8088",this.uploadRichFileUrl=R.OU.production?`${this.localUrl}/rich-upload`:"/site/rich-upload",this.validateForm=this.fb.group({detail:["",[a.AQ.required]]}),this.editInit={images_upload_url:this.uploadRichFileUrl,branding:!1,height:500,convert_urls:!1,menubar:!1,plugins:["image"],fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",language:"zh_CN",toolbar:"|bold|fontselect|fontsizeselect|styleselect|removeformat|aligncenter  alignright alignjustify | image"}}ngOnInit(){}static#n=this.\u0275fac=function(s){return new(s||e)(n.GI1(a.WW))};static#e=this.\u0275cmp=n.In1({type:e,selectors:[["app-rich-text"]],standalone:!0,features:[n.UHJ],decls:12,vars:16,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-form","",1,"form-wrap",3,"formGroup"],["nz-col","",3,"nzLg","nzMd","nzSm","nzXl","nzXs","nzXXl"],["nzFor","detail","nzRequired","","nzSpan","24"],[3,"nzErrorTip","nzLg","nzMd","nzSm","nzXl","nzXXl"],["formControlName","detail",3,"apiKey","init"],["combineTpl",""],[4,"ngIf"]],template:function(s,d){if(1&s&&(n.wR5(0,"app-page-header",0),n.I0R(1,"div",1)(2,"nz-card"),n.wR5(3,"app-water-mark"),n.I0R(4,"form",2)(5,"nz-form-item",3)(6,"nz-form-label",4),n.OEk(7,"m\xf4 t\u1ea3"),n.C$Y(),n.I0R(8,"nz-form-control",5),n.wR5(9,"editor",6),n.C$Y()()()()(),n.yuY(10,k,1,1,"ng-template",null,7,n.gJz)),2&s){const r=n.Gew(11);n.E7m("pageHeaderInfo",d.pageHeaderInfo),n.yG2(4),n.E7m("formGroup",d.validateForm),n.yG2(),n.E7m("nzLg",24)("nzMd",24)("nzSm",24)("nzXl",24)("nzXs",24)("nzXXl",24),n.yG2(3),n.E7m("nzErrorTip",r)("nzLg",18)("nzMd",24)("nzSm",24)("nzXl",18)("nzXXl",18),n.yG2(),n.E7m("apiKey","95b1w09g3ruzin5ylg5inr4afxzm3oxotroc0ofkh8pwcefz")("init",d.editInit)}},dependencies:[I.Q,_.iq,_.Q9,P.g,a.y,a.sz,a.ue,a.u,l.WO,w.QD,w.ox,l.BN,l.qU,l.Qo,l.YZ,a.sl,a.uW,a.Wo,w.Ko,z,m.u_],encapsulation:2,changeDetection:0})}return e})()}}]);