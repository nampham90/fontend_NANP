"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[7052],{7052:(tt,C,o)=>{o.r(C),o.d(C,{HuongdanComponent:()=>q});var t=o(4496),p=o(4872),s=o(6504),T=o(9072),h=o(8824),S=o(472),_=o(8068),I=o(8332),G=o(3652),A=o(2624),H=o(5072),R=o(872),y=o(7436),D=o(7340),X=o(688),F=o(788),g=o(460),m=o(1752),d=o(2532),c=o(2605),b=o(9432),z=o(2700),N=o(9116);let O=(()=>{class a{constructor(n){this.modalRef=n,this.isEdit=!1,this.fb=(0,t.uUt)(s.im),this.vf=(0,t.uUt)(X.u),this.message=(0,t.uUt)(b.yo)}getAsyncFnData(n){return(0,z.of)(n)}getCurrentValue(){return(0,F.qg)(this.addEditForm)?(0,z.of)(this.addEditForm.value):(0,z.of)(!1)}get f(){return this.addEditForm.controls}ngOnInit(){this.initForm(),Object.keys(this.params).length>0&&this.addEditForm.patchValue(this.params)}initForm(){this.addEditForm=this.fb.group({idyoutube:[null,[s.AQ.required]],urldisplayid:[null,[s.AQ.required]],title:[null],content:[null]})}static#t=this.\u0275fac=function(i){return new(i||a)(t.GI1(N.U7))};static#n=this.\u0275cmp=t.In1({type:a,selectors:[["app-huongdan-modal"]],standalone:!0,features:[t.UHJ],decls:21,vars:17,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","idyoutube",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp ID Youtube",3,"nzSm","nzXs"],["nz-input","","formControlName","idyoutube","name","idyoutube","placeholder","Vui l\xf2ng nh\u1eadp ID Youtube","id","idyoutube"],["nzRequired","","nzFor","urldisplayid",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp m\xe3 m\xe0n h\xecnh",3,"nzSm","nzXs"],["nz-input","","formControlName","urldisplayid","name","urldisplayid","placeholder","vd: khachhang/spkh00101","id","urldisplayid"],["nzFor","title",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp ",3,"nzSm","nzXs"],["nz-input","","formControlName","title","name","title","placeholder","Vui l\xf2ng nh\u1eadp ...","id","title"],["nzFor","content",3,"nzSm","nzXs"],["nzErrorTip","Vui l\xf2ng nh\u1eadp ...",3,"nzSm","nzXs"],["nz-input","","formControlName","content","name","content","placeholder","Vui l\xf2ng nh\u1eadp ...","id","content"]],template:function(i,e){1&i&&(t.I0R(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),t.OEk(3,"ID Youtube"),t.C$Y(),t.I0R(4,"nz-form-control",2),t.wR5(5,"input",3),t.C$Y()(),t.I0R(6,"nz-form-item")(7,"nz-form-label",4),t.OEk(8,"M\xe3 m\xe0n h\xecnh"),t.C$Y(),t.I0R(9,"nz-form-control",5),t.wR5(10,"input",6),t.C$Y()(),t.I0R(11,"nz-form-item")(12,"nz-form-label",7),t.OEk(13,"Ti\xeau \u0111\u1ec1"),t.C$Y(),t.I0R(14,"nz-form-control",8),t.wR5(15,"input",9),t.C$Y()(),t.I0R(16,"nz-form-item")(17,"nz-form-label",10),t.OEk(18,"N\u1ed9i dung"),t.C$Y(),t.I0R(19,"nz-form-control",11),t.wR5(20,"input",12),t.C$Y()()()),2&i&&(t.E7m("formGroup",e.addEditForm),t.yG2(2),t.E7m("nzSm",4)("nzXs",24),t.yG2(2),t.E7m("nzSm",18)("nzXs",24),t.yG2(3),t.E7m("nzSm",4)("nzXs",24),t.yG2(2),t.E7m("nzSm",18)("nzXs",24),t.yG2(3),t.E7m("nzSm",4)("nzXs",24),t.yG2(2),t.E7m("nzSm",18)("nzXs",24),t.yG2(3),t.E7m("nzSm",4)("nzXs",24),t.yG2(2),t.E7m("nzSm",18)("nzXs",24))},dependencies:[s.y,s.sz,s.ot,s.ue,s.u,m.WO,d.QD,d.ox,m.BN,m.qU,m.Qo,m.YZ,s.sl,s.uW,s.Wo,d.Ko,c.OA,c.cv,g.EV],encapsulation:2,changeDetection:0})}return a})(),Y=(()=>{class a{constructor(){this.modalWrapService=(0,t.uUt)(D.K)}getContentComponent(){return O}show(n={},i){return this.modalWrapService.show(this.getContentComponent(),n,i)}static#t=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275prov=t.wxM({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var k=o(948),E=o(5128),v=o(6088),L=o(6844),U=o(9276),M=o(3064),x=o(5584);const $=["operationTpl"];function P(a,u){if(1&a){const n=t.KQA();t.I0R(0,"button",20),t.qCj("click",function(){t.usT(n);const e=t.GaO();return t.CGJ(e.showVideo())}),t.wR5(1,"span",21),t.OEk(2,"H\u01b0\u1edbng d\u1eabn "),t.C$Y()}2&a&&t.E7m("nzSize","large")}function Q(a,u){if(1&a){const n=t.KQA();t.I0R(0,"span",23)(1,"button",24),t.qCj("click",function(){t.usT(n);const e=t.GaO().id,r=t.GaO();return t.CGJ(r.edit(e))}),t.OEk(2),t.C$Y()()}if(2&a){const n=t.GaO(2);t.yG2(2),t.cNF(n.formItemNm[10])}}function V(a,u){if(1&a&&t.yuY(0,Q,3,1,"span",22),2&a){const n=t.GaO();t.E7m("appAuth",n.ActionCode.HuongdanUpdate)}}function j(a,u){}function J(a,u){}function B(a,u){if(1&a){const n=t.KQA();t.I0R(0,"button",27),t.qCj("click",function(){t.usT(n);const e=t.GaO(2);return t.CGJ(e.add())}),t.wR5(1,"i",28),t.OEk(2),t.C$Y()}if(2&a){const n=t.GaO(2);t.yG2(2),t.oRS(" ",n.formItemNm[8]," ")}}function K(a,u){if(1&a){const n=t.KQA();t.I0R(0,"button",29),t.qCj("click",function(){t.usT(n);const e=t.GaO(2);return t.CGJ(e.allDel())}),t.wR5(1,"i",30),t.OEk(2),t.C$Y()}if(2&a){const n=t.GaO(2);t.yG2(2),t.oRS(" ",n.formItemNm[9]," ")}}function W(a,u){if(1&a&&t.yuY(0,B,3,1,"button",25)(1,K,3,1,"button",26),2&a){const n=t.GaO();t.E7m("appAuth",n.ActionCode.HuongdanAdd),t.yG2(),t.E7m("appAuth",n.ActionCode.HuongdanallDel)}}const w=()=>({"padding-bottom":0}),Z=()=>({xs:8,sm:16,md:24});let q=(()=>{class a extends L.G{constructor(){super(...arguments),this.message=(0,t.uUt)(b.yo),this.huongdanModalService=(0,t.uUt)(Y),this.cdr=(0,t.uUt)(t.kD9),this.spinService=(0,t.uUt)(U._),this.dataService=(0,t.uUt)(_.y),this.youtubeModalService=(0,t.uUt)(k.M),this.router=(0,t.uUt)(T.E5),this.menusService=(0,t.uUt)(I.O),this.ActionCode=S.i,this.searchParam={},this.dataList=[],this.checkedCashArray=[],this.visibleOptions=[]}ngOnInit(){super.ngOnInit(),this.initTable(),this.visibleOptions=[...y.e.transformMapToArray(y.c.visible,2)]}add(){this.huongdanModalService.show({nzTitle:"Th\xeam m\u1edbi"}).subscribe(n=>{!n||0===n.status||(this.tableLoading(!0),this.addEditData(n.modalValue,"Create"))},n=>this.tableLoading(!1))}edit(n){this.dataService.Detail(n).pipe((0,p.ay)(this.destroyRef)).subscribe(i=>{this.huongdanModalService.show({nzTitle:this.formItemNm[10]},i).subscribe(({modalValue:e,status:r})=>{0!==r&&(e.id=n,this.tableLoading(!0),this.addEditData(e,"Update"))})})}addEditData(n,i){this.dataService[i](n).pipe((0,h.U)(()=>{this.tableLoading(!1)})).subscribe(e=>{this.getDataList()})}allDel(){}searchName(n){this.dataService.PostSearchParams({pageSize:this.tableConfig.pageSize,pageNum:1,filters:n.target.value}).pipe((0,h.U)(()=>{this.tableLoading(!1)}),(0,p.ay)(this.destroyRef)).subscribe(e=>{console.log(e);const{list:r,total:l,pageNum:f}=e;this.dataList=[...r],this.tableConfig.total=l,this.tableConfig.pageIndex=f,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray]})}getDataList(n){this.tableLoading(!0),this.dataService.PostAll({pageSize:this.tableConfig.pageSize,pageNum:n?.pageIndex||this.tableConfig.pageIndex,filters:this.searchParam}).pipe((0,h.U)(()=>{this.tableLoading(!1)}),(0,p.ay)(this.destroyRef)).subscribe(e=>{const{list:r,total:l,pageNum:f}=e;this.dataList=[...r],this.tableConfig.total=l,this.tableConfig.pageIndex=f,this.tableLoading(!1),this.checkedCashArray=[...this.checkedCashArray]})}tableChangeDectction(){this.dataList=[...this.dataList],this.cdr.detectChanges()}tableLoading(n){this.tableConfig.loading=n,this.tableChangeDectction()}resetForm(){this.searchParam={},this.getDataList()}selectedChecked(n){this.checkedCashArray=[...n]}changePageSize(n){this.tableConfig.pageSize=n}reloadTable(){this.message.info("\u0110\xe3 \u0111\u01b0\u1ee3c l\xe0m m\u1edbi"),this.getDataList()}initTable(){this.tableConfig={showCheckbox:!1,headers:[{title:this.formItemNm[12],field:"idyoutube",width:180},{title:this.formItemNm[13],width:180,field:"urldisplayid"},{title:this.formItemNm[14],width:120,field:"title"},{title:this.formItemNm[15],width:150,field:"content"},{title:this.formItemNm[16],tdTemplate:this.operationTpl,width:250,fixed:!0,fixedDir:"right"}],total:0,loading:!0,pageSize:10,pageIndex:1}}static#t=this.\u0275fac=(()=>{let n;return function(e){return(n||(n=t.otF(a)))(e||a)}})();static#n=this.\u0275cmp=t.In1({type:a,selectors:[["app-huongdan"]],viewQuery:function(i,e){if(1&i&&t.CC$($,7),2&i){let r;t.wto(r=t.Gqi())&&(e.operationTpl=r.first)}},standalone:!0,features:[t.eg9,t.UHJ],decls:31,vars:33,consts:[[3,"pageHeaderInfo"],["huongdanTpl",""],[1,"normal-table-wrap"],["nzHoverable","",1,"m-b-10",3,"nzBodyStyle"],["nz-form",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],[3,"nzFor"],["nz-input","","name","text","placeholder","search name",3,"ngModel","ngModelChange","keyup.enter"],["nz-col","",1,"text-right","p-0","m-b-10",3,"nzXXl","nzXl","nzLg","nzMd","nzSm","nzXs"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","search"],["nz-button","",1,"m-l-15",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],[3,"tableTitle","btnTpl","reload"],[3,"checkedCashArrayFromComment","tableConfig","tableData","selectedChange","changePageSize","changePageNum"],["operationTpl",""],["linkidTpl",""],["sotienno",""],["tableBtns",""],["nz-button","","nzType","primary","nzShape","round",3,"nzSize","click"],["nz-icon","","nzType","star","nzTheme","outline"],["class","operate-text",4,"appAuth"],[1,"operate-text"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary","class","m-r-8",3,"click",4,"appAuth"],["nz-button","","nzType","default",3,"click",4,"appAuth"],["nz-button","","nzType","primary",1,"m-r-8",3,"click"],["nz-icon","","nzType","plus"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","delete"]],template:function(i,e){if(1&i&&(t.wR5(0,"app-page-header",0),t.yuY(1,P,3,1,"ng-template",null,1,t.gJz),t.I0R(3,"div",2)(4,"nz-card",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),t.OEk(10),t.C$Y(),t.I0R(11,"nz-form-control")(12,"input",8),t.iHE("ngModelChange",function(l){return t.kNx(e.searchParam.urldisplayid,l)||(e.searchParam.urldisplayid=l),l}),t.qCj("keyup.enter",function(l){return e.searchName(l)}),t.C$Y()()()(),t.wR5(13,"div",6),t.I0R(14,"div",9)(15,"button",10),t.qCj("click",function(){return e.getDataList()}),t.wR5(16,"i",11),t.OEk(17),t.C$Y(),t.I0R(18,"button",12),t.qCj("click",function(){return e.resetForm()}),t.wR5(19,"i",13),t.OEk(20),t.C$Y()()()()(),t.I0R(21,"app-card-table-wrap",14),t.qCj("reload",function(){return e.reloadTable()}),t.I0R(22,"app-ant-table",15),t.qCj("selectedChange",function(l){return e.selectedChecked(l)})("changePageSize",function(l){return e.changePageSize(l)})("changePageNum",function(l){return e.getDataList(l)}),t.C$Y(),t.yuY(23,V,1,1,"ng-template",null,16,t.gJz)(25,j,0,0,"ng-template",null,17,t.gJz)(27,J,0,0,"ng-template",null,18,t.gJz),t.C$Y(),t.yuY(29,W,2,2,"ng-template",null,19,t.gJz),t.C$Y()),2&i){const r=t.Gew(30);t.E7m("pageHeaderInfo",e.pageHeaderInfo),t.yG2(4),t.E7m("nzBodyStyle",t.q4q(31,w)),t.yG2(2),t.E7m("nzGutter",t.q4q(32,Z)),t.yG2(),t.E7m("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.yG2(3),t.cNF(e.formItemNm[4]),t.yG2(2),t.OKB("ngModel",e.searchParam.urldisplayid),t.yG2(),t.E7m("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.yG2(),t.E7m("nzXXl",8)("nzXl",8)("nzLg",8)("nzMd",12)("nzSm",24)("nzXs",24),t.yG2(),t.E7m("nzType","primary"),t.yG2(2),t.cNF(e.formItemNm[5]),t.yG2(3),t.cNF(e.formItemNm[6]),t.yG2(),t.E7m("tableTitle",e.formItemNm[7])("btnTpl",r),t.yG2(),t.E7m("checkedCashArrayFromComment",e.checkedCashArray)("tableConfig",e.tableConfig)("tableData",e.dataList)}},dependencies:[H.Q,c.OA,c.cv,g.EV,g.Ez,M.k,x.o9,E.iq,E.Q9,s.y,s.sz,s.ot,s.ue,s.u,s._G,s.SC,m.WO,d.QD,d.ox,m.BN,m.qU,m.Qo,m.YZ,A.E,G.Q,v.Wy,v.If,R.s],encapsulation:2,changeDetection:0})}return a})()}}]);