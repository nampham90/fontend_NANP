"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[2488],{2488:(H,v,i)=>{i.r(v),i.d(v,{RichTextComponent:()=>k});var p=i(4755),r=i(9401),P=i(2340),O=i(4895),U=i(5037),e=i(2223),f=i(4968),x=i(9770),I=i(7579),C=i(2722),A=i(5698),T=i(9718),B=i(4782);function F(n,o){}const c=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let N=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const w=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],u=(n,o,t)=>(0,f.R)(n,o).pipe((0,C.R)(t)),y=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let E=0;const S=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),b=n=>typeof n>"u"||""===n?[]:Array.isArray(n)?n:n.split(" "),X=(n,o)=>b(n).concat(b(o)),G=()=>{},M=n=>null==n,V=(()=>{let n={script$:null};return{load:(s,d)=>n.script$||(n.script$=(0,x.P)(()=>{const a=s.createElement("script");return a.referrerPolicy="origin",a.type="application/javascript",a.src=d,s.head.appendChild(a),(0,f.R)(a,"load").pipe((0,A.q)(1),(0,T.h)(void 0))}).pipe((0,B.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),Z=new e.OlP("TINYMCE_SCRIPT_SRC"),$={provide:r.JU,useExisting:(0,e.Gpc)(()=>z),multi:!0};let z=(()=>{class n extends N{constructor(t,s,d,a){super(),this.platformId=d,this.tinymceScriptSrc=a,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=G,this.destroy$=new I.x,this.initialise=()=>{const g={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:X(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:h=>{this._editor=h,u(h,"init",this.destroy$).subscribe(()=>{this.initEditor(h)}),((n,o,t)=>{(n=>{const o=y(n.ignoreEvents,[]);return y(n.allowedEvents,w).filter(s=>w.includes(s)&&!o.includes(s))})(n).forEach(d=>{const a=n[d];u(o,d.substring(2),t).subscribe(g=>{a.observers.length>0&&n.ngZone.run(()=>a.emit({event:g,editor:o}))})})})(this,h,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(h)}};S(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{c().init(g)})},this._elementRef=t,this.ngZone=s}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(M(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(0,p.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),s=Math.floor(1e9*Math.random());return E++,"tiny-angular_"+s+E+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==c()?this.initialise():this._element&&this._element.ownerDocument&&V.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,C.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==c()&&c().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,S(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return M(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){u(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),u(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(Z,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([$]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,s){1&t&&e.YNc(0,F,0,0,"ng-template")},dependencies:[p.ez,r.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var R=i(3642),l=i(4701),m=i(1929);function J(n,o){1&n&&(e.ynx(0),e._uU(1,"Ph\u1ea7n b\u1eaft bu\u1ed9c"),e.BQk())}function Y(n,o){1&n&&e.YNc(0,J,2,0,"ng-container",8),2&n&&e.Q6J("ngIf",o.$implicit.hasError("required"))}let k=(()=>{class n{constructor(t){this.fb=t,this.pageHeaderInfo={title:"V\u0103n b\u1ea3n phong ph\xfa, m\u1ecdi ng\u01b0\u1eddi lu\xf4n th\xedch s\u1eed d\u1ee5ng v\u0103n b\u1ea3n hoa m\u1ef9 \u0111\u1ec3 th\u1ec3 hi\u1ec7n nh\u1eefng c\u1ea3m x\xfac tr\u1ed1ng r\u1ed7ng c\u1ee7a m\xecnh",breadcrumb:["Home","Ti\u1ec7n \xedch m\u1edf r\u1ed9ng","V\u0103n b\u1ea3n phong ph\xfa"]},this.localUrl="http://139.9.225.248:8088",this.uploadRichFileUrl=P.NZ.production?`${this.localUrl}/rich-upload`:"/site/rich-upload",this.validateForm=this.fb.group({detail:["",[r.kI.required]]}),this.editInit={images_upload_url:this.uploadRichFileUrl,branding:!1,height:500,convert_urls:!1,menubar:!1,plugins:["image"],fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",language:"zh_CN",toolbar:"|bold|fontselect|fontsizeselect|styleselect|removeformat|aligncenter  alignright alignjustify | image"}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.j3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rich-text"]],standalone:!0,features:[e.jDz],decls:12,vars:16,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-form","",1,"form-wrap",3,"formGroup"],["nz-col","",3,"nzLg","nzMd","nzSm","nzXl","nzXs","nzXXl"],["nzFor","detail","nzRequired","","nzSpan","24"],[3,"nzErrorTip","nzLg","nzMd","nzSm","nzXl","nzXXl"],["formControlName","detail",3,"apiKey","init"],["combineTpl",""],[4,"ngIf"]],template:function(t,s){if(1&t&&(e._UZ(0,"app-page-header",0),e.TgZ(1,"div",1)(2,"nz-card"),e._UZ(3,"app-water-mark"),e.TgZ(4,"form",2)(5,"nz-form-item",3)(6,"nz-form-label",4),e._uU(7,"m\xf4 t\u1ea3"),e.qZA(),e.TgZ(8,"nz-form-control",5),e._UZ(9,"editor",6),e.qZA()()()()(),e.YNc(10,Y,1,1,"ng-template",null,7,e.W1O)),2&t){const d=e.MAs(11);e.Q6J("pageHeaderInfo",s.pageHeaderInfo),e.xp6(4),e.Q6J("formGroup",s.validateForm),e.xp6(1),e.Q6J("nzLg",24)("nzMd",24)("nzSm",24)("nzXl",24)("nzXs",24)("nzXXl",24),e.xp6(3),e.Q6J("nzErrorTip",d)("nzLg",18)("nzMd",24)("nzSm",24)("nzXl",18)("nzXXl",18),e.xp6(1),e.Q6J("apiKey","95b1w09g3ruzin5ylg5inr4afxzm3oxotroc0ofkh8pwcefz")("init",s.editInit)}},dependencies:[O.q,R.vh,R.bd,U.U,r.u5,r._Y,r.JJ,r.JL,l.U5,m.t3,m.SK,l.Lr,l.Nx,l.iK,l.Fd,r.UX,r.sg,r.u,m.Jb,z,p.O5],encapsulation:2,changeDetection:0}),n})()}}]);