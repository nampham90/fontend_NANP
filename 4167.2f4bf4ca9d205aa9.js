"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[4167],{4167:(M,s,o)=>{o.r(s),o.d(s,{UploadComponent:()=>L});var g=o(4755),u=o(9401),f=o(2340),h=o(4895),C=o(4902),m=o(4259),p=o(3642),d=o(4247),r=o(4701),l=o(1929),z=o(2701),c=o(1352),n=o(2223),A=o(3272),D=o(2242);function U(e,i){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.errors.message)}}function T(e,i){1&e&&(n.ynx(0),n._uU(1,"Ph\u1ea7n b\u1eaft bu\u1ed9c"),n.BQk())}function O(e,i){if(1&e&&(n.YNc(0,U,2,1,"ng-container",18),n.YNc(1,T,2,0,"ng-container",18)),2&e){const t=i.$implicit;n.Q6J("ngIf",t.hasError("message")),n.xp6(1),n.Q6J("ngIf",t.hasError("required"))}}let L=(()=>{class e{constructor(t,a){this.message=t,this.fb=a,this.pageHeaderInfo={title:"\u6587\u4ef6\u4e0a\u4f20",breadcrumb:["\u9996\u9875","\u529f\u80fd","\u6587\u4ef6\u4e0a\u4f20"],desc:"\u7b80\u5355\u5f04\u4e00\u4e0b\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u670d\u52a1\u5668\u7edf\u4e00\u8fd4\u56de\u7684\u6587\u4ef6"},this.uploadUrl=f.NZ.production?"/api/file/test/upload/document/":"/site/api/file/test/upload/document/",this.fileList=[],this.fileFormList=[]}handleChange(t){"success"===t.type&&0===t.file.response.code&&this.message.success(`\u670d\u52a1\u5668\u4e0a\u8fd4\u56de\u7684\u6587\u4ef6\u8def\u5f84\uff1a${t.file.response.data.data}`)}uploadFn(t){"success"===t.type&&0===t.file.response.code&&this.validateForm.get("file")?.setValue(t.file.response.data.data)}resetForm(){this.validateForm.reset(),this.fileFormList=[]}submitForm(){(0,C.r7)(this.validateForm)}initForm(){this.validateForm=this.fb.group({file:[null,[u.kI.required]]})}ngOnInit(){this.initForm()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(A.dD),n.Y36(u.qu))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-upload"]],standalone:!0,features:[n.jDz],decls:27,vars:22,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzTitle","V\xed d\u1ee5 \u0111\u01a1n gi\u1ea3n, \u0111\u1ecba ch\u1ec9 t\u1ec7p \u0111\u01b0\u1ee3c m\xe1y ch\u1ee7 tr\u1ea3 v\u1ec1 l\xe0 h\u1ee3p nh\u1ea5t v\xe0 ch\u1ee9c n\u0103ng tr\xecnh di\u1ec5n s\u1ebd kh\xf4ng l\u01b0u t\u1ec7p \u0111\xe3 t\u1ea3i l\xean."],[3,"nzAction","nzFileList","nzLimit","nzName","nzShowButton","nzSize","nzChange"],["nz-button",""],["nz-icon","","nzType","upload"],["nzTitle","\u5d4c\u5165\u8868\u5355\uff0c\u52a0\u5165\u8868\u5355\u9a8c\u8bc1",1,"m-t-20"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nz-col","","nzSpan","24"],[3,"nzErrorTip","nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzAction","nzFileList","nzLimit","nzName","nzSize","nzChange"],["formControlName","file",3,"hidden"],["nz-row","",1,"m-t-20"],[3,"nzSpan"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",1,"m-l-10",3,"click"],["combineTpl",""],[4,"ngIf"]],template:function(t,a){if(1&t&&(n._UZ(0,"app-page-header",0),n.TgZ(1,"div",1)(2,"nz-card",2)(3,"nz-upload",3),n.NdJ("nzChange",function(E){return a.handleChange(E)}),n.TgZ(4,"button",4),n._UZ(5,"i",5),n._uU(6," Nh\u1eadp nguy\xean li\u1ec7u (t\u1ea3i l\xean th\u1eed nghi\u1ec7m t\u1ed1i \u0111a 5M) "),n.qZA()()(),n.TgZ(7,"nz-card",6)(8,"form",7)(9,"nz-form-item",8)(10,"nz-form-control",9)(11,"nz-form-label",10),n._uU(12,"ru\u1ed9t th\u1eeba:"),n.qZA(),n.TgZ(13,"nz-form-control",10)(14,"nz-upload",11),n.NdJ("nzChange",function(E){return a.uploadFn(E)}),n.TgZ(15,"button",4),n._UZ(16,"i",5),n._uU(17," T\u1ea3i l\xean t\u1ec7p \u0111\xednh k\xe8m (t\u1ea3i l\xean th\u1eed nghi\u1ec7m t\u1ed1i \u0111a 5M) "),n.qZA(),n._UZ(18,"input",12),n.qZA()()(),n.TgZ(19,"nz-form-item",13)(20,"nz-form-control",14)(21,"button",15),n.NdJ("click",function(){return a.submitForm()}),n._uU(22,"Submit"),n.qZA(),n.TgZ(23,"button",16),n.NdJ("click",function(){return a.resetForm()}),n._uU(24,"c\xe0i l\u1ea1i"),n.qZA()()()()()()(),n.YNc(25,O,2,2,"ng-template",null,17,n.W1O)),2&t){const _=n.MAs(26);n.Q6J("pageHeaderInfo",a.pageHeaderInfo),n.xp6(3),n.Q6J("nzAction",a.uploadUrl)("nzFileList",a.fileList)("nzLimit",1)("nzName","document")("nzShowButton",!0)("nzSize",5120),n.xp6(5),n.Q6J("formGroup",a.validateForm),n.xp6(2),n.Q6J("nzErrorTip",_)("nzSm",6)("nzXs",24),n.xp6(1),n.Q6J("nzSm",14)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(1),n.Q6J("nzAction",a.uploadUrl)("nzFileList",a.fileFormList)("nzLimit",1)("nzName","document")("nzSize",5120),n.xp6(4),n.Q6J("hidden",!0),n.xp6(2),n.Q6J("nzSpan",14)}},dependencies:[h.q,p.vh,p.bd,c.cS,c.FY,m.sL,m.ix,D.w,d.dQ,d.vG,z.PV,z.Ls,u.u5,u._Y,u.Fj,u.JJ,u.JL,r.U5,l.t3,l.SK,r.Lr,r.Nx,r.iK,r.Fd,u.UX,u.sg,u.u,l.Jb,g.O5],encapsulation:2,changeDetection:0}),e})()}}]);