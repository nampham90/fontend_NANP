"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[121],{121:(S,g,i)=>{i.r(g),i.d(g,{ExModalComponent:()=>y});var d=i(2164),u=i(2223),p=i(5855),f=i(4895),s=i(8551);let F=(()=>{class t{constructor(e,n){this.modal=e,this.dragDrop=n}createDragHandler(e,n){const o=document.querySelector(`.${e}`),a=o.querySelector(".ant-modal-content"),r=a.querySelector("confirm"===n?".ant-modal-body":".ant-modal-header");return this.fixedWrapElementStyle(o),this.setMaxZIndex(a,o),this.dragDrop.createDrag(r).withHandles([r]).withRootElement(a)}getRandomCls(){return t.DRAG_CLS_PREFIX+Date.now()+Math.random().toString().replace("0.","")}fixedWrapElementStyle(e){e.style.pointerEvents="none"}setMaxZIndex(e,n){e.addEventListener("mousedown",()=>{const o=this.getModalMaxZIndex(n);o&&(n.style.zIndex=`${o+1}`)},!1)}getModalMaxZIndex(e){const n=this.getZIndex(e),o=this.modal.openModals.reduce((a,r)=>{const c=(r.containerInstance.host||r.containerInstance.elementRef).nativeElement;if(e===c)return a;const D=this.getZIndex(c);return D>a?D:a},0);return o>=n?o:null}getZIndex(e){return+getComputedStyle(e,null).zIndex}}return t.DRAG_CLS_PREFIX="NZ-MODAL-WRAP-CLS-",t.\u0275fac=function(e){return new(e||t)(u.LFG(s.Sf),u.LFG(d.v0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(e,n){this.modal=e,this.modalDragService=n;const o=this.modalDragService.getRandomCls();e.afterOpen.subscribe(()=>{const a=e.getElement();if(!a||-1!==a.className.indexOf(F.DRAG_CLS_PREFIX))return;a.classList.add(o);const r=this.modalDragService.createDragHandler(o,e.nzModalType);e.afterClose.subscribe(()=>{r&&!r.dropped&&r.dispose()})})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.du,1),u.Y36(F))},t.\u0275dir=u.lG2({type:t,selectors:[["nz-modal","nzxModalDrag",""]],standalone:!0}),t})();var E=i(4259),m=i(4247),_=i(9646),C=i(7017);let B=(()=>{class t extends C.L{constructor(e){super(e),this.modalRef=e,this.params={}}getCurrentValue(){return(0,_.of)(!0)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.Lf))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-drag"]],standalone:!0,features:[u.qOj,u.jDz],decls:18,vars:0,template:function(e,n){1&e&&(u.TgZ(0,"p"),u._uU(1,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(2,"p"),u._uU(3,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(8,"p"),u._uU(9,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(10,"p"),u._uU(11,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(12,"p"),u._uU(13,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(14,"p"),u._uU(15,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA(),u.TgZ(16,"p"),u._uU(17,"\u4e00\u5207\u90fd\u5c06\u4e00\u53bb\u6773\u7136\uff0c\u4efb\u4f55\u4eba\u90fd\u65e0\u6cd5\u5c06\u5176\u6355\u83b7\u3002\u6211\u4eec\u4fbf\u662f\u8fd9\u6837\u6d3b\u7740\u3002"),u.qZA())},encapsulation:2,changeDetection:0}),t})(),z=(()=>{class t{constructor(e){this.modalWrapService=e}getContentComponent(){return B}show(e={},n){return this.modalWrapService.show(this.getContentComponent(),e,n)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(C.U))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A=(()=>{class t{constructor(e,n){this.modal=e,this.modalDragService=n}create(e){return this.createModalWidthDrag(e,n=>this.modal.create(n))}get openModals(){return this.modal.openModals}get afterAllClosed(){return this.modal._afterAllClosed}closeAll(){this.modal.closeAll()}confirm(e,n){return this.createModalWidthDrag(e,o=>this.modal.confirm(o))}info(e){return this.createModalWidthDrag(e,n=>this.modal.info(n))}success(e){return this.createModalWidthDrag(e,n=>this.modal.success(n))}error(e){return this.createModalWidthDrag(e,n=>this.modal.error(n))}warning(e){return this.createModalWidthDrag(e,n=>this.modal.warning(n))}createModalWidthDrag(e,n){const o=this.modalDragService.getRandomCls(),a=this.createModalConfig(e,o),r=n(a);return r.afterOpen.subscribe(()=>{const c=this.modalDragService.createDragHandler(o,a.nzModalType);r.afterClose.subscribe(()=>{c&&!c.dropped&&c.dispose()})}),r}createModalConfig(e,n){const r=Object.assign({nzMaskClosable:!1,nzTitle:"\u63d0\u793a"},e,!1===e.nzMask?{nzMaskStyle:{display:"none"}}:{});return r.nzWrapClassName=`${r.nzWrapClassName||""} ${n}`,r}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(s.Sf),u.LFG(F))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=i(2242);const M=["dragTpl"];function T(t,l){1&t&&(u.ynx(0),u.TgZ(1,"p"),u._uU(2,"\u5e8a\u524d\u660e\u6708\u5149"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"\u7591\u4f3c\u5730\u4e0a\u971c"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"\u4e3e\u5934\u671b\u660e\u6708"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"\u4f4e\u5934\u601d\u6545\u4e61"),u.qZA(),u.BQk())}function b(t,l){1&t&&(u.ynx(0),u.TgZ(1,"p"),u._uU(2,"\u5e8a\u524d\u660e\u6708\u5149"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"\u7591\u4f3c\u5730\u4e0a\u971c"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"\u4e3e\u5934\u671b\u660e\u6708"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"\u4f4e\u5934\u601d\u6545\u4e61"),u.qZA(),u.BQk())}function v(t,l){1&t&&(u.TgZ(0,"div",7),u._uU(1,"\u8fd9\u662f\u4e00\u4e2a\u53ef\u62d6\u52a8modal"),u.qZA())}let y=(()=>{class t{constructor(e,n){this.dragService=e,this.modalDragService=n,this.pageHeaderInfo={title:"\u62d6\u52a8Modal\uff0c\u6811\u632a\u6b7b\uff0c\u4eba\u632a\u6d3b",breadcrumb:["\u9996\u9875","\u62d6\u62fdmodal"]},this.destroyRef=(0,u.f3M)(u.ktI),this.isVisible=!1,this.isVisibleByDir=!1}handleOk(){console.log("Button ok clicked!"),this.isVisible=!1,this.isVisibleByDir=!1}handleCancel(){console.log("Button cancel clicked!"),this.isVisible=!1,this.isVisibleByDir=!1}showDailog1(){this.isVisible=!0}showDailogConfirm(){this.modalDragService.confirm({nzTitle:"Confirm",nzContent:"\u63d0\u793a\u4e00\u4e0b\u7684\u5185\u5bb9",nzOnOk:()=>{console.log("\u786e\u5b9a")},nzOnCancel:()=>{console.log("\u53d6\u6d88")}})}showDailogInfo(){this.modalDragService.info({nzTitle:"Info",nzContent:"\u63d0\u793a\u4e00\u4e0b\u7684\u5185\u5bb9"})}showDailogSuccess(){this.modalDragService.success({nzTitle:"Success",nzContent:"\u63d0\u793a\u4e00\u4e0b\u7684\u5185\u5bb9"})}showDailogError(){this.modalDragService.error({nzTitle:"Error",nzContent:"\u63d0\u793a\u4e00\u4e0b\u7684\u5185\u5bb9"})}showDailogWarning(){this.modalDragService.warning({nzTitle:"Warning",nzContent:"\u63d0\u793a\u4e00\u4e0b\u7684\u5185\u5bb9"})}showDailog(){this.dragService.show({nzTitle:"\u62d6\u52a8\u7684title",nzMask:!1,nzMaskStyle:{display:"none"},nzWrapClassName:"pointer-events-none"}).pipe((0,p.sL)(this.destroyRef)).subscribe(({modalValue:e,status:n})=>{0!==n&&console.log(e)})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(z),u.Y36(A))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-ex-modal"]],viewQuery:function(e,n){if(1&e&&u.Gf(M,7),2&e){let o;u.iGM(o=u.CRH())&&(n.dragTpl=o.first)}},standalone:!0,features:[u.jDz],decls:24,vars:5,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nz-button","",1,"m-r-8","m-b-8",3,"click"],[3,"nzTitle","nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzxModalDrag","",3,"nzTitle","nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["dragTpl",""],["cdkDrag","","cdkDragBoundary","nz-modal-container","cdkDragHandle","","cdkDragRootElement",".ant-modal-content",1,"hand-model-move"]],template:function(e,n){if(1&e&&(u._UZ(0,"app-page-header",0),u.TgZ(1,"div",1)(2,"button",2),u.NdJ("click",function(){return n.showDailog()}),u._uU(3,"\u670d\u52a1\u7684\u65b9\u5f0f\u521b\u5efa\u81ea\u5b9a\u4e49modal"),u.qZA(),u.TgZ(4,"button",2),u.NdJ("click",function(){return n.showDailog1()}),u._uU(5,"modal\u6807\u7b7e\u901a\u8fc7\u4f20nzTitle\u6765\u8fdb\u884c\u62d6\u62fd"),u.qZA(),u.TgZ(6,"button",2),u.NdJ("click",function(){return n.showDailogConfirm()}),u._uU(7,"\u521b\u5efa\u53ef\u62d6\u52a8\u7684confirm\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA(),u.TgZ(8,"button",2),u.NdJ("click",function(){return n.showDailogInfo()}),u._uU(9,"\u521b\u5efa\u53ef\u62d6\u52a8\u7684info\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA(),u.TgZ(10,"button",2),u.NdJ("click",function(){return n.showDailogSuccess()}),u._uU(11,"\u521b\u5efa\u53ef\u62d6\u52a8\u7684success\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA(),u.TgZ(12,"button",2),u.NdJ("click",function(){return n.showDailogError()}),u._uU(13,"\u521b\u5efa\u53ef\u62d6\u52a8\u7684error\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA(),u.TgZ(14,"button",2),u.NdJ("click",function(){return n.showDailogWarning()}),u._uU(15,"\u521b\u5efa\u53ef\u62d6\u52a8\u7684warning\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA(),u.TgZ(16,"button",2),u.NdJ("click",function(){return n.isVisibleByDir=!0}),u._uU(17,"\u6307\u4ee4\u521b\u5efa\uff08by\u5c71\u95f4\u4e4b\u660e\u6708\uff09"),u.qZA()(),u.TgZ(18,"nz-modal",3),u.NdJ("nzVisibleChange",function(a){return n.isVisible=a})("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()}),u.YNc(19,T,9,0,"ng-container",4),u.qZA(),u.TgZ(20,"nz-modal",5),u.NdJ("nzVisibleChange",function(a){return n.isVisibleByDir=a})("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()}),u.YNc(21,b,9,0,"ng-container",4),u.qZA(),u.YNc(22,v,2,0,"ng-template",null,6,u.W1O)),2&e){const o=u.MAs(23);u.Q6J("pageHeaderInfo",n.pageHeaderInfo),u.xp6(18),u.Q6J("nzTitle",o)("nzVisible",n.isVisible),u.xp6(2),u.Q6J("nzTitle","\u6307\u4ee4\u521b\u5efa\u53ef\u62d6\u62fd")("nzVisible",n.isVisibleByDir)}},dependencies:[f.q,E.sL,E.ix,Z.w,m.dQ,m.vG,s.Qp,s.du,s.Hf,h,d.Zt,d.Bh],encapsulation:2,changeDetection:0}),t})()}}]);