(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[8292],{873:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>Gt});var ee=mt(8250),ft=/rgba?\(([\s.,0-9]+)\)/,B=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Jt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Lt=function(_t,Tt,xt,tt){return _t[tt]+(Tt[tt]-_t[tt])*xt};function $t(_t){return"#"+zt(_t[0])+zt(_t[1])+zt(_t[2])}var w,ve=function(_t){return[parseInt(_t.substr(1,2),16),parseInt(_t.substr(3,2),16),parseInt(_t.substr(5,2),16)]},zt=function(_t){var Tt=Math.round(_t).toString(16);return 1===Tt.length?"0"+Tt:Tt},p=function(_t){if("#"===_t[0]&&7===_t.length)return _t;w||(w=function(){var _t=document.createElement("i");return _t.title="Web Colour Picker",_t.style.display="none",document.body.appendChild(_t),_t}()),w.style.color=_t;var Tt=document.defaultView.getComputedStyle(w,"").getPropertyValue("color");return $t(ft.exec(Tt)[1].split(/\s*,\s*/).map(function(V){return Number(V)}))};const Gt={rgb2arr:ve,gradient:function(_t){var Tt=(0,ee.HD)(_t)?_t.split("-"):_t,xt=(0,ee.UI)(Tt,function(tt){return ve(-1===tt.indexOf("#")?p(tt):tt)});return function(tt){return function(_t,Tt){var xt=isNaN(Number(Tt))||Tt<0?0:Tt>1?1:Number(Tt),tt=_t.length-1,V=Math.floor(tt*xt),It=tt*xt-V,pt=_t[V],re=V===tt?pt:_t[V+1];return $t([Lt(pt,re,It,0),Lt(pt,re,It,1),Lt(pt,re,It,2)])}(xt,tt)}},toRGB:(0,ee.HP)(p),toCSSGradient:function(_t){if(function(_t){return/^[r,R,L,l]{1}[\s]*\(/.test(_t)}(_t)){var Tt,xt=void 0;if("l"===_t[0])xt=(tt=B.exec(_t))[2],Tt="linear-gradient("+(+tt[1]+90)+"deg, ";else if("r"===_t[0]){var tt;Tt="radial-gradient(",xt=(tt=P.exec(_t))[4]}var It=xt.match(Jt);return(0,ee.S6)(It,function(pt,re){var me=pt.split(":");Tt+=me[1]+" "+100*me[0]+"%",re!==It.length-1&&(Tt+=", ")}),Tt+=")"}return _t}}},378:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>B});const B=function(){function P(){this._events={}}return P.prototype.on=function(Jt,Nt,Yt){return this._events[Jt]||(this._events[Jt]=[]),this._events[Jt].push({callback:Nt,once:!!Yt}),this},P.prototype.once=function(Jt,Nt){return this.on(Jt,Nt,!0)},P.prototype.emit=function(Jt){for(var Nt=this,Yt=[],Lt=1;Lt<arguments.length;Lt++)Yt[Lt-1]=arguments[Lt];var ve=this._events["*"]||[],zt=function(pe){for(var w=pe.length,p=0;p<w;p++)if(pe[p]){var st=pe[p],Q=st.callback;st.once&&(pe.splice(p,1),0===pe.length&&delete Nt._events[Jt],w--,p--),Q.apply(Nt,Yt)}};zt(this._events[Jt]||[]),zt(ve)},P.prototype.off=function(Jt,Nt){if(Jt)if(Nt){for(var Yt=this._events[Jt]||[],Lt=Yt.length,$t=0;$t<Lt;$t++)Yt[$t].callback===Nt&&(Yt.splice($t,1),Lt--,$t--);0===Yt.length&&delete this._events[Jt]}else delete this._events[Jt];else this._events={};return this},P.prototype.getEvents=function(){return this._events},P}()},3583:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>Jt});var ee=mt(655),ft=mt(378),B=mt(5998);const Jt=function(Nt){function Yt(Lt){var $t=Nt.call(this)||this;$t.destroyed=!1;var ve=$t.getDefaultCfg();return $t.cfg=(0,B.CD)(ve,Lt),$t}return(0,ee.ZT)(Yt,Nt),Yt.prototype.getDefaultCfg=function(){return{}},Yt.prototype.get=function(Lt){return this.cfg[Lt]},Yt.prototype.set=function(Lt,$t){this.cfg[Lt]=$t},Yt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Yt}(ft.Z)},4838:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>Ua});var ve,zt,ee=mt(655),ft=mt(2260),B=mt(3213),P=mt(5998),Jt=mt(8250),Nt=0,Yt=0,Lt=0,$t=1e3,pe=0,w=0,p=0,st="object"==typeof performance&&performance.now?performance:Date,Q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(nt){setTimeout(nt,17)};function Gt(){return w||(Q(_t),w=st.now()+p)}function _t(){w=0}function Tt(){this._call=this._time=this._next=null}function xt(nt,Z,ut){var At=new Tt;return At.restart(nt,Z,ut),At}function V(){w=(pe=st.now())+p,Nt=Yt=0;try{!function tt(){Gt(),++Nt;for(var Z,nt=ve;nt;)(Z=w-nt._time)>=0&&nt._call.call(null,Z),nt=nt._next;--Nt}()}finally{Nt=0,function pt(){for(var nt,ut,Z=ve,At=1/0;Z;)Z._call?(At>Z._time&&(At=Z._time),nt=Z,Z=Z._next):(ut=Z._next,Z._next=null,Z=nt?nt._next=ut:ve=ut);zt=nt,re(At)}(),w=0}}function It(){var nt=st.now(),Z=nt-pe;Z>$t&&(p-=Z,pe=nt)}function re(nt){Nt||(Yt&&(Yt=clearTimeout(Yt)),nt-w>24?(nt<1/0&&(Yt=setTimeout(V,nt-st.now()-p)),Lt&&(Lt=clearInterval(Lt))):(Lt||(pe=st.now(),Lt=setInterval(It,$t)),Nt=1,Q(V)))}function me(nt,Z,ut){nt.prototype=Z.prototype=ut,ut.constructor=nt}function wt(nt,Z){var ut=Object.create(nt.prototype);for(var At in Z)ut[At]=Z[At];return ut}function Ot(){}Tt.prototype=xt.prototype={constructor:Tt,restart:function(nt,Z,ut){if("function"!=typeof nt)throw new TypeError("callback is not a function");ut=(null==ut?Gt():+ut)+(null==Z?0:+Z),!this._next&&zt!==this&&(zt?zt._next=this:ve=this,zt=this),this._call=nt,this._time=ut,re()},stop:function(){this._call&&(this._call=null,this._time=1/0,re())}};var Vt=1/.7,Pt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J=/^#([0-9a-f]{3,8})$/,Dt=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),te=new RegExp(`^rgb\\(${O},${O},${O}\\)$`),ae=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${kt}\\)$`),Se=new RegExp(`^rgba\\(${O},${O},${O},${kt}\\)$`),W=new RegExp(`^hsl\\(${kt},${O},${O}\\)$`),lt=new RegExp(`^hsla\\(${kt},${O},${O},${kt}\\)$`),ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function j(){return this.rgb().formatHex()}function U(){return this.rgb().formatRgb()}function H(nt){var Z,ut;return nt=(nt+"").trim().toLowerCase(),(Z=J.exec(nt))?(ut=Z[1].length,Z=parseInt(Z[1],16),6===ut?L(Z):3===ut?new X(Z>>8&15|Z>>4&240,Z>>4&15|240&Z,(15&Z)<<4|15&Z,1):8===ut?N(Z>>24&255,Z>>16&255,Z>>8&255,(255&Z)/255):4===ut?N(Z>>12&15|Z>>8&240,Z>>8&15|Z>>4&240,Z>>4&15|240&Z,((15&Z)<<4|15&Z)/255):null):(Z=Dt.exec(nt))?new X(Z[1],Z[2],Z[3],1):(Z=te.exec(nt))?new X(255*Z[1]/100,255*Z[2]/100,255*Z[3]/100,1):(Z=ae.exec(nt))?N(Z[1],Z[2],Z[3],Z[4]):(Z=Se.exec(nt))?N(255*Z[1]/100,255*Z[2]/100,255*Z[3]/100,Z[4]):(Z=W.exec(nt))?we(Z[1],Z[2]/100,Z[3]/100,1):(Z=lt.exec(nt))?we(Z[1],Z[2]/100,Z[3]/100,Z[4]):ht.hasOwnProperty(nt)?L(ht[nt]):"transparent"===nt?new X(NaN,NaN,NaN,0):null}function L(nt){return new X(nt>>16&255,nt>>8&255,255&nt,1)}function N(nt,Z,ut,At){return At<=0&&(nt=Z=ut=NaN),new X(nt,Z,ut,At)}function rt(nt,Z,ut,At){return 1===arguments.length?function _(nt){return nt instanceof Ot||(nt=H(nt)),nt?new X((nt=nt.rgb()).r,nt.g,nt.b,nt.opacity):new X}(nt):new X(nt,Z,ut,At??1)}function X(nt,Z,ut,At){this.r=+nt,this.g=+Z,this.b=+ut,this.opacity=+At}function dt(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}`}function Rt(){const nt=de(this.opacity);return`${1===nt?"rgb(":"rgba("}${se(this.r)}, ${se(this.g)}, ${se(this.b)}${1===nt?")":`, ${nt})`}`}function de(nt){return isNaN(nt)?1:Math.max(0,Math.min(1,nt))}function se(nt){return Math.max(0,Math.min(255,Math.round(nt)||0))}function Ce(nt){return((nt=se(nt))<16?"0":"")+nt.toString(16)}function we(nt,Z,ut,At){return At<=0?nt=Z=ut=NaN:ut<=0||ut>=1?nt=Z=NaN:Z<=0&&(nt=NaN),new ot(nt,Z,ut,At)}function ce(nt){if(nt instanceof ot)return new ot(nt.h,nt.s,nt.l,nt.opacity);if(nt instanceof Ot||(nt=H(nt)),!nt)return new ot;if(nt instanceof ot)return nt;var Z=(nt=nt.rgb()).r/255,ut=nt.g/255,At=nt.b/255,qt=Math.min(Z,ut,At),Ee=Math.max(Z,ut,At),Pe=NaN,Ie=Ee-qt,tr=(Ee+qt)/2;return Ie?(Pe=Z===Ee?(ut-At)/Ie+6*(ut<At):ut===Ee?(At-Z)/Ie+2:(Z-ut)/Ie+4,Ie/=tr<.5?Ee+qt:2-Ee-qt,Pe*=60):Ie=tr>0&&tr<1?0:Pe,new ot(Pe,Ie,tr,nt.opacity)}function ot(nt,Z,ut,At){this.h=+nt,this.s=+Z,this.l=+ut,this.opacity=+At}function gt(nt){return(nt=(nt||0)%360)<0?nt+360:nt}function Et(nt){return Math.max(0,Math.min(1,nt||0))}function Kt(nt,Z,ut){return 255*(nt<60?Z+(ut-Z)*nt/60:nt<180?ut:nt<240?Z+(ut-Z)*(240-nt)/60:Z)}function le(nt,Z,ut,At,qt){var Ee=nt*nt,Pe=Ee*nt;return((1-3*nt+3*Ee-Pe)*Z+(4-6*Ee+3*Pe)*ut+(1+3*nt+3*Ee-3*Pe)*At+Pe*qt)/6}me(Ot,H,{copy(nt){return Object.assign(new this.constructor,this,nt)},displayable(){return this.rgb().displayable()},hex:j,formatHex:j,formatHex8:function St(){return this.rgb().formatHex8()},formatHsl:function Ft(){return ce(this).formatHsl()},formatRgb:U,toString:U}),me(X,rt,wt(Ot,{brighter(nt){return nt=null==nt?Vt:Math.pow(Vt,nt),new X(this.r*nt,this.g*nt,this.b*nt,this.opacity)},darker(nt){return nt=null==nt?.7:Math.pow(.7,nt),new X(this.r*nt,this.g*nt,this.b*nt,this.opacity)},rgb(){return this},clamp(){return new X(se(this.r),se(this.g),se(this.b),de(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dt,formatHex:dt,formatHex8:function yt(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}${Ce(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Rt,toString:Rt})),me(ot,function K(nt,Z,ut,At){return 1===arguments.length?ce(nt):new ot(nt,Z,ut,At??1)},wt(Ot,{brighter(nt){return nt=null==nt?Vt:Math.pow(Vt,nt),new ot(this.h,this.s,this.l*nt,this.opacity)},darker(nt){return nt=null==nt?.7:Math.pow(.7,nt),new ot(this.h,this.s,this.l*nt,this.opacity)},rgb(){var nt=this.h%360+360*(this.h<0),Z=isNaN(nt)||isNaN(this.s)?0:this.s,ut=this.l,At=ut+(ut<.5?ut:1-ut)*Z,qt=2*ut-At;return new X(Kt(nt>=240?nt-240:nt+120,qt,At),Kt(nt,qt,At),Kt(nt<120?nt+240:nt-120,qt,At),this.opacity)},clamp(){return new ot(gt(this.h),Et(this.s),Et(this.l),de(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const nt=de(this.opacity);return`${1===nt?"hsl(":"hsla("}${gt(this.h)}, ${100*Et(this.s)}%, ${100*Et(this.l)}%${1===nt?")":`, ${nt})`}`}}));const Wt=nt=>()=>nt;function fe(nt,Z){var ut=Z-nt;return ut?function ge(nt,Z){return function(ut){return nt+ut*Z}}(nt,ut):Wt(isNaN(nt)?Z:nt)}const Me=function nt(Z){var ut=function Le(nt){return 1==(nt=+nt)?fe:function(Z,ut){return ut-Z?function ue(nt,Z,ut){return nt=Math.pow(nt,ut),Z=Math.pow(Z,ut)-nt,ut=1/ut,function(At){return Math.pow(nt+At*Z,ut)}}(Z,ut,nt):Wt(isNaN(Z)?ut:Z)}}(Z);function At(qt,Ee){var Pe=ut((qt=rt(qt)).r,(Ee=rt(Ee)).r),Ie=ut(qt.g,Ee.g),tr=ut(qt.b,Ee.b),mr=fe(qt.opacity,Ee.opacity);return function(_r){return qt.r=Pe(_r),qt.g=Ie(_r),qt.b=tr(_r),qt.opacity=mr(_r),qt+""}}return At.gamma=nt,At}(1);function Oe(nt){return function(Z){var Pe,Ie,ut=Z.length,At=new Array(ut),qt=new Array(ut),Ee=new Array(ut);for(Pe=0;Pe<ut;++Pe)Ie=rt(Z[Pe]),At[Pe]=Ie.r||0,qt[Pe]=Ie.g||0,Ee[Pe]=Ie.b||0;return At=nt(At),qt=nt(qt),Ee=nt(Ee),Ie.opacity=1,function(tr){return Ie.r=At(tr),Ie.g=qt(tr),Ie.b=Ee(tr),Ie+""}}}function Be(nt,Z){Z||(Z=[]);var qt,ut=nt?Math.min(Z.length,nt.length):0,At=Z.slice();return function(Ee){for(qt=0;qt<ut;++qt)At[qt]=nt[qt]*(1-Ee)+Z[qt]*Ee;return At}}function _e(nt){return ArrayBuffer.isView(nt)&&!(nt instanceof DataView)}function Ge(nt,Z){return(_e(Z)?Be:Ze)(nt,Z)}function Ze(nt,Z){var Pe,ut=Z?Z.length:0,At=nt?Math.min(ut,nt.length):0,qt=new Array(At),Ee=new Array(ut);for(Pe=0;Pe<At;++Pe)qt[Pe]=li(nt[Pe],Z[Pe]);for(;Pe<ut;++Pe)Ee[Pe]=Z[Pe];return function(Ie){for(Pe=0;Pe<At;++Pe)Ee[Pe]=qt[Pe](Ie);return Ee}}function ar(nt,Z){var ut=new Date;return nt=+nt,Z=+Z,function(At){return ut.setTime(nt*(1-At)+Z*At),ut}}function or(nt,Z){return nt=+nt,Z=+Z,function(ut){return nt*(1-ut)+Z*ut}}function Cr(nt,Z){var qt,ut={},At={};for(qt in(null===nt||"object"!=typeof nt)&&(nt={}),(null===Z||"object"!=typeof Z)&&(Z={}),Z)qt in nt?ut[qt]=li(nt[qt],Z[qt]):At[qt]=Z[qt];return function(Ee){for(qt in ut)At[qt]=ut[qt](Ee);return At}}Oe(function ie(nt){var Z=nt.length-1;return function(ut){var At=ut<=0?ut=0:ut>=1?(ut=1,Z-1):Math.floor(ut*Z),qt=nt[At],Ee=nt[At+1];return le((ut-At/Z)*Z,At>0?nt[At-1]:2*qt-Ee,qt,Ee,At<Z-1?nt[At+2]:2*Ee-qt)}}),Oe(function oe(nt){var Z=nt.length;return function(ut){var At=Math.floor(((ut%=1)<0?++ut:ut)*Z);return le((ut-At/Z)*Z,nt[(At+Z-1)%Z],nt[At%Z],nt[(At+1)%Z],nt[(At+2)%Z])}});var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pr=new RegExp(Wr.source,"g");function Br(nt,Z){var At,qt,Ee,ut=Wr.lastIndex=Pr.lastIndex=0,Pe=-1,Ie=[],tr=[];for(nt+="",Z+="";(At=Wr.exec(nt))&&(qt=Pr.exec(Z));)(Ee=qt.index)>ut&&(Ee=Z.slice(ut,Ee),Ie[Pe]?Ie[Pe]+=Ee:Ie[++Pe]=Ee),(At=At[0])===(qt=qt[0])?Ie[Pe]?Ie[Pe]+=qt:Ie[++Pe]=qt:(Ie[++Pe]=null,tr.push({i:Pe,x:or(At,qt)})),ut=Pr.lastIndex;return ut<Z.length&&(Ee=Z.slice(ut),Ie[Pe]?Ie[Pe]+=Ee:Ie[++Pe]=Ee),Ie.length<2?tr[0]?function Yi(nt){return function(Z){return nt(Z)+""}}(tr[0].x):function Bi(nt){return function(){return nt}}(Z):(Z=tr.length,function(mr){for(var ui,_r=0;_r<Z;++_r)Ie[(ui=tr[_r]).i]=ui.x(mr);return Ie.join("")})}function li(nt,Z){var At,ut=typeof Z;return null==Z||"boolean"===ut?Wt(Z):("number"===ut?or:"string"===ut?(At=H(Z))?(Z=At,Me):Br:Z instanceof H?Me:Z instanceof Date?ar:_e(Z)?Be:Array.isArray(Z)?Ze:"function"!=typeof Z.valueOf&&"function"!=typeof Z.toString||isNaN(Z)?Cr:or)(nt,Z)}var Vr=mt(9730),dr=mt(3636),di=function(nt){return["fill","stroke","fillStyle","strokeStyle"].includes(nt)},_i=function(nt){return/^[r,R,L,l]{1}[\s]*\(/.test(nt)},nn=[1,0,0,0,1,0,0,0,1];function Ri(nt,Z,ut){var At=Z.startTime;if(ut<At+Z.delay||Z._paused)return!1;var Ee,Pe=Z.duration,tr=(0,Vr._)(Z.easing);if(ut=ut-At-Z.delay,Z.repeat)Ee=tr(Ee=ut%Pe/Pe);else{if(!((Ee=ut/Pe)<1))return nt.attr(Z.onFrame?Z.onFrame(1):Z.toAttrs),!0;Ee=tr(Ee)}if(Z.onFrame){var mr=Z.onFrame(Ee);nt.attr(mr)}else!function Ir(nt,Z,ut){var At={},qt=Z.fromAttrs,Ee=Z.toAttrs;if(!nt.destroyed){var Pe;for(var Ie in Ee)if(!(0,Jt.Xy)(qt[Ie],Ee[Ie]))if("path"===Ie){var tr=Ee[Ie],mr=qt[Ie];tr.length>mr.length?(tr=dr.parsePathString(Ee[Ie]),mr=dr.parsePathString(qt[Ie]),mr=dr.fillPathByDiff(mr,tr),mr=dr.formatPath(mr,tr),Z.fromAttrs.path=mr,Z.toAttrs.path=tr):Z.pathFormatted||(tr=dr.parsePathString(Ee[Ie]),mr=dr.parsePathString(qt[Ie]),mr=dr.formatPath(mr,tr),Z.fromAttrs.path=mr,Z.toAttrs.path=tr,Z.pathFormatted=!0),At[Ie]=[];for(var _r=0;_r<tr.length;_r++){for(var ui=tr[_r],Ni=mr[_r],Sr=[],Zr=0;Zr<ui.length;Zr++)(0,Jt.hj)(ui[Zr])&&Ni&&(0,Jt.hj)(Ni[Zr])?(Pe=li(Ni[Zr],ui[Zr]),Sr.push(Pe(ut))):Sr.push(ui[Zr]);At[Ie].push(Sr)}}else if("matrix"===Ie){var ea=Ge(qt[Ie]||nn,Ee[Ie]||nn)(ut);At[Ie]=ea}else di(Ie)&&_i(Ee[Ie])?At[Ie]=Ee[Ie]:(0,Jt.mf)(Ee[Ie])||(Pe=li(qt[Ie],Ee[Ie]),At[Ie]=Pe(ut));nt.attr(At)}}(nt,Z,Ee);return!1}const dn=function(){function nt(Z){this.animators=[],this.current=0,this.timer=null,this.canvas=Z}return nt.prototype.initTimer=function(){var At,qt,Ee,Z=this;this.timer=xt(function(Pe){if(Z.current=Pe,Z.animators.length>0){for(var Ie=Z.animators.length-1;Ie>=0;Ie--)if((At=Z.animators[Ie]).destroyed)Z.removeAnimator(Ie);else{if(!At.isAnimatePaused())for(var tr=(qt=At.get("animations")).length-1;tr>=0;tr--)Ri(At,Ee=qt[tr],Pe)&&(qt.splice(tr,1),Ee.callback&&Ee.callback());0===qt.length&&Z.removeAnimator(Ie)}Z.canvas.get("autoDraw")||Z.canvas.draw()}})},nt.prototype.addAnimator=function(Z){this.animators.push(Z)},nt.prototype.removeAnimator=function(Z){this.animators.splice(Z,1)},nt.prototype.isAnimating=function(){return!!this.animators.length},nt.prototype.stop=function(){this.timer&&this.timer.stop()},nt.prototype.stopAllAnimations=function(Z){void 0===Z&&(Z=!0),this.animators.forEach(function(ut){ut.stopAnimate(Z)}),this.animators=[],this.canvas.draw()},nt.prototype.getTime=function(){return this.current},nt}();var Ln=mt(3128),Qn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $e(nt,Z,ut){ut.name=Z,ut.target=nt,ut.currentTarget=nt,ut.delegateTarget=nt,nt.emit(Z,ut)}function gn(nt,Z,ut){if(ut.bubbles){var At=void 0,qt=!1;if("mouseenter"===Z?(At=ut.fromShape,qt=!0):"mouseleave"===Z&&(qt=!0,At=ut.toShape),nt.isCanvas()&&qt)return;if(At&&(0,P.UY)(nt,At))return void(ut.bubbles=!1);ut.name=Z,ut.currentTarget=nt,ut.delegateTarget=nt,nt.emit(Z,ut)}}const bi=function(){function nt(Z){var ut=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(At){ut._triggerEvent(At.type,At)},this._onDocumentMove=function(At){if(ut.canvas.get("el")!==At.target&&(ut.dragging||ut.currentShape)){var Pe=ut._getPointInfo(At);ut.dragging&&ut._emitEvent("drag",At,Pe,ut.draggingShape)}},this._onDocumentMouseUp=function(At){if(ut.canvas.get("el")!==At.target&&ut.dragging){var Pe=ut._getPointInfo(At);ut.draggingShape&&ut._emitEvent("drop",At,Pe,null),ut._emitEvent("dragend",At,Pe,ut.draggingShape),ut._afterDrag(ut.draggingShape,Pe,At)}},this.canvas=Z.canvas}return nt.prototype.init=function(){this._bindEvents()},nt.prototype._bindEvents=function(){var Z=this,ut=this.canvas.get("el");(0,P.S6)(Qn,function(At){ut.addEventListener(At,Z._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},nt.prototype._clearEvents=function(){var Z=this,ut=this.canvas.get("el");(0,P.S6)(Qn,function(At){ut.removeEventListener(At,Z._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},nt.prototype._getEventObj=function(Z,ut,At,qt,Ee,Pe){var Ie=new Ln.Z(Z,ut);return Ie.fromShape=Ee,Ie.toShape=Pe,Ie.x=At.x,Ie.y=At.y,Ie.clientX=At.clientX,Ie.clientY=At.clientY,Ie.propagationPath.push(qt),Ie},nt.prototype._getShape=function(Z,ut){return this.canvas.getShape(Z.x,Z.y,ut)},nt.prototype._getPointInfo=function(Z){var ut=this.canvas,At=ut.getClientByEvent(Z),qt=ut.getPointByEvent(Z);return{x:qt.x,y:qt.y,clientX:At.x,clientY:At.y}},nt.prototype._triggerEvent=function(Z,ut){var At=this._getPointInfo(ut),qt=this._getShape(At,ut),Ee=this["_on"+Z],Pe=!1;if(Ee)Ee.call(this,At,qt,ut);else{var Ie=this.currentShape;"mouseenter"===Z||"dragenter"===Z||"mouseover"===Z?(this._emitEvent(Z,ut,At,null,null,qt),qt&&this._emitEvent(Z,ut,At,qt,null,qt),"mouseenter"===Z&&this.draggingShape&&this._emitEvent("dragenter",ut,At,null)):"mouseleave"===Z||"dragleave"===Z||"mouseout"===Z?(Pe=!0,Ie&&this._emitEvent(Z,ut,At,Ie,Ie,null),this._emitEvent(Z,ut,At,null,Ie,null),"mouseleave"===Z&&this.draggingShape&&this._emitEvent("dragleave",ut,At,null)):this._emitEvent(Z,ut,At,qt,null,null)}if(Pe||(this.currentShape=qt),qt&&!qt.get("destroyed")){var tr=this.canvas;tr.get("el").style.cursor=qt.attr("cursor")||tr.get("cursor")}},nt.prototype._onmousedown=function(Z,ut,At){0===At.button&&(this.mousedownShape=ut,this.mousedownPoint=Z,this.mousedownTimeStamp=At.timeStamp),this._emitEvent("mousedown",At,Z,ut,null,null)},nt.prototype._emitMouseoverEvents=function(Z,ut,At,qt){var Ee=this.canvas.get("el");At!==qt&&(At&&(this._emitEvent("mouseout",Z,ut,At,At,qt),this._emitEvent("mouseleave",Z,ut,At,At,qt),(!qt||qt.get("destroyed"))&&(Ee.style.cursor=this.canvas.get("cursor"))),qt&&(this._emitEvent("mouseover",Z,ut,qt,At,qt),this._emitEvent("mouseenter",Z,ut,qt,At,qt)))},nt.prototype._emitDragoverEvents=function(Z,ut,At,qt,Ee){qt?(qt!==At&&(At&&this._emitEvent("dragleave",Z,ut,At,At,qt),this._emitEvent("dragenter",Z,ut,qt,At,qt)),Ee||this._emitEvent("dragover",Z,ut,qt)):At&&this._emitEvent("dragleave",Z,ut,At,At,qt),Ee&&this._emitEvent("dragover",Z,ut,qt)},nt.prototype._afterDrag=function(Z,ut,At){Z&&(Z.set("capture",!0),this.draggingShape=null),this.dragging=!1;var qt=this._getShape(ut,At);qt!==Z&&this._emitMouseoverEvents(At,ut,Z,qt),this.currentShape=qt},nt.prototype._onmouseup=function(Z,ut,At){if(0===At.button){var qt=this.draggingShape;this.dragging?(qt&&this._emitEvent("drop",At,Z,ut),this._emitEvent("dragend",At,Z,qt),this._afterDrag(qt,Z,At)):(this._emitEvent("mouseup",At,Z,ut),ut===this.mousedownShape&&this._emitEvent("click",At,Z,ut),this.mousedownShape=null,this.mousedownPoint=null)}},nt.prototype._ondragover=function(Z,ut,At){At.preventDefault(),this._emitDragoverEvents(At,Z,this.currentShape,ut,!0)},nt.prototype._onmousemove=function(Z,ut,At){var qt=this.canvas,Ee=this.currentShape,Pe=this.draggingShape;if(this.dragging)Pe&&this._emitDragoverEvents(At,Z,Ee,ut,!1),this._emitEvent("drag",At,Z,Pe);else{var Ie=this.mousedownPoint;if(Ie){var tr=this.mousedownShape,ui=Ie.clientX-Z.clientX,Ni=Ie.clientY-Z.clientY;At.timeStamp-this.mousedownTimeStamp>120||ui*ui+Ni*Ni>40?tr&&tr.get("draggable")?((Pe=this.mousedownShape).set("capture",!1),this.draggingShape=Pe,this.dragging=!0,this._emitEvent("dragstart",At,Z,Pe),this.mousedownShape=null,this.mousedownPoint=null):!tr&&qt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",At,Z,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(At,Z,Ee,ut),this._emitEvent("mousemove",At,Z,ut)):(this._emitMouseoverEvents(At,Z,Ee,ut),this._emitEvent("mousemove",At,Z,ut))}else this._emitMouseoverEvents(At,Z,Ee,ut),this._emitEvent("mousemove",At,Z,ut)}},nt.prototype._emitEvent=function(Z,ut,At,qt,Ee,Pe){var Ie=this._getEventObj(Z,ut,At,qt,Ee,Pe);if(qt){Ie.shape=qt,$e(qt,Z,Ie);for(var tr=qt.getParent();tr;)tr.emitDelegation(Z,Ie),Ie.propagationStopped||gn(tr,Z,Ie),Ie.propagationPath.push(tr),tr=tr.getParent()}else $e(this.canvas,Z,Ie)},nt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},nt}();var Jr=(0,ft.qY)(),Ai=Jr&&"firefox"===Jr.name;const Ua=function(nt){function Z(ut){var At=nt.call(this,ut)||this;return At.initContainer(),At.initDom(),At.initEvents(),At.initTimeline(),At}return(0,ee.ZT)(Z,nt),Z.prototype.getDefaultCfg=function(){var ut=nt.prototype.getDefaultCfg.call(this);return ut.cursor="default",ut.supportCSSTransform=!1,ut},Z.prototype.initContainer=function(){var ut=this.get("container");(0,P.HD)(ut)&&(ut=document.getElementById(ut),this.set("container",ut))},Z.prototype.initDom=function(){var ut=this.createDom();this.set("el",ut),this.get("container").appendChild(ut),this.setDOMSize(this.get("width"),this.get("height"))},Z.prototype.initEvents=function(){var ut=new bi({canvas:this});ut.init(),this.set("eventController",ut)},Z.prototype.initTimeline=function(){var ut=new dn(this);this.set("timeline",ut)},Z.prototype.setDOMSize=function(ut,At){var qt=this.get("el");P.jU&&(qt.style.width=ut+"px",qt.style.height=At+"px")},Z.prototype.changeSize=function(ut,At){this.setDOMSize(ut,At),this.set("width",ut),this.set("height",At),this.onCanvasChange("changeSize")},Z.prototype.getRenderer=function(){return this.get("renderer")},Z.prototype.getCursor=function(){return this.get("cursor")},Z.prototype.setCursor=function(ut){this.set("cursor",ut);var At=this.get("el");P.jU&&At&&(At.style.cursor=ut)},Z.prototype.getPointByEvent=function(ut){if(this.get("supportCSSTransform")){if(Ai&&!(0,P.kK)(ut.layerX)&&ut.layerX!==ut.offsetX)return{x:ut.layerX,y:ut.layerY};if(!(0,P.kK)(ut.offsetX))return{x:ut.offsetX,y:ut.offsetY}}var qt=this.getClientByEvent(ut);return this.getPointByClient(qt.x,qt.y)},Z.prototype.getClientByEvent=function(ut){var At=ut;return ut.touches&&(At="touchend"===ut.type?ut.changedTouches[0]:ut.touches[0]),{x:At.clientX,y:At.clientY}},Z.prototype.getPointByClient=function(ut,At){var Ee=this.get("el").getBoundingClientRect();return{x:ut-Ee.left,y:At-Ee.top}},Z.prototype.getClientByPoint=function(ut,At){var Ee=this.get("el").getBoundingClientRect();return{x:ut+Ee.left,y:At+Ee.top}},Z.prototype.draw=function(){},Z.prototype.removeDom=function(){var ut=this.get("el");ut.parentNode.removeChild(ut)},Z.prototype.clearEvents=function(){this.get("eventController").destroy()},Z.prototype.isCanvas=function(){return!0},Z.prototype.getParent=function(){return null},Z.prototype.destroy=function(){var ut=this.get("timeline");this.get("destroyed")||(this.clear(),ut&&ut.stop(),this.clearEvents(),this.removeDom(),nt.prototype.destroy.call(this))},Z}(B.Z)},3213:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>pe});var ee=mt(655),ft=mt(9642),B=mt(5998),P={},Jt="_INDEX";function Nt(w,p){if(w.set("canvas",p),w.isGroup()){var st=w.get("children");st.length&&st.forEach(function(Q){Nt(Q,p)})}}function Yt(w,p){if(w.set("timeline",p),w.isGroup()){var st=w.get("children");st.length&&st.forEach(function(Q){Yt(Q,p)})}}const pe=function(w){function p(){return null!==w&&w.apply(this,arguments)||this}return(0,ee.ZT)(p,w),p.prototype.isCanvas=function(){return!1},p.prototype.getBBox=function(){var st=1/0,Q=-1/0,Gt=1/0,_t=-1/0,Tt=this.getChildren().filter(function(tt){return tt.get("visible")&&(!tt.isGroup()||tt.isGroup()&&tt.getChildren().length>0)});return Tt.length>0?(0,B.S6)(Tt,function(tt){var V=tt.getBBox(),It=V.minX,pt=V.maxX,re=V.minY,me=V.maxY;It<st&&(st=It),pt>Q&&(Q=pt),re<Gt&&(Gt=re),me>_t&&(_t=me)}):(st=0,Q=0,Gt=0,_t=0),{x:st,y:Gt,minX:st,minY:Gt,maxX:Q,maxY:_t,width:Q-st,height:_t-Gt}},p.prototype.getCanvasBBox=function(){var st=1/0,Q=-1/0,Gt=1/0,_t=-1/0,Tt=this.getChildren().filter(function(tt){return tt.get("visible")&&(!tt.isGroup()||tt.isGroup()&&tt.getChildren().length>0)});return Tt.length>0?(0,B.S6)(Tt,function(tt){var V=tt.getCanvasBBox(),It=V.minX,pt=V.maxX,re=V.minY,me=V.maxY;It<st&&(st=It),pt>Q&&(Q=pt),re<Gt&&(Gt=re),me>_t&&(_t=me)}):(st=0,Q=0,Gt=0,_t=0),{x:st,y:Gt,minX:st,minY:Gt,maxX:Q,maxY:_t,width:Q-st,height:_t-Gt}},p.prototype.getDefaultCfg=function(){var st=w.prototype.getDefaultCfg.call(this);return st.children=[],st},p.prototype.onAttrChange=function(st,Q,Gt){if(w.prototype.onAttrChange.call(this,st,Q,Gt),"matrix"===st){var _t=this.getTotalMatrix();this._applyChildrenMarix(_t)}},p.prototype.applyMatrix=function(st){var Q=this.getTotalMatrix();w.prototype.applyMatrix.call(this,st);var Gt=this.getTotalMatrix();Gt!==Q&&this._applyChildrenMarix(Gt)},p.prototype._applyChildrenMarix=function(st){var Q=this.getChildren();(0,B.S6)(Q,function(Gt){Gt.applyMatrix(st)})},p.prototype.addShape=function(){for(var st=[],Q=0;Q<arguments.length;Q++)st[Q]=arguments[Q];var Gt=st[0],_t=st[1];(0,B.Kn)(Gt)?_t=Gt:_t.type=Gt;var Tt=P[_t.type];Tt||(Tt=(0,B.jC)(_t.type),P[_t.type]=Tt);var tt=new(this.getShapeBase()[Tt])(_t);return this.add(tt),tt},p.prototype.addGroup=function(){for(var st=[],Q=0;Q<arguments.length;Q++)st[Q]=arguments[Q];var Tt,Gt=st[0],_t=st[1];if((0,B.mf)(Gt))Tt=new Gt(_t||{parent:this});else{var xt=Gt||{};Tt=new(this.getGroupBase())(xt)}return this.add(Tt),Tt},p.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},p.prototype.getShape=function(st,Q,Gt){if(!(0,B.pP)(this))return null;var Tt,_t=this.getChildren();if(this.isCanvas())Tt=this._findShape(_t,st,Q,Gt);else{var xt=[st,Q,1];xt=this.invertFromMatrix(xt),this.isClipped(xt[0],xt[1])||(Tt=this._findShape(_t,xt[0],xt[1],Gt))}return Tt},p.prototype._findShape=function(st,Q,Gt,_t){for(var Tt=null,xt=st.length-1;xt>=0;xt--){var tt=st[xt];if((0,B.pP)(tt)&&(tt.isGroup()?Tt=tt.getShape(Q,Gt,_t):tt.isHit(Q,Gt)&&(Tt=tt)),Tt)break}return Tt},p.prototype.add=function(st){var Q=this.getCanvas(),Gt=this.getChildren(),_t=this.get("timeline"),Tt=st.getParent();Tt&&function $t(w,p,st){void 0===st&&(st=!0),st?p.destroy():(p.set("parent",null),p.set("canvas",null)),(0,B.As)(w.getChildren(),p)}(Tt,st,!1),st.set("parent",this),Q&&Nt(st,Q),_t&&Yt(st,_t),Gt.push(st),st.onCanvasChange("add"),this._applyElementMatrix(st)},p.prototype._applyElementMatrix=function(st){var Q=this.getTotalMatrix();Q&&st.applyMatrix(Q)},p.prototype.getChildren=function(){return this.get("children")},p.prototype.sort=function(){var st=this.getChildren();(0,B.S6)(st,function(Q,Gt){return Q[Jt]=Gt,Q}),st.sort(function ve(w){return function(p,st){var Q=w(p,st);return 0===Q?p[Jt]-st[Jt]:Q}}(function(Q,Gt){return Q.get("zIndex")-Gt.get("zIndex")})),this.onCanvasChange("sort")},p.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var st=this.getChildren(),Q=st.length-1;Q>=0;Q--)st[Q].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},p.prototype.destroy=function(){this.get("destroyed")||(this.clear(),w.prototype.destroy.call(this))},p.prototype.getFirst=function(){return this.getChildByIndex(0)},p.prototype.getLast=function(){var st=this.getChildren();return this.getChildByIndex(st.length-1)},p.prototype.getChildByIndex=function(st){return this.getChildren()[st]},p.prototype.getCount=function(){return this.getChildren().length},p.prototype.contain=function(st){return this.getChildren().indexOf(st)>-1},p.prototype.removeChild=function(st,Q){void 0===Q&&(Q=!0),this.contain(st)&&st.remove(Q)},p.prototype.findAll=function(st){var Q=[],Gt=this.getChildren();return(0,B.S6)(Gt,function(_t){st(_t)&&Q.push(_t),_t.isGroup()&&(Q=Q.concat(_t.findAll(st)))}),Q},p.prototype.find=function(st){var Q=null,Gt=this.getChildren();return(0,B.S6)(Gt,function(_t){if(st(_t)?Q=_t:_t.isGroup()&&(Q=_t.find(st)),Q)return!1}),Q},p.prototype.findById=function(st){return this.find(function(Q){return Q.get("id")===st})},p.prototype.findByClassName=function(st){return this.find(function(Q){return Q.get("className")===st})},p.prototype.findAllByName=function(st){return this.findAll(function(Q){return Q.get("name")===st})},p}(ft.Z)},9642:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>_t});var ee=mt(655),ft=mt(8250),B=mt(3882),P=mt(5998),Jt=mt(1343),Nt=mt(3583),Yt=B.vs,Lt="matrix",$t=["zIndex","capture","visible","type"],ve=["repeat"];function p(Tt,xt){var tt={},V=xt.attrs;for(var It in Tt)tt[It]=V[It];return tt}const _t=function(Tt){function xt(tt){var V=Tt.call(this,tt)||this;V.attrs={};var It=V.getDefaultAttrs();return(0,ft.CD)(It,tt.attrs),V.attrs=It,V.initAttrs(It),V.initAnimate(),V}return(0,ee.ZT)(xt,Tt),xt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},xt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},xt.prototype.onCanvasChange=function(tt){},xt.prototype.initAttrs=function(tt){},xt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},xt.prototype.isGroup=function(){return!1},xt.prototype.getParent=function(){return this.get("parent")},xt.prototype.getCanvas=function(){return this.get("canvas")},xt.prototype.attr=function(){for(var tt,V=[],It=0;It<arguments.length;It++)V[It]=arguments[It];var pt=V[0],re=V[1];if(!pt)return this.attrs;if((0,ft.Kn)(pt)){for(var me in pt)this.setAttr(me,pt[me]);return this.afterAttrsChange(pt),this}return 2===V.length?(this.setAttr(pt,re),this.afterAttrsChange(((tt={})[pt]=re,tt)),this):this.attrs[pt]},xt.prototype.isClipped=function(tt,V){var It=this.getClip();return It&&!It.isHit(tt,V)},xt.prototype.setAttr=function(tt,V){var It=this.attrs[tt];It!==V&&(this.attrs[tt]=V,this.onAttrChange(tt,V,It))},xt.prototype.onAttrChange=function(tt,V,It){"matrix"===tt&&this.set("totalMatrix",null)},xt.prototype.afterAttrsChange=function(tt){if(this.cfg.isClipShape){var V=this.cfg.applyTo;V&&V.onCanvasChange("clip")}else this.onCanvasChange("attr")},xt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},xt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},xt.prototype.setZIndex=function(tt){this.set("zIndex",tt);var V=this.getParent();return V&&V.sort(),this},xt.prototype.toFront=function(){var tt=this.getParent();if(tt){var V=tt.getChildren(),pt=(this.get("el"),V.indexOf(this));V.splice(pt,1),V.push(this),this.onCanvasChange("zIndex")}},xt.prototype.toBack=function(){var tt=this.getParent();if(tt){var V=tt.getChildren(),pt=(this.get("el"),V.indexOf(this));V.splice(pt,1),V.unshift(this),this.onCanvasChange("zIndex")}},xt.prototype.remove=function(tt){void 0===tt&&(tt=!0);var V=this.getParent();V?((0,P.As)(V.getChildren(),this),V.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),tt&&this.destroy()},xt.prototype.resetMatrix=function(){this.attr(Lt,this.getDefaultMatrix()),this.onCanvasChange("matrix")},xt.prototype.getMatrix=function(){return this.attr(Lt)},xt.prototype.setMatrix=function(tt){this.attr(Lt,tt),this.onCanvasChange("matrix")},xt.prototype.getTotalMatrix=function(){var tt=this.cfg.totalMatrix;if(!tt){var V=this.attr("matrix"),It=this.cfg.parentMatrix;tt=It&&V?(0,Jt.xq)(It,V):V||It,this.set("totalMatrix",tt)}return tt},xt.prototype.applyMatrix=function(tt){var It,V=this.attr("matrix");It=tt&&V?(0,Jt.xq)(tt,V):V||tt,this.set("totalMatrix",It),this.set("parentMatrix",tt)},xt.prototype.getDefaultMatrix=function(){return null},xt.prototype.applyToMatrix=function(tt){var V=this.attr("matrix");return V?(0,Jt.rG)(V,tt):tt},xt.prototype.invertFromMatrix=function(tt){var V=this.attr("matrix");if(V){var It=(0,Jt.U_)(V);if(It)return(0,Jt.rG)(It,tt)}return tt},xt.prototype.setClip=function(tt){var V=this.getCanvas(),It=null;if(tt){var me=this.getShapeBase()[(0,ft.jC)(tt.type)];me&&(It=new me({type:tt.type,isClipShape:!0,applyTo:this,attrs:tt.attrs,canvas:V}))}return this.set("clipShape",It),this.onCanvasChange("clip"),It},xt.prototype.getClip=function(){return this.cfg.clipShape||null},xt.prototype.clone=function(){var tt=this,V=this.attrs,It={};(0,ft.S6)(V,function(me,wt){It[wt]=(0,ft.kJ)(V[wt])?function w(Tt){for(var xt=[],tt=0;tt<Tt.length;tt++)(0,ft.kJ)(Tt[tt])?xt.push([].concat(Tt[tt])):xt.push(Tt[tt]);return xt}(V[wt]):V[wt]});var re=new(0,this.constructor)({attrs:It});return(0,ft.S6)($t,function(me){re.set(me,tt.get(me))}),re},xt.prototype.destroy=function(){this.destroyed||(this.attrs={},Tt.prototype.destroy.call(this))},xt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},xt.prototype.animate=function(){for(var tt=[],V=0;V<arguments.length;V++)tt[V]=arguments[V];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var It=this.get("timeline");It||(It=this.get("canvas").get("timeline"),this.set("timeline",It));var pt=this.get("animations")||[];It.timer||It.initTimer();var O,J,Dt,te,ae,re=tt[0],me=tt[1],wt=tt[2],Ot=void 0===wt?"easeLinear":wt,Qt=tt[3],Vt=void 0===Qt?ft.ZT:Qt,Pt=tt[4],kt=void 0===Pt?0:Pt;(0,ft.mf)(re)?(O=re,re={}):(0,ft.Kn)(re)&&re.onFrame&&(O=re.onFrame,J=re.repeat),(0,ft.Kn)(me)?(me=(ae=me).duration,Ot=ae.easing||"easeLinear",kt=ae.delay||0,J=ae.repeat||J||!1,Vt=ae.callback||ft.ZT,Dt=ae.pauseCallback||ft.ZT,te=ae.resumeCallback||ft.ZT):((0,ft.hj)(Vt)&&(kt=Vt,Vt=null),(0,ft.mf)(Ot)?(Vt=Ot,Ot="easeLinear"):Ot=Ot||"easeLinear");var Se=function st(Tt,xt){var tt={},V=xt.attr();return(0,ft.S6)(Tt,function(It,pt){-1===ve.indexOf(pt)&&!(0,ft.Xy)(V[pt],It)&&(tt[pt]=It)}),tt}(re,this),W={fromAttrs:p(Se,this),toAttrs:Se,duration:me,easing:Ot,repeat:J,callback:Vt,pauseCallback:Dt,resumeCallback:te,delay:kt,startTime:It.getTime(),id:(0,ft.EL)(),onFrame:O,pathFormatted:!1};pt.length>0?pt=function Q(Tt,xt){if(xt.onFrame)return Tt;var tt=xt.startTime,V=xt.delay,It=xt.duration,pt=Object.prototype.hasOwnProperty;return(0,ft.S6)(Tt,function(re){tt+V<re.startTime+re.delay+re.duration&&It>re.delay&&(0,ft.S6)(xt.toAttrs,function(me,wt){pt.call(re.toAttrs,wt)&&(delete re.toAttrs[wt],delete re.fromAttrs[wt])})}),Tt}(pt,W):It.addAnimator(this),pt.push(W),this.set("animations",pt),this.set("_pause",{isPaused:!1})}},xt.prototype.stopAnimate=function(tt){var V=this;void 0===tt&&(tt=!0);var It=this.get("animations");(0,ft.S6)(It,function(pt){tt&&V.attr(pt.onFrame?pt.onFrame(1):pt.toAttrs),pt.callback&&pt.callback()}),this.set("animating",!1),this.set("animations",[])},xt.prototype.pauseAnimate=function(){var tt=this.get("timeline"),V=this.get("animations"),It=tt.getTime();return(0,ft.S6)(V,function(pt){pt._paused=!0,pt._pauseTime=It,pt.pauseCallback&&pt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:It}),this},xt.prototype.resumeAnimate=function(){var V=this.get("timeline").getTime(),It=this.get("animations"),pt=this.get("_pause").pauseTime;return(0,ft.S6)(It,function(re){re.startTime=re.startTime+(V-pt),re._paused=!1,re._pauseTime=null,re.resumeCallback&&re.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",It),this},xt.prototype.emitDelegation=function(tt,V){var me,It=this,pt=V.propagationPath;this.getEvents(),"mouseenter"===tt?me=V.fromShape:"mouseleave"===tt&&(me=V.toShape);for(var wt=function(Pt){var kt=pt[Pt],O=kt.get("name");if(O){if((kt.isGroup()||kt.isCanvas&&kt.isCanvas())&&me&&(0,P.UY)(kt,me))return"break";(0,ft.kJ)(O)?(0,ft.S6)(O,function(J){It.emitDelegateEvent(kt,J,V)}):Ot.emitDelegateEvent(kt,O,V)}},Ot=this,Qt=0;Qt<pt.length&&"break"!==wt(Qt);Qt++);},xt.prototype.emitDelegateEvent=function(tt,V,It){var pt=this.getEvents(),re=V+":"+It.type;(pt[re]||pt["*"])&&(It.name=re,It.currentTarget=tt,It.delegateTarget=this,It.delegateObject=tt.get("delegateObject"),this.emit(re,It))},xt.prototype.translate=function(tt,V){void 0===tt&&(tt=0),void 0===V&&(V=0);var It=this.getMatrix(),pt=Yt(It,[["t",tt,V]]);return this.setMatrix(pt),this},xt.prototype.move=function(tt,V){var It=this.attr("x")||0,pt=this.attr("y")||0;return this.translate(tt-It,V-pt),this},xt.prototype.moveTo=function(tt,V){return this.move(tt,V)},xt.prototype.scale=function(tt,V){var It=this.getMatrix(),pt=Yt(It,[["s",tt,V||tt]]);return this.setMatrix(pt),this},xt.prototype.rotate=function(tt){var V=this.getMatrix(),It=Yt(V,[["r",tt]]);return this.setMatrix(It),this},xt.prototype.rotateAtStart=function(tt){var V=this.attr(),It=V.x,pt=V.y,re=this.getMatrix(),me=Yt(re,[["t",-It,-pt],["r",tt],["t",It,pt]]);return this.setMatrix(me),this},xt.prototype.rotateAtPoint=function(tt,V,It){var pt=this.getMatrix(),re=Yt(pt,[["t",-tt,-V],["r",It],["t",tt,V]]);return this.setMatrix(re),this},xt}(Nt.Z)},6147:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>P});var ee=mt(655);const P=function(Jt){function Nt(){return null!==Jt&&Jt.apply(this,arguments)||this}return(0,ee.ZT)(Nt,Jt),Nt.prototype.isGroup=function(){return!0},Nt.prototype.isEntityGroup=function(){return!1},Nt.prototype.clone=function(){for(var Yt=Jt.prototype.clone.call(this),Lt=this.getChildren(),$t=0;$t<Lt.length;$t++)Yt.add(Lt[$t].clone());return Yt},Nt}(mt(3213).Z)},2446:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>Jt});var ee=mt(655),ft=mt(9642),B=mt(1343);const Jt=function(Nt){function Yt(Lt){return Nt.call(this,Lt)||this}return(0,ee.ZT)(Yt,Nt),Yt.prototype._isInBBox=function(Lt,$t){var ve=this.getBBox();return ve.minX<=Lt&&ve.maxX>=Lt&&ve.minY<=$t&&ve.maxY>=$t},Yt.prototype.afterAttrsChange=function(Lt){Nt.prototype.afterAttrsChange.call(this,Lt),this.clearCacheBBox()},Yt.prototype.getBBox=function(){var Lt=this.cfg.bbox;return Lt||(Lt=this.calculateBBox(),this.set("bbox",Lt)),Lt},Yt.prototype.getCanvasBBox=function(){var Lt=this.cfg.canvasBBox;return Lt||(Lt=this.calculateCanvasBBox(),this.set("canvasBBox",Lt)),Lt},Yt.prototype.applyMatrix=function(Lt){Nt.prototype.applyMatrix.call(this,Lt),this.set("canvasBBox",null)},Yt.prototype.calculateCanvasBBox=function(){var Lt=this.getBBox(),$t=this.getTotalMatrix(),ve=Lt.minX,zt=Lt.minY,pe=Lt.maxX,w=Lt.maxY;if($t){var p=(0,B.rG)($t,[Lt.minX,Lt.minY]),st=(0,B.rG)($t,[Lt.maxX,Lt.minY]),Q=(0,B.rG)($t,[Lt.minX,Lt.maxY]),Gt=(0,B.rG)($t,[Lt.maxX,Lt.maxY]);ve=Math.min(p[0],st[0],Q[0],Gt[0]),pe=Math.max(p[0],st[0],Q[0],Gt[0]),zt=Math.min(p[1],st[1],Q[1],Gt[1]),w=Math.max(p[1],st[1],Q[1],Gt[1])}var _t=this.attrs;if(_t.shadowColor){var Tt=_t.shadowBlur,xt=void 0===Tt?0:Tt,tt=_t.shadowOffsetX,V=void 0===tt?0:tt,It=_t.shadowOffsetY,pt=void 0===It?0:It,me=pe+xt+V,wt=zt-xt+pt,Ot=w+xt+pt;ve=Math.min(ve,ve-xt+V),pe=Math.max(pe,me),zt=Math.min(zt,wt),w=Math.max(w,Ot)}return{x:ve,y:zt,minX:ve,minY:zt,maxX:pe,maxY:w,width:pe-ve,height:w-zt}},Yt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},Yt.prototype.isClipShape=function(){return this.get("isClipShape")},Yt.prototype.isInShape=function(Lt,$t){return!1},Yt.prototype.isOnlyHitBox=function(){return!1},Yt.prototype.isHit=function(Lt,$t){var ve=this.get("startArrowShape"),zt=this.get("endArrowShape"),pe=[Lt,$t,1],w=(pe=this.invertFromMatrix(pe))[0],p=pe[1],st=this._isInBBox(w,p);return this.isOnlyHitBox()?st:!(!st||this.isClipped(w,p)||!(this.isInShape(w,p)||ve&&ve.isHit(w,p)||zt&&zt.isHit(w,p)))},Yt}(ft.Z)},9730:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{_:()=>_,C:()=>rt});var ee={};function ft(X){return+X}function B(X){return X*X}function P(X){return X*(2-X)}function Jt(X){return((X*=2)<=1?X*X:--X*(2-X)+1)/2}function Nt(X){return X*X*X}function Yt(X){return--X*X*X+1}function Lt(X){return((X*=2)<=1?X*X*X:(X-=2)*X*X+2)/2}mt.r(ee),mt.d(ee,{easeBack:()=>ht,easeBackIn:()=>W,easeBackInOut:()=>ht,easeBackOut:()=>lt,easeBounce:()=>te,easeBounceIn:()=>Dt,easeBounceInOut:()=>ae,easeBounceOut:()=>te,easeCircle:()=>pt,easeCircleIn:()=>V,easeCircleInOut:()=>pt,easeCircleOut:()=>It,easeCubic:()=>Lt,easeCubicIn:()=>Nt,easeCubicInOut:()=>Lt,easeCubicOut:()=>Yt,easeElastic:()=>H,easeElasticIn:()=>U,easeElasticInOut:()=>L,easeElasticOut:()=>H,easeExp:()=>tt,easeExpIn:()=>Tt,easeExpInOut:()=>tt,easeExpOut:()=>xt,easeLinear:()=>ft,easePoly:()=>pe,easePolyIn:()=>ve,easePolyInOut:()=>pe,easePolyOut:()=>zt,easeQuad:()=>Jt,easeQuadIn:()=>B,easeQuadInOut:()=>Jt,easeQuadOut:()=>P,easeSin:()=>Gt,easeSinIn:()=>st,easeSinInOut:()=>Gt,easeSinOut:()=>Q});var ve=function X(dt){function yt(Rt){return Math.pow(Rt,dt)}return dt=+dt,yt.exponent=X,yt}(3),zt=function X(dt){function yt(Rt){return 1-Math.pow(1-Rt,dt)}return dt=+dt,yt.exponent=X,yt}(3),pe=function X(dt){function yt(Rt){return((Rt*=2)<=1?Math.pow(Rt,dt):2-Math.pow(2-Rt,dt))/2}return dt=+dt,yt.exponent=X,yt}(3),w=Math.PI,p=w/2;function st(X){return 1==+X?1:1-Math.cos(X*p)}function Q(X){return Math.sin(X*p)}function Gt(X){return(1-Math.cos(w*X))/2}function _t(X){return 1.0009775171065494*(Math.pow(2,-10*X)-.0009765625)}function Tt(X){return _t(1-+X)}function xt(X){return 1-_t(X)}function tt(X){return((X*=2)<=1?_t(1-X):2-_t(X-1))/2}function V(X){return 1-Math.sqrt(1-X*X)}function It(X){return Math.sqrt(1- --X*X)}function pt(X){return((X*=2)<=1?1-Math.sqrt(1-X*X):Math.sqrt(1-(X-=2)*X)+1)/2}var re=4/11,me=6/11,wt=8/11,Ot=3/4,Qt=9/11,Vt=10/11,Pt=15/16,kt=21/22,O=63/64,J=1/re/re;function Dt(X){return 1-te(1-X)}function te(X){return(X=+X)<re?J*X*X:X<wt?J*(X-=me)*X+Ot:X<Vt?J*(X-=Qt)*X+Pt:J*(X-=kt)*X+O}function ae(X){return((X*=2)<=1?1-te(1-X):te(X-1)+1)/2}var Se=1.70158,W=function X(dt){function yt(Rt){return(Rt=+Rt)*Rt*(dt*(Rt-1)+Rt)}return dt=+dt,yt.overshoot=X,yt}(Se),lt=function X(dt){function yt(Rt){return--Rt*Rt*((Rt+1)*dt+Rt)+1}return dt=+dt,yt.overshoot=X,yt}(Se),ht=function X(dt){function yt(Rt){return((Rt*=2)<1?Rt*Rt*((dt+1)*Rt-dt):(Rt-=2)*Rt*((dt+1)*Rt+dt)+2)/2}return dt=+dt,yt.overshoot=X,yt}(Se),j=2*Math.PI,U=function X(dt,yt){var Rt=Math.asin(1/(dt=Math.max(1,dt)))*(yt/=j);function de(se){return dt*_t(- --se)*Math.sin((Rt-se)/yt)}return de.amplitude=function(se){return X(se,yt*j)},de.period=function(se){return X(dt,se)},de}(1,.3),H=function X(dt,yt){var Rt=Math.asin(1/(dt=Math.max(1,dt)))*(yt/=j);function de(se){return 1-dt*_t(se=+se)*Math.sin((se+Rt)/yt)}return de.amplitude=function(se){return X(se,yt*j)},de.period=function(se){return X(dt,se)},de}(1,.3),L=function X(dt,yt){var Rt=Math.asin(1/(dt=Math.max(1,dt)))*(yt/=j);function de(se){return((se=2*se-1)<0?dt*_t(-se)*Math.sin((Rt-se)/yt):2-dt*_t(se)*Math.sin((Rt+se)/yt))/2}return de.amplitude=function(se){return X(se,yt*j)},de.period=function(se){return X(dt,se)},de}(1,.3),N={};function _(X){return N[X.toLowerCase()]||ee[X]}function rt(X,dt){N[X.toLowerCase()]=dt}},735:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{b:()=>B,W:()=>ft});var ee=new Map;function ft(xt,tt){ee.set(xt,tt)}function B(xt){return ee.get(xt)}function P(xt){var tt=xt.attr();return{x:tt.x,y:tt.y,width:tt.width,height:tt.height}}function Jt(xt){var tt=xt.attr(),pt=tt.r;return{x:tt.x-pt,y:tt.y-pt,width:2*pt,height:2*pt}}var Nt=mt(9174);function Yt(xt,tt){return xt&&tt?{minX:Math.min(xt.minX,tt.minX),minY:Math.min(xt.minY,tt.minY),maxX:Math.max(xt.maxX,tt.maxX),maxY:Math.max(xt.maxY,tt.maxY)}:xt||tt}function Lt(xt,tt){var V=xt.get("startArrowShape"),It=xt.get("endArrowShape");return V&&(tt=Yt(tt,V.getCanvasBBox())),It&&(tt=Yt(tt,It.getCanvasBBox())),tt}var zt=mt(1518),w=mt(2759),p=mt(8250);function Q(xt,tt){var V=xt.prePoint,It=xt.currentPoint,pt=xt.nextPoint,re=Math.pow(It[0]-V[0],2)+Math.pow(It[1]-V[1],2),me=Math.pow(It[0]-pt[0],2)+Math.pow(It[1]-pt[1],2),wt=Math.pow(V[0]-pt[0],2)+Math.pow(V[1]-pt[1],2),Ot=Math.acos((re+me-wt)/(2*Math.sqrt(re)*Math.sqrt(me)));if(!Ot||0===Math.sin(Ot)||(0,p.vQ)(Ot,0))return{xExtra:0,yExtra:0};var Qt=Math.abs(Math.atan2(pt[1]-It[1],pt[0]-It[0])),Vt=Math.abs(Math.atan2(pt[0]-It[0],pt[1]-It[1]));return Qt=Qt>Math.PI/2?Math.PI-Qt:Qt,Vt=Vt>Math.PI/2?Math.PI-Vt:Vt,{xExtra:Math.cos(Ot/2-Qt)*(tt/2*(1/Math.sin(Ot/2)))-tt/2||0,yExtra:Math.cos(Vt-Ot/2)*(tt/2*(1/Math.sin(Ot/2)))-tt/2||0}}ft("rect",P),ft("image",P),ft("circle",Jt),ft("marker",Jt),ft("polyline",function $t(xt){for(var V=xt.attr().points,It=[],pt=[],re=0;re<V.length;re++){var me=V[re];It.push(me[0]),pt.push(me[1])}var wt=Nt.Zr.getBBoxByArray(It,pt),Ot=wt.x,Qt=wt.y,kt={minX:Ot,minY:Qt,maxX:Ot+wt.width,maxY:Qt+wt.height};return{x:(kt=Lt(xt,kt)).minX,y:kt.minY,width:kt.maxX-kt.minX,height:kt.maxY-kt.minY}}),ft("polygon",function ve(xt){for(var V=xt.attr().points,It=[],pt=[],re=0;re<V.length;re++){var me=V[re];It.push(me[0]),pt.push(me[1])}return Nt.Zr.getBBoxByArray(It,pt)}),ft("text",function pe(xt){var tt=xt.attr(),V=tt.x,It=tt.y,pt=tt.text,re=tt.fontSize,me=tt.lineHeight,wt=tt.font;wt||(wt=(0,zt.$O)(tt));var Qt,Ot=(0,zt.mY)(pt,wt);if(Ot){var Vt=tt.textAlign,Pt=tt.textBaseline,kt=(0,zt.FE)(pt,re,me),O={x:V,y:It-kt};Vt&&("end"===Vt||"right"===Vt?O.x-=Ot:"center"===Vt&&(O.x-=Ot/2)),Pt&&("top"===Pt?O.y+=kt:"middle"===Pt&&(O.y+=kt/2)),Qt={x:O.x,y:O.y,width:Ot,height:kt}}else Qt={x:V,y:It,width:0,height:0};return Qt}),ft("path",function Gt(xt){var tt=xt.attr(),V=tt.path,pt=tt.stroke?tt.lineWidth:0,me=function st(xt,tt){for(var V=[],It=[],pt=[],re=0;re<xt.length;re++){var wt=(me=xt[re]).currentPoint,Ot=me.params,Qt=me.prePoint,Vt=void 0;switch(me.command){case"Q":Vt=Nt.lD.box(Qt[0],Qt[1],Ot[1],Ot[2],Ot[3],Ot[4]);break;case"C":Vt=Nt.Ll.box(Qt[0],Qt[1],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6]);break;case"A":var Pt=me.arcParams;Vt=Nt.wN.box(Pt.cx,Pt.cy,Pt.rx,Pt.ry,Pt.xRotation,Pt.startAngle,Pt.endAngle);break;default:V.push(wt[0]),It.push(wt[1])}Vt&&(me.box=Vt,V.push(Vt.x,Vt.x+Vt.width),It.push(Vt.y,Vt.y+Vt.height)),tt&&("L"===me.command||"M"===me.command)&&me.prePoint&&me.nextPoint&&pt.push(me)}V=V.filter(function(ae){return!Number.isNaN(ae)&&ae!==1/0&&ae!==-1/0}),It=It.filter(function(ae){return!Number.isNaN(ae)&&ae!==1/0&&ae!==-1/0});var kt=(0,p.VV)(V),O=(0,p.VV)(It),J=(0,p.Fp)(V),Dt=(0,p.Fp)(It);if(0===pt.length)return{x:kt,y:O,width:J-kt,height:Dt-O};for(re=0;re<pt.length;re++){var me;(wt=(me=pt[re]).currentPoint)[0]===kt?kt-=Q(me,tt).xExtra:wt[0]===J&&(J+=Q(me,tt).xExtra),wt[1]===O?O-=Q(me,tt).yExtra:wt[1]===Dt&&(Dt+=Q(me,tt).yExtra)}return{x:kt,y:O,width:J-kt,height:Dt-O}}(xt.get("segments")||(0,w.zx)(V),pt),wt=me.x,Ot=me.y,Pt={minX:wt,minY:Ot,maxX:wt+me.width,maxY:Ot+me.height};return{x:(Pt=Lt(xt,Pt)).minX,y:Pt.minY,width:Pt.maxX-Pt.minX,height:Pt.maxY-Pt.minY}}),ft("line",function _t(xt){var tt=xt.attr(),V=tt.x1,It=tt.y1,pt=tt.x2,re=tt.y2,Vt={minX:Math.min(V,pt),maxX:Math.max(V,pt),minY:Math.min(It,re),maxY:Math.max(It,re)};return{x:(Vt=Lt(xt,Vt)).minX,y:Vt.minY,width:Vt.maxX-Vt.minX,height:Vt.maxY-Vt.minY}}),ft("ellipse",function Tt(xt){var tt=xt.attr(),pt=tt.rx,re=tt.ry;return{x:tt.x-pt,y:tt.y-re,width:2*pt,height:2*re}})},3128:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>ft});const ft=function(){function B(P,Jt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=P,this.name=P,this.originalEvent=Jt,this.timeStamp=Jt.timeStamp}return B.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},B.prototype.stopPropagation=function(){this.propagationStopped=!0},B.prototype.toString=function(){return"[Event (type="+this.type+")]"},B.prototype.save=function(){},B.prototype.restore=function(){},B}()},8621:(rr,Fe,mt)=>{"use strict";mt.r(Fe),mt.d(Fe,{AbstractCanvas:()=>$t.Z,AbstractGroup:()=>ve.Z,AbstractShape:()=>zt.Z,Base:()=>Lt.Z,Event:()=>Yt.Z,PathUtil:()=>ee,assembleFont:()=>w.$O,getBBoxMethod:()=>pe.b,getOffScreenContext:()=>Q.L,getTextHeight:()=>w.FE,invert:()=>st.U_,isAllowCapture:()=>p.pP,multiplyVec2:()=>st.rG,registerBBox:()=>pe.W,registerEasing:()=>Gt.C,version:()=>_t});var ee=mt(3636),ft=mt(353),Nt={};for(const Tt in ft)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Tt)<0&&(Nt[Tt]=()=>ft[Tt]);mt.d(Fe,Nt);var P=mt(3482);Nt={};for(const Tt in P)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Tt)<0&&(Nt[Tt]=()=>P[Tt]);mt.d(Fe,Nt);var Yt=mt(3128),Lt=mt(3583),$t=mt(4838),ve=mt(6147),zt=mt(2446),pe=mt(735),w=mt(1518),p=mt(5998),st=mt(1343),Q=mt(865),Gt=mt(9730),_t="0.5.11"},3482:()=>{},353:()=>{},1343:(rr,Fe,mt)=>{"use strict";function ee(P,Jt){var Nt=[],Yt=P[0],Lt=P[1],$t=P[2],ve=P[3],zt=P[4],pe=P[5],w=P[6],p=P[7],st=P[8],Q=Jt[0],Gt=Jt[1],_t=Jt[2],Tt=Jt[3],xt=Jt[4],tt=Jt[5],V=Jt[6],It=Jt[7],pt=Jt[8];return Nt[0]=Q*Yt+Gt*ve+_t*w,Nt[1]=Q*Lt+Gt*zt+_t*p,Nt[2]=Q*$t+Gt*pe+_t*st,Nt[3]=Tt*Yt+xt*ve+tt*w,Nt[4]=Tt*Lt+xt*zt+tt*p,Nt[5]=Tt*$t+xt*pe+tt*st,Nt[6]=V*Yt+It*ve+pt*w,Nt[7]=V*Lt+It*zt+pt*p,Nt[8]=V*$t+It*pe+pt*st,Nt}function ft(P,Jt){var Nt=[],Yt=Jt[0],Lt=Jt[1];return Nt[0]=P[0]*Yt+P[3]*Lt+P[6],Nt[1]=P[1]*Yt+P[4]*Lt+P[7],Nt}function B(P){var Jt=[],Nt=P[0],Yt=P[1],Lt=P[2],$t=P[3],ve=P[4],zt=P[5],pe=P[6],w=P[7],p=P[8],st=p*ve-zt*w,Q=-p*$t+zt*pe,Gt=w*$t-ve*pe,_t=Nt*st+Yt*Q+Lt*Gt;return _t?(Jt[0]=st*(_t=1/_t),Jt[1]=(-p*Yt+Lt*w)*_t,Jt[2]=(zt*Yt-Lt*ve)*_t,Jt[3]=Q*_t,Jt[4]=(p*Nt-Lt*pe)*_t,Jt[5]=(-zt*Nt+Lt*$t)*_t,Jt[6]=Gt*_t,Jt[7]=(-w*Nt+Yt*pe)*_t,Jt[8]=(ve*Nt-Yt*$t)*_t,Jt):null}mt.d(Fe,{U_:()=>B,rG:()=>ft,xq:()=>ee})},865:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{L:()=>ft});var ee=null;function ft(){if(!ee){var B=document.createElement("canvas");B.width=1,B.height=1,ee=B.getContext("2d")}return ee}},3636:(rr,Fe,mt)=>{"use strict";mt.r(Fe),mt.d(Fe,{catmullRomToBezier:()=>Nt,fillPath:()=>Pt,fillPathByDiff:()=>Dt,formatPath:()=>Se,intersection:()=>wt,parsePathArray:()=>p,parsePathString:()=>Jt,pathToAbsolute:()=>Lt,pathToCurve:()=>pe,rectPath:()=>xt});var ee=mt(8250),ft="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",B=new RegExp("([a-z])["+ft+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ft+"]*,?["+ft+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ft+"]*,?["+ft+"]*","ig"),Jt=function(W){if(!W)return null;if((0,ee.kJ)(W))return W;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ht=[];return String(W).replace(B,function(j,St,Ft){var U=[],H=St.toLowerCase();if(Ft.replace(P,function(L,N){N&&U.push(+N)}),"m"===H&&U.length>2&&(ht.push([St].concat(U.splice(0,2))),H="l",St="m"===St?"l":"L"),"o"===H&&1===U.length&&ht.push([St,U[0]]),"r"===H)ht.push([St].concat(U));else for(;U.length>=lt[H]&&(ht.push([St].concat(U.splice(0,lt[H]))),lt[H]););return W}),ht},Nt=function(W,lt){for(var ht=[],j=0,St=W.length;St-2*!lt>j;j+=2){var Ft=[{x:+W[j-2],y:+W[j-1]},{x:+W[j],y:+W[j+1]},{x:+W[j+2],y:+W[j+3]},{x:+W[j+4],y:+W[j+5]}];lt?j?St-4===j?Ft[3]={x:+W[0],y:+W[1]}:St-2===j&&(Ft[2]={x:+W[0],y:+W[1]},Ft[3]={x:+W[2],y:+W[3]}):Ft[0]={x:+W[St-2],y:+W[St-1]}:St-4===j?Ft[3]=Ft[2]:j||(Ft[0]={x:+W[j],y:+W[j+1]}),ht.push(["C",(6*Ft[1].x-Ft[0].x+Ft[2].x)/6,(6*Ft[1].y-Ft[0].y+Ft[2].y)/6,(Ft[1].x+6*Ft[2].x-Ft[3].x)/6,(Ft[1].y+6*Ft[2].y-Ft[3].y)/6,Ft[2].x,Ft[2].y])}return ht},Yt=function(W,lt,ht,j,St){var Ft=[];if(null===St&&null===j&&(j=ht),W=+W,lt=+lt,ht=+ht,j=+j,null!==St){var U=Math.PI/180,H=W+ht*Math.cos(-j*U),L=W+ht*Math.cos(-St*U);Ft=[["M",H,lt+ht*Math.sin(-j*U)],["A",ht,ht,0,+(St-j>180),0,L,lt+ht*Math.sin(-St*U)]]}else Ft=[["M",W,lt],["m",0,-j],["a",ht,j,0,1,1,0,2*j],["a",ht,j,0,1,1,0,-2*j],["z"]];return Ft},Lt=function(W){if(!(W=Jt(W))||!W.length)return[["M",0,0]];var H,L,lt=[],ht=0,j=0,St=0,Ft=0,U=0;"M"===W[0][0]&&(St=ht=+W[0][1],Ft=j=+W[0][2],U++,lt[0]=["M",ht,j]);for(var N=3===W.length&&"M"===W[0][0]&&"R"===W[1][0].toUpperCase()&&"Z"===W[2][0].toUpperCase(),_=void 0,rt=void 0,X=U,dt=W.length;X<dt;X++){if(lt.push(_=[]),(H=(rt=W[X])[0])!==H.toUpperCase())switch(_[0]=H.toUpperCase(),_[0]){case"A":_[1]=rt[1],_[2]=rt[2],_[3]=rt[3],_[4]=rt[4],_[5]=rt[5],_[6]=+rt[6]+ht,_[7]=+rt[7]+j;break;case"V":_[1]=+rt[1]+j;break;case"H":_[1]=+rt[1]+ht;break;case"R":for(var yt=2,Rt=(L=[ht,j].concat(rt.slice(1))).length;yt<Rt;yt++)L[yt]=+L[yt]+ht,L[++yt]=+L[yt]+j;lt.pop(),lt=lt.concat(Nt(L,N));break;case"O":lt.pop(),(L=Yt(ht,j,rt[1],rt[2])).push(L[0]),lt=lt.concat(L);break;case"U":lt.pop(),lt=lt.concat(Yt(ht,j,rt[1],rt[2],rt[3])),_=["U"].concat(lt[lt.length-1].slice(-2));break;case"M":St=+rt[1]+ht,Ft=+rt[2]+j;break;default:for(yt=1,Rt=rt.length;yt<Rt;yt++)_[yt]=+rt[yt]+(yt%2?ht:j)}else if("R"===H)L=[ht,j].concat(rt.slice(1)),lt.pop(),lt=lt.concat(Nt(L,N)),_=["R"].concat(rt.slice(-2));else if("O"===H)lt.pop(),(L=Yt(ht,j,rt[1],rt[2])).push(L[0]),lt=lt.concat(L);else if("U"===H)lt.pop(),lt=lt.concat(Yt(ht,j,rt[1],rt[2],rt[3])),_=["U"].concat(lt[lt.length-1].slice(-2));else for(var de=0,se=rt.length;de<se;de++)_[de]=rt[de];if("O"!==(H=H.toUpperCase()))switch(_[0]){case"Z":ht=+St,j=+Ft;break;case"H":ht=_[1];break;case"V":j=_[1];break;case"M":St=_[_.length-2],Ft=_[_.length-1];break;default:ht=_[_.length-2],j=_[_.length-1]}}return lt},$t=function(W,lt,ht,j){return[W,lt,ht,j,ht,j]},ve=function(W,lt,ht,j,St,Ft){var U=.3333333333333333,H=2/3;return[U*W+H*ht,U*lt+H*j,U*St+H*ht,U*Ft+H*j,St,Ft]},zt=function(W,lt,ht,j,St,Ft,U,H,L,N){ht===j&&(ht+=1);var dt,yt,Rt,de,se,_=120*Math.PI/180,rt=Math.PI/180*(+St||0),X=[],Ce=function(ar,or,Cr){return{x:ar*Math.cos(Cr)-or*Math.sin(Cr),y:ar*Math.sin(Cr)+or*Math.cos(Cr)}};if(N)yt=N[0],Rt=N[1],de=N[2],se=N[3];else{W=(dt=Ce(W,lt,-rt)).x,lt=dt.y,L=(dt=Ce(H,L,-rt)).y,W===(H=dt.x)&&lt===L&&(H+=1,L+=1);var we=(W-H)/2,ce=(lt-L)/2,K=we*we/(ht*ht)+ce*ce/(j*j);K>1&&(ht*=K=Math.sqrt(K),j*=K);var ot=ht*ht,gt=j*j,Et=(Ft===U?-1:1)*Math.sqrt(Math.abs((ot*gt-ot*ce*ce-gt*we*we)/(ot*ce*ce+gt*we*we)));de=Et*ht*ce/j+(W+H)/2,se=Et*-j*we/ht+(lt+L)/2,yt=Math.asin(((lt-se)/j).toFixed(9)),Rt=Math.asin(((L-se)/j).toFixed(9)),yt=W<de?Math.PI-yt:yt,Rt=H<de?Math.PI-Rt:Rt,yt<0&&(yt=2*Math.PI+yt),Rt<0&&(Rt=2*Math.PI+Rt),U&&yt>Rt&&(yt-=2*Math.PI),!U&&Rt>yt&&(Rt-=2*Math.PI)}var Kt=Rt-yt;if(Math.abs(Kt)>_){var le=Rt,ie=H,oe=L;Rt=yt+_*(U&&Rt>yt?1:-1),H=de+ht*Math.cos(Rt),L=se+j*Math.sin(Rt),X=zt(H,L,ht,j,St,0,U,ie,oe,[Rt,le,de,se])}Kt=Rt-yt;var Wt=Math.cos(yt),ge=Math.sin(yt),ue=Math.cos(Rt),Te=Math.sin(Rt),Le=Math.tan(Kt/4),fe=4/3*ht*Le,Me=4/3*j*Le,Oe=[W,lt],Re=[W+fe*ge,lt-Me*Wt],ke=[H+fe*Te,L-Me*ue],Be=[H,L];if(Re[0]=2*Oe[0]-Re[0],Re[1]=2*Oe[1]-Re[1],N)return[Re,ke,Be].concat(X);for(var _e=[],Ge=0,Ze=(X=[Re,ke,Be].concat(X).join().split(",")).length;Ge<Ze;Ge++)_e[Ge]=Ge%2?Ce(X[Ge-1],X[Ge],rt).y:Ce(X[Ge],X[Ge+1],rt).x;return _e},pe=function(W,lt){var _,ht=Lt(W),j=lt&&Lt(lt),St={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ft={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},U=[],H=[],L="",N="",rt=function(we,ce,K){var ot,gt;if(!we)return["C",ce.x,ce.y,ce.x,ce.y,ce.x,ce.y];switch(!(we[0]in{T:1,Q:1})&&(ce.qx=ce.qy=null),we[0]){case"M":ce.X=we[1],ce.Y=we[2];break;case"A":we=["C"].concat(zt.apply(0,[ce.x,ce.y].concat(we.slice(1))));break;case"S":"C"===K||"S"===K?(ot=2*ce.x-ce.bx,gt=2*ce.y-ce.by):(ot=ce.x,gt=ce.y),we=["C",ot,gt].concat(we.slice(1));break;case"T":"Q"===K||"T"===K?(ce.qx=2*ce.x-ce.qx,ce.qy=2*ce.y-ce.qy):(ce.qx=ce.x,ce.qy=ce.y),we=["C"].concat(ve(ce.x,ce.y,ce.qx,ce.qy,we[1],we[2]));break;case"Q":ce.qx=we[1],ce.qy=we[2],we=["C"].concat(ve(ce.x,ce.y,we[1],we[2],we[3],we[4]));break;case"L":we=["C"].concat($t(ce.x,ce.y,we[1],we[2]));break;case"H":we=["C"].concat($t(ce.x,ce.y,we[1],ce.y));break;case"V":we=["C"].concat($t(ce.x,ce.y,ce.x,we[1]));break;case"Z":we=["C"].concat($t(ce.x,ce.y,ce.X,ce.Y))}return we},X=function(we,ce){if(we[ce].length>7){we[ce].shift();for(var K=we[ce];K.length;)U[ce]="A",j&&(H[ce]="A"),we.splice(ce++,0,["C"].concat(K.splice(0,6)));we.splice(ce,1),_=Math.max(ht.length,j&&j.length||0)}},dt=function(we,ce,K,ot,gt){we&&ce&&"M"===we[gt][0]&&"M"!==ce[gt][0]&&(ce.splice(gt,0,["M",ot.x,ot.y]),K.bx=0,K.by=0,K.x=we[gt][1],K.y=we[gt][2],_=Math.max(ht.length,j&&j.length||0))};_=Math.max(ht.length,j&&j.length||0);for(var yt=0;yt<_;yt++){ht[yt]&&(L=ht[yt][0]),"C"!==L&&(U[yt]=L,yt&&(N=U[yt-1])),ht[yt]=rt(ht[yt],St,N),"A"!==U[yt]&&"C"===L&&(U[yt]="C"),X(ht,yt),j&&(j[yt]&&(L=j[yt][0]),"C"!==L&&(H[yt]=L,yt&&(N=H[yt-1])),j[yt]=rt(j[yt],Ft,N),"A"!==H[yt]&&"C"===L&&(H[yt]="C"),X(j,yt)),dt(ht,j,St,Ft,yt),dt(j,ht,Ft,St,yt);var Rt=ht[yt],de=j&&j[yt],se=Rt.length,Ce=j&&de.length;St.x=Rt[se-2],St.y=Rt[se-1],St.bx=parseFloat(Rt[se-4])||St.x,St.by=parseFloat(Rt[se-3])||St.y,Ft.bx=j&&(parseFloat(de[Ce-4])||Ft.x),Ft.by=j&&(parseFloat(de[Ce-3])||Ft.y),Ft.x=j&&de[Ce-2],Ft.y=j&&de[Ce-1]}return j?[ht,j]:ht},w=/,?([a-z]),?/gi,p=function(W){return W.join(",").replace(w,"$1")},st=function(W,lt,ht,j,St){return W*(W*(-3*lt+9*ht-9*j+3*St)+6*lt-12*ht+6*j)-3*lt+3*ht},Q=function(W,lt,ht,j,St,Ft,U,H,L){null===L&&(L=1);for(var N=(L=L>1?1:L<0?0:L)/2,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],dt=0,yt=0;yt<12;yt++){var Rt=N*rt[yt]+N,de=st(Rt,W,ht,St,U),se=st(Rt,lt,j,Ft,H);dt+=X[yt]*Math.sqrt(de*de+se*se)}return N*dt},Gt=function(W,lt,ht,j,St,Ft,U,H){for(var _,rt,X,dt,L=[],N=[[],[]],yt=0;yt<2;++yt)if(0===yt?(rt=6*W-12*ht+6*St,_=-3*W+9*ht-9*St+3*U,X=3*ht-3*W):(rt=6*lt-12*j+6*Ft,_=-3*lt+9*j-9*Ft+3*H,X=3*j-3*lt),Math.abs(_)<1e-12){if(Math.abs(rt)<1e-12)continue;(dt=-X/rt)>0&&dt<1&&L.push(dt)}else{var Rt=rt*rt-4*X*_,de=Math.sqrt(Rt);if(!(Rt<0)){var se=(-rt+de)/(2*_);se>0&&se<1&&L.push(se);var Ce=(-rt-de)/(2*_);Ce>0&&Ce<1&&L.push(Ce)}}for(var K,we=L.length,ce=we;we--;)N[0][we]=(K=1-(dt=L[we]))*K*K*W+3*K*K*dt*ht+3*K*dt*dt*St+dt*dt*dt*U,N[1][we]=K*K*K*lt+3*K*K*dt*j+3*K*dt*dt*Ft+dt*dt*dt*H;return N[0][ce]=W,N[1][ce]=lt,N[0][ce+1]=U,N[1][ce+1]=H,N[0].length=N[1].length=ce+2,{min:{x:Math.min.apply(0,N[0]),y:Math.min.apply(0,N[1])},max:{x:Math.max.apply(0,N[0]),y:Math.max.apply(0,N[1])}}},_t=function(W,lt,ht,j,St,Ft,U,H){if(!(Math.max(W,ht)<Math.min(St,U)||Math.min(W,ht)>Math.max(St,U)||Math.max(lt,j)<Math.min(Ft,H)||Math.min(lt,j)>Math.max(Ft,H))){var _=(W-ht)*(Ft-H)-(lt-j)*(St-U);if(_){var rt=((W*j-lt*ht)*(St-U)-(W-ht)*(St*H-Ft*U))/_,X=((W*j-lt*ht)*(Ft-H)-(lt-j)*(St*H-Ft*U))/_,dt=+rt.toFixed(2),yt=+X.toFixed(2);if(!(dt<+Math.min(W,ht).toFixed(2)||dt>+Math.max(W,ht).toFixed(2)||dt<+Math.min(St,U).toFixed(2)||dt>+Math.max(St,U).toFixed(2)||yt<+Math.min(lt,j).toFixed(2)||yt>+Math.max(lt,j).toFixed(2)||yt<+Math.min(Ft,H).toFixed(2)||yt>+Math.max(Ft,H).toFixed(2)))return{x:rt,y:X}}}},Tt=function(W,lt,ht){return lt>=W.x&&lt<=W.x+W.width&&ht>=W.y&&ht<=W.y+W.height},xt=function(W,lt,ht,j,St){if(St)return[["M",+W+ +St,lt],["l",ht-2*St,0],["a",St,St,0,0,1,St,St],["l",0,j-2*St],["a",St,St,0,0,1,-St,St],["l",2*St-ht,0],["a",St,St,0,0,1,-St,-St],["l",0,2*St-j],["a",St,St,0,0,1,St,-St],["z"]];var Ft=[["M",W,lt],["l",ht,0],["l",0,j],["l",-ht,0],["z"]];return Ft.parsePathArray=p,Ft},tt=function(W,lt,ht,j){return null===W&&(W=lt=ht=j=0),null===lt&&(lt=W.y,ht=W.width,j=W.height,W=W.x),{x:W,y:lt,width:ht,w:ht,height:j,h:j,x2:W+ht,y2:lt+j,cx:W+ht/2,cy:lt+j/2,r1:Math.min(ht,j)/2,r2:Math.max(ht,j)/2,r0:Math.sqrt(ht*ht+j*j)/2,path:xt(W,lt,ht,j),vb:[W,lt,ht,j].join(" ")}},It=function(W,lt,ht,j,St,Ft,U,H){(0,ee.kJ)(W)||(W=[W,lt,ht,j,St,Ft,U,H]);var L=Gt.apply(null,W);return tt(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y)},pt=function(W,lt,ht,j,St,Ft,U,H,L){var N=1-L,_=Math.pow(N,3),rt=Math.pow(N,2),X=L*L,dt=X*L,de=W+2*L*(ht-W)+X*(St-2*ht+W),se=lt+2*L*(j-lt)+X*(Ft-2*j+lt),Ce=ht+2*L*(St-ht)+X*(U-2*St+ht),we=j+2*L*(Ft-j)+X*(H-2*Ft+j);return{x:_*W+3*rt*L*ht+3*N*L*L*St+dt*U,y:_*lt+3*rt*L*j+3*N*L*L*Ft+dt*H,m:{x:de,y:se},n:{x:Ce,y:we},start:{x:N*W+L*ht,y:N*lt+L*j},end:{x:N*St+L*U,y:N*Ft+L*H},alpha:90-180*Math.atan2(de-Ce,se-we)/Math.PI}},re=function(W,lt,ht){if(!function(W,lt){return W=tt(W),lt=tt(lt),Tt(lt,W.x,W.y)||Tt(lt,W.x2,W.y)||Tt(lt,W.x,W.y2)||Tt(lt,W.x2,W.y2)||Tt(W,lt.x,lt.y)||Tt(W,lt.x2,lt.y)||Tt(W,lt.x,lt.y2)||Tt(W,lt.x2,lt.y2)||(W.x<lt.x2&&W.x>lt.x||lt.x<W.x2&&lt.x>W.x)&&(W.y<lt.y2&&W.y>lt.y||lt.y<W.y2&&lt.y>W.y)}(It(W),It(lt)))return ht?0:[];for(var H=~~(Q.apply(0,W)/8),L=~~(Q.apply(0,lt)/8),N=[],_=[],rt={},X=ht?0:[],dt=0;dt<H+1;dt++){var yt=pt.apply(0,W.concat(dt/H));N.push({x:yt.x,y:yt.y,t:dt/H})}for(dt=0;dt<L+1;dt++)yt=pt.apply(0,lt.concat(dt/L)),_.push({x:yt.x,y:yt.y,t:dt/L});for(dt=0;dt<H;dt++)for(var Rt=0;Rt<L;Rt++){var de=N[dt],se=N[dt+1],Ce=_[Rt],we=_[Rt+1],ce=Math.abs(se.x-de.x)<.001?"y":"x",K=Math.abs(we.x-Ce.x)<.001?"y":"x",ot=_t(de.x,de.y,se.x,se.y,Ce.x,Ce.y,we.x,we.y);if(ot){if(rt[ot.x.toFixed(4)]===ot.y.toFixed(4))continue;rt[ot.x.toFixed(4)]=ot.y.toFixed(4);var gt=de.t+Math.abs((ot[ce]-de[ce])/(se[ce]-de[ce]))*(se.t-de.t),Et=Ce.t+Math.abs((ot[K]-Ce[K])/(we[K]-Ce[K]))*(we.t-Ce.t);gt>=0&&gt<=1&&Et>=0&&Et<=1&&(ht?X+=1:X.push({x:ot.x,y:ot.y,t1:gt,t2:Et}))}}return X},wt=function(W,lt){return function(W,lt,ht){W=pe(W),lt=pe(lt);for(var j,St,Ft,U,H,L,N,_,rt,X,dt=[],yt=0,Rt=W.length;yt<Rt;yt++){var de=W[yt];if("M"===de[0])j=H=de[1],St=L=de[2];else{"C"===de[0]?(rt=[j,St].concat(de.slice(1)),j=rt[6],St=rt[7]):(rt=[j,St,j,St,H,L,H,L],j=H,St=L);for(var se=0,Ce=lt.length;se<Ce;se++){var we=lt[se];if("M"===we[0])Ft=N=we[1],U=_=we[2];else{"C"===we[0]?(X=[Ft,U].concat(we.slice(1)),Ft=X[6],U=X[7]):(X=[Ft,U,Ft,U,N,_,N,_],Ft=N,U=_);for(var ce=re(rt,X,ht),K=0,ot=ce.length;K<ot;K++)ce[K].segment1=yt,ce[K].segment2=se,ce[K].bez1=rt,ce[K].bez2=X;dt=dt.concat(ce)}}}}return dt}(W,lt)};function Ot(W,lt){var ht=[],j=[];return W.length&&function St(Ft,U){if(1===Ft.length)ht.push(Ft[0]),j.push(Ft[0]);else{for(var H=[],L=0;L<Ft.length-1;L++)0===L&&ht.push(Ft[0]),L===Ft.length-2&&j.push(Ft[L+1]),H[L]=[(1-U)*Ft[L][0]+U*Ft[L+1][0],(1-U)*Ft[L][1]+U*Ft[L+1][1]];St(H,U)}}(W,lt),{left:ht,right:j.reverse()}}var Pt=function(W,lt){if(1===W.length)return W;var ht=W.length-1,j=lt.length-1,St=ht/j,Ft=[];if(1===W.length&&"M"===W[0][0]){for(var U=0;U<j-ht;U++)W.push(W[0]);return W}for(U=0;U<j;U++){var H=Math.floor(St*U);Ft[H]=(Ft[H]||0)+1}var L=Ft.reduce(function(N,_,rt){return N.concat(rt===ht?W[ht]:function(W,lt,ht){if(1===ht)return[[].concat(W)];var j=[];if("L"===lt[0]||"C"===lt[0]||"Q"===lt[0])j=j.concat(function Qt(W,lt,ht){var j=[[W[1],W[2]]];ht=ht||2;var St=[];"A"===lt[0]?(j.push(lt[6]),j.push(lt[7])):"C"===lt[0]?(j.push([lt[1],lt[2]]),j.push([lt[3],lt[4]]),j.push([lt[5],lt[6]])):"S"===lt[0]||"Q"===lt[0]?(j.push([lt[1],lt[2]]),j.push([lt[3],lt[4]])):j.push([lt[1],lt[2]]);for(var Ft=j,U=1/ht,H=0;H<ht-1;H++){var N=Ot(Ft,U/(1-U*H));St.push(N.left),Ft=N.right}return St.push(Ft),St.map(function(rt){var X=[];return 4===rt.length&&(X.push("C"),X=X.concat(rt[2])),rt.length>=3&&(3===rt.length&&X.push("Q"),X=X.concat(rt[1])),2===rt.length&&X.push("L"),X.concat(rt[rt.length-1])})}(W,lt,ht));else{var St=[].concat(W);"M"===St[0]&&(St[0]="L");for(var Ft=0;Ft<=ht-1;Ft++)j.push(St)}return j}(W[rt],W[rt+1],_))},[]);return L.unshift(W[0]),("Z"===lt[j]||"z"===lt[j])&&L.push("Z"),L},kt=function(W,lt){if(W.length!==lt.length)return!1;var ht=!0;return(0,ee.S6)(W,function(j,St){if(j!==lt[St])return ht=!1,!1}),ht};function O(W,lt,ht){var j=null,St=ht;return lt<St&&(St=lt,j="add"),W<St&&(St=W,j="del"),{type:j,min:St}}var Dt=function(W,lt){var ht=function(W,lt){var St,ht=W.length,j=lt.length,U=0;if(0===ht||0===j)return null;for(var H=[],L=0;L<=ht;L++)H[L]=[],H[L][0]={min:L};for(var N=0;N<=j;N++)H[0][N]={min:N};for(L=1;L<=ht;L++)for(St=W[L-1],N=1;N<=j;N++)U=kt(St,lt[N-1])?0:1,H[L][N]=O(H[L-1][N].min+1,H[L][N-1].min+1,H[L-1][N-1].min+U);return H}(W,lt),j=W.length,St=lt.length,Ft=[],U=1,H=1;if(ht[j][St].min!==j){for(var L=1;L<=j;L++){var N=ht[L][L].min;H=L;for(var _=U;_<=St;_++)ht[L][_].min<N&&(N=ht[L][_].min,H=_);ht[L][U=H].type&&Ft.push({index:L-1,type:ht[L][U].type})}for(L=Ft.length-1;L>=0;L--)U=Ft[L].index,"add"===Ft[L].type?W.splice(U,0,[].concat(W[U])):W.splice(U,1)}var rt=St-(j=W.length);if(j<St)for(L=0;L<rt;L++)"z"===W[j-1][0]||"Z"===W[j-1][0]?W.splice(j-2,0,W[j-2]):W.push(W[j-1]),j+=1;return W};function te(W,lt,ht){for(var St,j=[].concat(W),Ft=1/(ht+1),U=ae(lt)[0],H=1;H<=ht;H++)Ft*=H,0===(St=Math.floor(W.length*Ft))?j.unshift([U[0]*Ft+W[St][0]*(1-Ft),U[1]*Ft+W[St][1]*(1-Ft)]):j.splice(St,0,[U[0]*Ft+W[St][0]*(1-Ft),U[1]*Ft+W[St][1]*(1-Ft)]);return j}function ae(W){var lt=[];switch(W[0]){case"M":case"L":case"T":lt.push([W[1],W[2]]);break;case"A":lt.push([W[6],W[7]]);break;case"Q":case"S":lt.push([W[3],W[4]]),lt.push([W[1],W[2]]);break;case"C":lt.push([W[5],W[6]]),lt.push([W[1],W[2]]),lt.push([W[3],W[4]]);break;case"H":case"V":lt.push([W[1],W[1]])}return lt}var Se=function(W,lt){if(W.length<=1)return W;for(var ht,j=0;j<lt.length;j++)if(W[j][0]!==lt[j][0])switch(ht=ae(W[j]),lt[j][0]){case"M":W[j]=["M"].concat(ht[0]);break;case"L":W[j]=["L"].concat(ht[0]);break;case"A":W[j]=[].concat(lt[j]),W[j][6]=ht[0][0],W[j][7]=ht[0][1];break;case"Q":if(ht.length<2){if(!(j>0)){W[j]=lt[j];break}ht=te(ht,W[j-1],1)}W[j]=["Q"].concat(ht.reduce(function(St,Ft){return St.concat(Ft)},[]));break;case"T":W[j]=["T"].concat(ht[0]);break;case"C":if(ht.length<3){if(!(j>0)){W[j]=lt[j];break}ht=te(ht,W[j-1],2)}W[j]=["C"].concat(ht.reduce(function(St,Ft){return St.concat(Ft)},[]));break;case"S":if(ht.length<2){if(!(j>0)){W[j]=lt[j];break}ht=te(ht,W[j-1],1)}W[j]=["S"].concat(ht.reduce(function(St,Ft){return St.concat(Ft)},[]));break;default:W[j]=lt[j]}return W}},1518:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{$O:()=>Nt,FE:()=>B,mY:()=>Jt});var ee=mt(5998),ft=mt(865);function B(Yt,Lt,$t){var ve=1;if((0,ee.HD)(Yt)&&(ve=Yt.split("\n").length),ve>1){var zt=function P(Yt,Lt){return Lt?Lt-Yt:.14*Yt}(Lt,$t);return Lt*ve+zt*(ve-1)}return Lt}function Jt(Yt,Lt){var $t=(0,ft.L)(),ve=0;if((0,ee.kK)(Yt)||""===Yt)return ve;if($t.save(),$t.font=Lt,(0,ee.HD)(Yt)&&Yt.includes("\n")){var zt=Yt.split("\n");(0,ee.S6)(zt,function(pe){var w=$t.measureText(pe).width;ve<w&&(ve=w)})}else ve=$t.measureText(Yt).width;return $t.restore(),ve}function Nt(Yt){return[Yt.fontStyle,Yt.fontVariant,Yt.fontWeight,Yt.fontSize+"px",Yt.fontFamily].join(" ").trim()}},5998:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{As:()=>ft,CD:()=>ee.CD,HD:()=>ee.HD,Kn:()=>ee.Kn,S6:()=>ee.S6,UY:()=>P,jC:()=>ee.jC,jU:()=>B,kK:()=>ee.UM,mf:()=>ee.mf,pP:()=>Jt});var ee=mt(8250);function ft(Nt,Yt){var Lt=Nt.indexOf(Yt);-1!==Lt&&Nt.splice(Lt,1)}var B=typeof window<"u"&&typeof window.document<"u";function P(Nt,Yt){if(Nt.isCanvas())return!0;for(var Lt=Yt.getParent(),$t=!1;Lt;){if(Lt===Nt){$t=!0;break}Lt=Lt.getParent()}return $t}function Jt(Nt){return Nt.cfg.visible&&Nt.cfg.capture}},9174:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{wN:()=>te,Ll:()=>pt,x1:()=>$t,aH:()=>j,lD:()=>_t,Zr:()=>ee});var ee={};mt.r(ee),mt.d(ee,{distance:()=>B,getBBoxByArray:()=>Jt,getBBoxRange:()=>Nt,isNumberEqual:()=>P,piMod:()=>Yt});var ft=mt(8250);function B(U,H,L,N){var _=U-L,rt=H-N;return Math.sqrt(_*_+rt*rt)}function P(U,H){return Math.abs(U-H)<.001}function Jt(U,H){var L=(0,ft.VV)(U),N=(0,ft.VV)(H);return{x:L,y:N,width:(0,ft.Fp)(U)-L,height:(0,ft.Fp)(H)-N}}function Nt(U,H,L,N){return{minX:(0,ft.VV)([U,L]),maxX:(0,ft.Fp)([U,L]),minY:(0,ft.VV)([H,N]),maxY:(0,ft.Fp)([H,N])}}function Yt(U){return(U+2*Math.PI)%(2*Math.PI)}var Lt=mt(8235);const $t={box:function(U,H,L,N){return Jt([U,L],[H,N])},length:function(U,H,L,N){return B(U,H,L,N)},pointAt:function(U,H,L,N,_){return{x:(1-_)*U+_*L,y:(1-_)*H+_*N}},pointDistance:function(U,H,L,N,_,rt){var X=(L-U)*(_-U)+(N-H)*(rt-H);return X<0?B(U,H,_,rt):X>(L-U)*(L-U)+(N-H)*(N-H)?B(L,N,_,rt):this.pointToLine(U,H,L,N,_,rt)},pointToLine:function(U,H,L,N,_,rt){var X=[L-U,N-H];if(Lt.I6(X,[0,0]))return Math.sqrt((_-U)*(_-U)+(rt-H)*(rt-H));var dt=[-X[1],X[0]];return Lt.Fv(dt,dt),Math.abs(Lt.AK([_-U,rt-H],dt))},tangentAngle:function(U,H,L,N){return Math.atan2(N-H,L-U)}};function zt(U,H,L,N,_,rt){var X,dt=1/0,yt=[L,N],Rt=20;rt&&rt>200&&(Rt=rt/10);for(var de=1/Rt,se=de/10,Ce=0;Ce<=Rt;Ce++){var we=Ce*de,ce=[_.apply(null,U.concat([we])),_.apply(null,H.concat([we]))];(K=B(yt[0],yt[1],ce[0],ce[1]))<dt&&(X=we,dt=K)}if(0===X)return{x:U[0],y:H[0]};if(1===X){var ot=U.length;return{x:U[ot-1],y:H[ot-1]}}for(dt=1/0,Ce=0;Ce<32&&!(se<1e-4);Ce++){var gt=X-se,Et=X+se,K=(ce=[_.apply(null,U.concat([gt])),_.apply(null,H.concat([gt]))],B(yt[0],yt[1],ce[0],ce[1]));if(gt>=0&&K<dt)X=gt,dt=K;else{var Kt=[_.apply(null,U.concat([Et])),_.apply(null,H.concat([Et]))],le=B(yt[0],yt[1],Kt[0],Kt[1]);Et<=1&&le<dt?(X=Et,dt=le):se*=.5}}return{x:_.apply(null,U.concat([X])),y:_.apply(null,H.concat([X]))}}function w(U,H,L,N){var _=1-N;return _*_*U+2*N*_*H+N*N*L}function p(U,H,L){var N=U+L-2*H;if(P(N,0))return[.5];var _=(U-H)/N;return _<=1&&_>=0?[_]:[]}function st(U,H,L,N){return 2*(1-N)*(H-U)+2*N*(L-H)}function Q(U,H,L,N,_,rt,X){var dt=w(U,L,_,X),yt=w(H,N,rt,X),Rt=$t.pointAt(U,H,L,N,X),de=$t.pointAt(L,N,_,rt,X);return[[U,H,Rt.x,Rt.y,dt,yt],[dt,yt,de.x,de.y,_,rt]]}function Gt(U,H,L,N,_,rt,X){if(0===X)return(B(U,H,L,N)+B(L,N,_,rt)+B(U,H,_,rt))/2;var dt=Q(U,H,L,N,_,rt,.5),yt=dt[0],Rt=dt[1];return yt.push(X-1),Rt.push(X-1),Gt.apply(null,yt)+Gt.apply(null,Rt)}const _t={box:function(U,H,L,N,_,rt){var X=p(U,L,_)[0],dt=p(H,N,rt)[0],yt=[U,_],Rt=[H,rt];return void 0!==X&&yt.push(w(U,L,_,X)),void 0!==dt&&Rt.push(w(H,N,rt,dt)),Jt(yt,Rt)},length:function(U,H,L,N,_,rt){return Gt(U,H,L,N,_,rt,3)},nearestPoint:function(U,H,L,N,_,rt,X,dt){return zt([U,L,_],[H,N,rt],X,dt,w)},pointDistance:function(U,H,L,N,_,rt,X,dt){var yt=this.nearestPoint(U,H,L,N,_,rt,X,dt);return B(yt.x,yt.y,X,dt)},interpolationAt:w,pointAt:function(U,H,L,N,_,rt,X){return{x:w(U,L,_,X),y:w(H,N,rt,X)}},divide:function(U,H,L,N,_,rt,X){return Q(U,H,L,N,_,rt,X)},tangentAngle:function(U,H,L,N,_,rt,X){var dt=st(U,L,_,X),yt=st(H,N,rt,X);return Yt(Math.atan2(yt,dt))}};function Tt(U,H,L,N,_){var rt=1-_;return rt*rt*rt*U+3*H*_*rt*rt+3*L*_*_*rt+N*_*_*_}function xt(U,H,L,N,_){var rt=1-_;return 3*(rt*rt*(H-U)+2*rt*_*(L-H)+_*_*(N-L))}function tt(U,H,L,N){var yt,Rt,de,_=-3*U+9*H-9*L+3*N,rt=6*U-12*H+6*L,X=3*H-3*U,dt=[];if(P(_,0))P(rt,0)||(yt=-X/rt)>=0&&yt<=1&&dt.push(yt);else{var se=rt*rt-4*_*X;P(se,0)?dt.push(-rt/(2*_)):se>0&&(Rt=(-rt-(de=Math.sqrt(se)))/(2*_),(yt=(-rt+de)/(2*_))>=0&&yt<=1&&dt.push(yt),Rt>=0&&Rt<=1&&dt.push(Rt))}return dt}function V(U,H,L,N,_,rt,X,dt,yt){var Rt=Tt(U,L,_,X,yt),de=Tt(H,N,rt,dt,yt),se=$t.pointAt(U,H,L,N,yt),Ce=$t.pointAt(L,N,_,rt,yt),we=$t.pointAt(_,rt,X,dt,yt),ce=$t.pointAt(se.x,se.y,Ce.x,Ce.y,yt),K=$t.pointAt(Ce.x,Ce.y,we.x,we.y,yt);return[[U,H,se.x,se.y,ce.x,ce.y,Rt,de],[Rt,de,K.x,K.y,we.x,we.y,X,dt]]}function It(U,H,L,N,_,rt,X,dt,yt){if(0===yt)return function pe(U,H){for(var L=0,N=U.length,_=0;_<N;_++)L+=B(U[_],H[_],U[(_+1)%N],H[(_+1)%N]);return L/2}([U,L,_,X],[H,N,rt,dt]);var Rt=V(U,H,L,N,_,rt,X,dt,.5),de=Rt[0],se=Rt[1];return de.push(yt-1),se.push(yt-1),It.apply(null,de)+It.apply(null,se)}const pt={extrema:tt,box:function(U,H,L,N,_,rt,X,dt){for(var yt=[U,X],Rt=[H,dt],de=tt(U,L,_,X),se=tt(H,N,rt,dt),Ce=0;Ce<de.length;Ce++)yt.push(Tt(U,L,_,X,de[Ce]));for(Ce=0;Ce<se.length;Ce++)Rt.push(Tt(H,N,rt,dt,se[Ce]));return Jt(yt,Rt)},length:function(U,H,L,N,_,rt,X,dt){return It(U,H,L,N,_,rt,X,dt,3)},nearestPoint:function(U,H,L,N,_,rt,X,dt,yt,Rt,de){return zt([U,L,_,X],[H,N,rt,dt],yt,Rt,Tt,de)},pointDistance:function(U,H,L,N,_,rt,X,dt,yt,Rt,de){var se=this.nearestPoint(U,H,L,N,_,rt,X,dt,yt,Rt,de);return B(se.x,se.y,yt,Rt)},interpolationAt:Tt,pointAt:function(U,H,L,N,_,rt,X,dt,yt){return{x:Tt(U,L,_,X,yt),y:Tt(H,N,rt,dt,yt)}},divide:function(U,H,L,N,_,rt,X,dt,yt){return V(U,H,L,N,_,rt,X,dt,yt)},tangentAngle:function(U,H,L,N,_,rt,X,dt,yt){var Rt=xt(U,L,_,X,yt),de=xt(H,N,rt,dt,yt);return Yt(Math.atan2(de,Rt))}};function re(U,H){var L=Math.abs(U);return H>0?L:-1*L}function Pt(U,H,L,N,_,rt){return L*Math.cos(_)*Math.cos(rt)-N*Math.sin(_)*Math.sin(rt)+U}function kt(U,H,L,N,_,rt){return L*Math.sin(_)*Math.cos(rt)+N*Math.cos(_)*Math.sin(rt)+H}function J(U,H,L){return{x:U*Math.cos(L),y:H*Math.sin(L)}}function Dt(U,H,L){var N=Math.cos(L),_=Math.sin(L);return[U*N-H*_,U*_+H*N]}const te={box:function(U,H,L,N,_,rt,X){for(var dt=function Qt(U,H,L){return Math.atan(-H/U*Math.tan(L))}(L,N,_),yt=1/0,Rt=-1/0,de=[rt,X],se=2*-Math.PI;se<=2*Math.PI;se+=Math.PI){var Ce=dt+se;rt<X?rt<Ce&&Ce<X&&de.push(Ce):X<Ce&&Ce<rt&&de.push(Ce)}for(se=0;se<de.length;se++){var we=Pt(U,0,L,N,_,de[se]);we<yt&&(yt=we),we>Rt&&(Rt=we)}var ce=function Vt(U,H,L){return Math.atan(H/(U*Math.tan(L)))}(L,N,_),K=1/0,ot=-1/0,gt=[rt,X];for(se=2*-Math.PI;se<=2*Math.PI;se+=Math.PI){var Et=ce+se;rt<X?rt<Et&&Et<X&&gt.push(Et):X<Et&&Et<rt&&gt.push(Et)}for(se=0;se<gt.length;se++){var Kt=kt(0,H,L,N,_,gt[se]);Kt<K&&(K=Kt),Kt>ot&&(ot=Kt)}return{x:yt,y:K,width:Rt-yt,height:ot-K}},length:function(U,H,L,N,_,rt,X){},nearestPoint:function(U,H,L,N,_,rt,X,dt,yt){var Rt=Dt(dt-U,yt-H,-_),Ce=function(U,H,L,N,_,rt){var X=L,dt=N;if(0===X||0===dt)return{x:U,y:H};for(var K,ot,yt=_-U,Rt=rt-H,de=Math.abs(yt),se=Math.abs(Rt),Ce=X*X,we=dt*dt,ce=Math.PI/4,gt=0;gt<4;gt++){K=X*Math.cos(ce),ot=dt*Math.sin(ce);var Et=(Ce-we)*Math.pow(Math.cos(ce),3)/X,Kt=(we-Ce)*Math.pow(Math.sin(ce),3)/dt,le=K-Et,ie=ot-Kt,oe=de-Et,Wt=se-Kt,ge=Math.hypot(ie,le),ue=Math.hypot(Wt,oe);ce+=ge*Math.asin((le*Wt-ie*oe)/(ge*ue))/Math.sqrt(Ce+we-K*K-ot*ot),ce=Math.min(Math.PI/2,Math.max(0,ce))}return{x:U+re(K,yt),y:H+re(ot,Rt)}}(0,0,L,N,Rt[0],Rt[1]),we=function O(U,H,L,N){return(Math.atan2(N*U,L*H)+2*Math.PI)%(2*Math.PI)}(L,N,Ce.x,Ce.y);we<rt?Ce=J(L,N,rt):we>X&&(Ce=J(L,N,X));var ce=Dt(Ce.x,Ce.y,_);return{x:ce[0]+U,y:ce[1]+H}},pointDistance:function(U,H,L,N,_,rt,X,dt,yt){var Rt=this.nearestPoint(U,H,L,N,dt,yt);return B(Rt.x,Rt.y,dt,yt)},pointAt:function(U,H,L,N,_,rt,X,dt){var yt=(X-rt)*dt+rt;return{x:Pt(U,0,L,N,_,yt),y:kt(0,H,L,N,_,yt)}},tangentAngle:function(U,H,L,N,_,rt,X,dt){var yt=(X-rt)*dt+rt,Rt=function wt(U,H,L,N,_,rt,X,dt){return-1*L*Math.cos(_)*Math.sin(dt)-N*Math.sin(_)*Math.cos(dt)}(0,0,L,N,_,0,0,yt),de=function Ot(U,H,L,N,_,rt,X,dt){return-1*L*Math.sin(_)*Math.sin(dt)+N*Math.cos(_)*Math.cos(dt)}(0,0,L,N,_,0,0,yt);return Yt(Math.atan2(de,Rt))}};function ae(U){for(var H=0,L=[],N=0;N<U.length-1;N++){var _=U[N],rt=U[N+1],X=B(_[0],_[1],rt[0],rt[1]);L.push({from:_,to:rt,length:X}),H+=X}return{segments:L,totalLength:H}}const j={box:function(U){for(var H=[],L=[],N=0;N<U.length;N++){var _=U[N];H.push(_[0]),L.push(_[1])}return Jt(H,L)},length:function(U){return function Se(U){if(U.length<2)return 0;for(var H=0,L=0;L<U.length-1;L++){var N=U[L],_=U[L+1];H+=B(N[0],N[1],_[0],_[1])}return H}(U)},pointAt:function(U,H){return function W(U,H){if(H>1||H<0||U.length<2)return null;var L=ae(U),N=L.segments,_=L.totalLength;if(0===_)return{x:U[0][0],y:U[0][1]};for(var rt=0,X=null,dt=0;dt<N.length;dt++){var yt=N[dt],Rt=yt.from,de=yt.to,se=yt.length/_;if(H>=rt&&H<=rt+se){X=$t.pointAt(Rt[0],Rt[1],de[0],de[1],(H-rt)/se);break}rt+=se}return X}(U,H)},pointDistance:function(U,H,L){return function ht(U,H,L){for(var N=1/0,_=0;_<U.length-1;_++){var rt=U[_],X=U[_+1],dt=$t.pointDistance(rt[0],rt[1],X[0],X[1],H,L);dt<N&&(N=dt)}return N}(U,H,L)},tangentAngle:function(U,H){return function lt(U,H){if(H>1||H<0||U.length<2)return 0;for(var L=ae(U),N=L.segments,_=L.totalLength,rt=0,X=0,dt=0;dt<N.length;dt++){var yt=N[dt],Rt=yt.from,de=yt.to,se=yt.length/_;if(H>=rt&&H<=rt+se){X=Math.atan2(de[1]-Rt[1],de[0]-Rt[0]);break}rt+=se}return X}(U,H)}}},1188:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{aU:()=>Dr,xC:()=>Yr,kL:()=>ph,ju:()=>qr,Lc:()=>Ls,Mx:()=>Dr,fw:()=>yh,Zr:()=>Cd,ld:()=>Tt,gj:()=>Ep,gh:()=>bs,zl:()=>je,ak:()=>Zn,gp:()=>Ia,w_:()=>br,Fj:()=>Ar});var ee={};mt.r(ee),mt.d(ee,{assign:()=>qt,default:()=>No,defaultI18n:()=>mr,format:()=>Ro,parse:()=>Js,setGlobalDateI18n:()=>ui,setGlobalDateMasks:()=>Dn});var ft={};mt.r(ft),mt.d(ft,{Arc:()=>yv,DataMarker:()=>wv,DataRegion:()=>Ku,Html:()=>tc,Image:()=>vl,Line:()=>vv,Region:()=>xv,RegionFilter:()=>Ju,Shape:()=>bv,Text:()=>dv});var B={};mt.r(B),mt.d(B,{ellipsisHead:()=>k0,ellipsisMiddle:()=>kv,ellipsisTail:()=>rc,getDefault:()=>Lv});var P={};mt.r(P),mt.d(P,{equidistance:()=>uc,equidistanceWithReverseBoth:()=>Dv,getDefault:()=>ac,reserveBoth:()=>lc,reserveFirst:()=>oc,reserveLast:()=>sc});var Jt={};mt.r(Jt),mt.d(Jt,{fixedAngle:()=>hc,getDefault:()=>Bv,unfixedAngle:()=>_v});var Nt={};mt.r(Nt),mt.d(Nt,{autoEllipsis:()=>B,autoHide:()=>P,autoRotate:()=>Jt});var Yt={};mt.r(Yt),mt.d(Yt,{Base:()=>gl,Circle:()=>fc,Html:()=>vc,Line:()=>yl});var Lt={};mt.r(Lt),mt.d(Lt,{CONTAINER_CLASS:()=>$i,CROSSHAIR_X:()=>Ml,CROSSHAIR_Y:()=>Sl,LIST_CLASS:()=>ma,LIST_ITEM_CLASS:()=>us,MARKER_CLASS:()=>cs,NAME_CLASS:()=>mc,TITLE_CLASS:()=>Vi,VALUE_CLASS:()=>hs});var $t={};mt.r($t),mt.d($t,{Base:()=>Kr,Circle:()=>rf,Ellipse:()=>ou,Image:()=>_d,Line:()=>of,Marker:()=>To,Path:()=>cu,Polygon:()=>Gd,Polyline:()=>q0,Rect:()=>fu,Text:()=>Xd});var ve={};mt.r(ve),mt.d(ve,{Canvas:()=>$d,Group:()=>ef,Shape:()=>$t,getArcParams:()=>Bs,version:()=>jd});var zt={};mt.r(zt),mt.d(zt,{Base:()=>Mi,Circle:()=>eg,Dom:()=>ig,Ellipse:()=>ag,Image:()=>vf,Line:()=>pf,Marker:()=>ug,Path:()=>cg,Polygon:()=>fg,Polyline:()=>pg,Rect:()=>xg,Text:()=>ey});var pe={};mt.r(pe),mt.d(pe,{Canvas:()=>Ae,Group:()=>du,Shape:()=>zt,version:()=>Ne});var Pt,kt,O,J,w=mt(655),p=mt(8250),st=(()=>((st=st||{}).FORE="fore",st.MID="mid",st.BG="bg",st))(),Q=(()=>((Q=Q||{}).TOP="top",Q.TOP_LEFT="top-left",Q.TOP_RIGHT="top-right",Q.RIGHT="right",Q.RIGHT_TOP="right-top",Q.RIGHT_BOTTOM="right-bottom",Q.LEFT="left",Q.LEFT_TOP="left-top",Q.LEFT_BOTTOM="left-bottom",Q.BOTTOM="bottom",Q.BOTTOM_LEFT="bottom-left",Q.BOTTOM_RIGHT="bottom-right",Q.RADIUS="radius",Q.CIRCLE="circle",Q.NONE="none",Q))(),Gt=(()=>((Gt=Gt||{}).AXIS="axis",Gt.GRID="grid",Gt.LEGEND="legend",Gt.TOOLTIP="tooltip",Gt.ANNOTATION="annotation",Gt.SLIDER="slider",Gt.SCROLLBAR="scrollbar",Gt.OTHER="other",Gt))(),Tt=(()=>((Tt=Tt||{}).BEFORE_RENDER="beforerender",Tt.AFTER_RENDER="afterrender",Tt.BEFORE_PAINT="beforepaint",Tt.AFTER_PAINT="afterpaint",Tt.BEFORE_CHANGE_DATA="beforechangedata",Tt.AFTER_CHANGE_DATA="afterchangedata",Tt.BEFORE_CLEAR="beforeclear",Tt.AFTER_CLEAR="afterclear",Tt.BEFORE_DESTROY="beforedestroy",Tt.BEFORE_CHANGE_SIZE="beforechangesize",Tt.AFTER_CHANGE_SIZE="afterchangesize",Tt))(),xt=(()=>((xt=xt||{}).BEFORE_DRAW_ANIMATE="beforeanimate",xt.AFTER_DRAW_ANIMATE="afteranimate",xt.BEFORE_RENDER_LABEL="beforerenderlabel",xt.AFTER_RENDER_LABEL="afterrenderlabel",xt))(),tt=(()=>((tt=tt||{}).MOUSE_ENTER="plot:mouseenter",tt.MOUSE_DOWN="plot:mousedown",tt.MOUSE_MOVE="plot:mousemove",tt.MOUSE_UP="plot:mouseup",tt.MOUSE_LEAVE="plot:mouseleave",tt.TOUCH_START="plot:touchstart",tt.TOUCH_MOVE="plot:touchmove",tt.TOUCH_END="plot:touchend",tt.TOUCH_CANCEL="plot:touchcancel",tt.CLICK="plot:click",tt.DBLCLICK="plot:dblclick",tt.CONTEXTMENU="plot:contextmenu",tt.LEAVE="plot:leave",tt.ENTER="plot:enter",tt))(),V=(()=>((V=V||{}).ACTIVE="active",V.INACTIVE="inactive",V.SELECTED="selected",V.DEFAULT="default",V))(),It=["color","shape","size"],pt="_origin",Ot={};function Vt(i,r){Ot[i]=r}function te(i){Pt||function Dt(){Pt=document.createElement("table"),kt=document.createElement("tr"),O=/^\s*<(\w+|!)[^>]*>/,J={tr:document.createElement("tbody"),tbody:Pt,thead:Pt,tfoot:Pt,td:kt,th:kt,"*":document.createElement("div")}}();var r=O.test(i)&&RegExp.$1;(!r||!(r in J))&&(r="*");var t=J[r];i="string"==typeof i?i.replace(/(^\s*)|(\s*$)/g,""):i,t.innerHTML=""+i;var e=t.childNodes[0];return e&&t.contains(e)&&t.removeChild(e),e}function ae(i,r){if(i)for(var t in r)r.hasOwnProperty(t)&&(i.style[t]=r[t]);return i}function W(i){return"number"==typeof i&&!isNaN(i)}function lt(i,r,t,e){var n=t,a=e;if(r){var l=function Se(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}(i);n=l.width?l.width:n,a=l.height?l.height:a}return{width:Math.max(W(n)?n:1,1),height:Math.max(W(a)?a:1,1)}}var St=function(i){function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible;return e.visible=void 0===n||n,e}return(0,w.ZT)(r,i),r.prototype.show=function(){this.visible||this.changeVisible(!0)},r.prototype.hide=function(){this.visible&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(mt(378).Z);const Ft=St;var U=mt(8621),rt=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,l=r.dimValuesMap;this.adjustNames=void 0===n?["x","y"]:n,this.xField=t,this.yField=e,this.dimValuesMap=l}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var c,f,n=this.yField,a=e.indexOf(t),l=e.length;return!n&&this.isAdjust("y")?(c=0,f=1):l>1?(c=e[0===a?0:a-1],f=e[a===l-1?l-1:a+1],0!==a?c+=(t-c)/2:c-=(f-t)/2,a!==l-1?f-=(f-t)/2:f+=(t-e[l-2])/2):(c=0===t?0:t-.5,f=0===t?1:t+.5),{pre:c,next:f}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);p.S6(r,function(a,l){p.S6(n,function(c,f){e.adjustDim(f,c,a,l)})})},i.prototype.groupData=function(r,t){return p.S6(r,function(e){void 0===e[t]&&(e[t]=0)}),p.vM(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var e=this.xField,n=this.yField,a=p.f0({},this.dimValuesMap),l=[];return e&&this.isAdjust("x")&&l.push(e),n&&this.isAdjust("y")&&l.push(n),l.forEach(function(f){a&&a[f]||(a[f]=p.I(r,f).sort(function(g,m){return g-m}))}),!n&&this.isAdjust("y")&&(a.y=[0,1]),a},i}();const X=rt;var dt={},yt=function(i){return dt[i.toLowerCase()]},Rt=function(i,r){if(yt(i))throw new Error("Adjust type '"+i+"' existed.");dt[i.toLowerCase()]=r},de=function(i,r){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(i,r)};function se(i,r){function t(){this.constructor=i}de(i,r),i.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Ce=function(){return Ce=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},Ce.apply(this,arguments)},_e=function(i){function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,l=t.dodgeRatio,c=void 0===l?.5:l,f=t.dodgeBy,g=t.intervalPadding,m=t.dodgePadding,x=t.xDimensionLength,b=t.groupNum,A=t.defaultSize,E=t.maxColumnWidth,D=t.minColumnWidth,z=t.columnWidthRatio,Y=t.customOffset;return e.marginRatio=void 0===n?.5:n,e.dodgeRatio=c,e.dodgeBy=f,e.intervalPadding=g,e.dodgePadding=m,e.xDimensionLegenth=x,e.groupNum=b,e.defaultSize=A,e.maxColumnWidth=E,e.minColumnWidth=D,e.columnWidthRatio=z,e.customOffset=Y,e}return se(r,i),r.prototype.process=function(t){var e=p.d9(t),n=p.xH(e),a=this.dodgeBy,l=a?p.ru(n,a):e;return this.cacheMap={},this.adjustDataArray=l,this.mergeData=n,this.adjustData(l,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var l=this,c=this.customOffset,f=this.getDistribution(t),g=this.groupData(n,t);return p.S6(g,function(m,x){var b;b=1===e.length?{pre:e[0]-1,next:e[0]+1}:l.getAdjustRange(t,parseFloat(x),e),p.S6(m,function(A){var D=f[A[t]],z=D.indexOf(a);if(p.UM(c))A[t]=l.getDodgeOffset(b,z,D.length);else{var Y=b.pre,it=b.next;A[t]=p.mf(c)?c(A,b):(Y+it)/2+c}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var A,a=this,l=a.dodgeRatio,c=a.marginRatio,f=a.intervalPadding,g=a.dodgePadding,m=t.pre,x=t.next,b=x-m;if(!p.UM(f)&&p.UM(g)&&f>=0)A=m+this.getIntervalOnlyOffset(n,e);else if(!p.UM(g)&&p.UM(f)&&g>=0)A=m+this.getDodgeOnlyOffset(n,e);else if(!p.UM(f)&&!p.UM(g)&&f>=0&&g>=0)A=m+this.getIntervalAndDodgeOffset(n,e);else{var D=b*l/n,z=c*D;A=(m+x)/2+(.5*(b-n*D-(n-1)*z)+((e+1)*D+e*z)-.5*D-.5*b)}return A},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,c=n.xDimensionLegenth,f=n.groupNum,m=n.maxColumnWidth,x=n.minColumnWidth,b=n.columnWidthRatio,A=n.intervalPadding/c,E=(1-(f-1)*A)/f*n.dodgeRatio/(t-1),D=((1-A*(f-1))/f-E*(t-1))/t;return D=p.UM(b)?D:1/f/t*b,p.UM(m)||(D=Math.min(D,m/c)),p.UM(x)||(D=Math.max(D,x/c)),((.5+e)*(D=a?a/c:D)+e*(E=((1-(f-1)*A)/f-t*D)/(t-1))+.5*A)*f-A/2},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,c=n.xDimensionLegenth,f=n.groupNum,m=n.maxColumnWidth,x=n.minColumnWidth,b=n.columnWidthRatio,A=n.dodgePadding/c,E=1*n.marginRatio/(f-1),D=((1-E*(f-1))/f-A*(t-1))/t;return D=b?1/f/t*b:D,p.UM(m)||(D=Math.min(D,m/c)),p.UM(x)||(D=Math.max(D,x/c)),((.5+e)*(D=a?a/c:D)+e*A+.5*(E=(1-(D*t+A*(t-1))*f)/(f-1)))*f-E/2},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,c=n.xDimensionLegenth,f=n.groupNum,g=n.intervalPadding/c,m=n.dodgePadding/c;return((.5+e)*(((1-g*(f-1))/f-m*(t-1))/t)+e*m+.5*g)*f-g/2},r.prototype.getDistribution=function(t){var n=this.cacheMap,a=n[t];return a||(a={},p.S6(this.adjustDataArray,function(l,c){var f=p.I(l,t);f.length||f.push(0),p.S6(f,function(g){a[g]||(a[g]=[]),a[g].push(c)})}),n[t]=a),a},r}(X);const Ge=_e;var ar=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return se(r,i),r.prototype.process=function(t){var e=p.d9(t),n=p.xH(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,l=this.groupData(n,t);return p.S6(l,function(c,f){return a.adjustGroup(c,t,parseFloat(f),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=.05*(n-e);return function Ze(i,r){return(r-i)*Math.random()+i}(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var l=this,c=this.getAdjustRange(e,n,a);return p.S6(t,function(f){f[e]=l.getAdjustOffset(c)}),t},r}(X);const or=ar;var Cr=p.Ct,Wr=function(i){function r(t){var e=i.call(this,t)||this,n=t.adjustNames,l=t.height,c=void 0===l?NaN:l,f=t.size,g=void 0===f?10:f,m=t.reverseOrder,x=void 0!==m&&m;return e.adjustNames=void 0===n?["y"]:n,e.height=c,e.size=g,e.reverseOrder=x,e}return se(r,i),r.prototype.process=function(t){var a=this.reverseOrder,l=this.yField?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(l):l},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,c=e.reverseOrder?this.reverse(t):t,f=new Cr,g=new Cr;return c.map(function(m){return m.map(function(x){var b,A=p.U2(x,n,0),E=p.U2(x,[a]),D=A.toString();if(E=p.kJ(E)?E[1]:E,!p.UM(E)){var z=E>=0?f:g;z.has(D)||z.set(D,0);var Y=z.get(D),it=E+Y;return z.set(D,it),Ce(Ce({},x),((b={})[a]=[Y,it],b))}return x})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,l=n.height,g=n.reverseOrder?this.reverse(t):t,m=new Cr;return g.map(function(x){return x.map(function(b){var A,D=b[a],z=2*e.size/l;m.has(D)||m.set(D,z/2);var Y=m.get(D);return m.set(D,Y+z),Ce(Ce({},b),((A={}).y=Y,A))})})},r}(X);const Pr=Wr;var Bi=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return se(r,i),r.prototype.process=function(t){var e=p.xH(t),a=this.xField,l=this.yField,c=this.getXValuesMaxMap(e),f=Math.max.apply(Math,Object.keys(c).map(function(g){return c[g]}));return p.UI(t,function(g){return p.UI(g,function(m){var x,b,A=m[l],E=m[a];if(p.kJ(A)){var D=(f-c[E])/2;return Ce(Ce({},m),((x={})[l]=p.UI(A,function(Y){return D+Y}),x))}var z=(f-A)/2;return Ce(Ce({},m),((b={})[l]=[z,A+z],b))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,a=this.xField,l=this.yField,c=p.vM(t,function(f){return f[a]});return p.Q8(c,function(f){return e.getDimMaxValue(f,l)})},r.prototype.getDimMaxValue=function(t,e){var n=p.UI(t,function(l){return p.U2(l,e,[])}),a=p.xH(n);return Math.max.apply(Math,a)},r}(X);const Yi=Bi;Rt("Dodge",Ge),Rt("Jitter",or),Rt("Stack",Pr),Rt("Symmetric",Yi);var Br=function(i,r){return(0,p.HD)(r)?r:i.invert(i.scale(r))},li=function(){function i(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return i.prototype.mapping=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(a,l){return r._toOriginParam(a,r.scales[l])});return this.callback.apply(this,n)},i.prototype.getLinearValue=function(r){var t=this.values.length-1,e=Math.floor(t*r),a=this.values[e];return a+((e===t?a:this.values[e+1])-a)*(t*r-e)},i.prototype.getNames=function(){for(var t=this.names,e=Math.min(this.scales.length,t.length),n=[],a=0;a<e;a+=1)n.push(t[a]);return n},i.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},i.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},i.prototype.defaultCallback=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(n,a){var l=r.scales[a];return"identity"===l.type?l.values[0]:r._getAttributeValue(l,n)})},i.prototype._parseCfg=function(r){var t=this,e=r.type,a=r.names,l=void 0===a?[]:a,c=r.scales,f=void 0===c?[]:c,g=r.values,m=void 0===g?[]:g,x=r.callback;this.type=void 0===e?"base":e,this.scales=f,this.values=m,this.names=l,this.callback=function(){for(var b=[],A=0;A<arguments.length;A++)b[A]=arguments[A];if(x){var E=x.apply(void 0,b);if(!(0,p.UM)(E))return[E]}return t.defaultCallback.apply(t,b)}},i.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var e=r.translate(t);return this.values[e%this.values.length]}var n=r.scale(t);return this.getLinearValue(n)},i.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,p.kJ)(r)?r.map(function(e){return Br(t,e)}):Br(t,r)},i}();const Vr=li;var dr=mt(873),di=function(i){function r(t){var e=i.call(this,t)||this;return e.type="color",e.names=["color"],(0,p.HD)(e.values)&&(e.linear=!0),e.gradient=dr.Z.gradient(e.values),e}return(0,w.ZT)(r,i),r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(Vr);const _i=di;var nn=function(i){function r(t){var e=i.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}return(0,w.ZT)(r,i),r}(Vr);const Ir=nn;var Ri=function(i){function r(t){var e=i.call(this,t)||this;return e.names=["x","y"],e.type="position",e}return(0,w.ZT)(r,i),r.prototype.mapping=function(t,e){var n=this.scales,a=n[0],l=n[1];return(0,p.UM)(t)||(0,p.UM)(e)?[]:[(0,p.kJ)(t)?t.map(function(c){return a.scale(c)}):a.scale(t),(0,p.kJ)(e)?e.map(function(c){return l.scale(c)}):l.scale(e)]},r}(Vr);const Ur=Ri;var dn=function(i){function r(t){var e=i.call(this,t)||this;return e.type="shape",e.names=["shape"],e}return(0,w.ZT)(r,i),r.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},r}(Vr);const Ln=dn;var Na=function(i){function r(t){var e=i.call(this,t)||this;return e.type="size",e.names=["size"],e}return(0,w.ZT)(r,i),r}(Vr);const Jn=Na;var za={};function gi(i,r){za[i]=r}var $e=function(){function i(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return i.prototype.translate=function(r){return r},i.prototype.change=function(r){(0,p.f0)(this.__cfg__,r),this.init()},i.prototype.clone=function(){return this.constructor(this.__cfg__)},i.prototype.getTicks=function(){var r=this;return(0,p.UI)(this.ticks,function(t,e){return(0,p.Kn)(t)?t:{text:r.getText(t,e),tickValue:t,value:r.scale(t)}})},i.prototype.getText=function(r,t){var e=this.formatter,n=e?e(r,t):r;return(0,p.UM)(n)||!(0,p.mf)(n.toString)?"":n.toString()},i.prototype.getConfig=function(r){return this.__cfg__[r]},i.prototype.init=function(){(0,p.f0)(this,this.__cfg__),this.setDomain(),(0,p.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},i.prototype.initCfg=function(){},i.prototype.setDomain=function(){},i.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,p.HD)(r)){var e=function Qn(i){return za[i]}(r);if(!e)throw new Error("There is no method to to calculate ticks!");t=e(this)}else(0,p.mf)(r)&&(t=r(this));return t},i.prototype.rangeMin=function(){return this.range[0]},i.prototype.rangeMax=function(){return this.range[1]},i.prototype.calcPercent=function(r,t,e){return(0,p.hj)(r)?(r-t)/(e-t):NaN},i.prototype.calcValue=function(r,t,e){return t+r*(e-t)},i}();const gn=$e;var Va=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,w.ZT)(r,i),r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,p.hj)(t)?t:NaN),e},r.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(e*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},r.prototype.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var a=t;return(0,p.hj)(t)&&!this.values.includes(t)&&(a=this.values[a]),i.prototype.getText.apply(this,(0,w.pr)([a],e))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,p.UM)(this.getConfig("min"))&&(this.min=0),(0,p.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(gn);const bi=Va;var ta=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Jr="\\d\\d?",Ai="\\d\\d",nt="[^\\s]+",Z=/\[([^]*?)\]/gm;function ut(i,r){for(var t=[],e=0,n=i.length;e<n;e++)t.push(i[e].substr(0,r));return t}var At=function(i){return function(r,t){var n=t[i].map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase());return n>-1?n:null}};function qt(i){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var e=0,n=r;e<n.length;e++){var a=n[e];for(var l in a)i[l]=a[l]}return i}var Ee=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pe=["January","February","March","April","May","June","July","August","September","October","November","December"],Ie=ut(Pe,3),mr={dayNamesShort:ut(Ee,3),dayNames:Ee,monthNamesShort:Ie,monthNames:Pe,amPm:["am","pm"],DoFn:function(i){return i+["th","st","nd","rd"][i%10>3?0:(i-i%10!=10?1:0)*i%10]}},_r=qt({},mr),ui=function(i){return _r=qt(_r,i)},Ni=function(i){return i.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Sr=function(i,r){for(void 0===r&&(r=2),i=String(i);i.length<r;)i="0"+i;return i},Zr={D:function(i){return String(i.getDate())},DD:function(i){return Sr(i.getDate())},Do:function(i,r){return r.DoFn(i.getDate())},d:function(i){return String(i.getDay())},dd:function(i){return Sr(i.getDay())},ddd:function(i,r){return r.dayNamesShort[i.getDay()]},dddd:function(i,r){return r.dayNames[i.getDay()]},M:function(i){return String(i.getMonth()+1)},MM:function(i){return Sr(i.getMonth()+1)},MMM:function(i,r){return r.monthNamesShort[i.getMonth()]},MMMM:function(i,r){return r.monthNames[i.getMonth()]},YY:function(i){return Sr(String(i.getFullYear()),4).substr(2)},YYYY:function(i){return Sr(i.getFullYear(),4)},h:function(i){return String(i.getHours()%12||12)},hh:function(i){return Sr(i.getHours()%12||12)},H:function(i){return String(i.getHours())},HH:function(i){return Sr(i.getHours())},m:function(i){return String(i.getMinutes())},mm:function(i){return Sr(i.getMinutes())},s:function(i){return String(i.getSeconds())},ss:function(i){return Sr(i.getSeconds())},S:function(i){return String(Math.round(i.getMilliseconds()/100))},SS:function(i){return Sr(Math.round(i.getMilliseconds()/10),2)},SSS:function(i){return Sr(i.getMilliseconds(),3)},a:function(i,r){return i.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(i,r){return i.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(i){var r=i.getTimezoneOffset();return(r>0?"-":"+")+Sr(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)},Z:function(i){var r=i.getTimezoneOffset();return(r>0?"-":"+")+Sr(Math.floor(Math.abs(r)/60),2)+":"+Sr(Math.abs(r)%60,2)}},Pn=function(i){return+i-1},ea=[null,Jr],an=[null,nt],Ga=["isPm",nt,function(i,r){var t=i.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],Bo=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(i){var r=(i+"").match(/([+-]|\d\d)/gi);if(r){var t=60*+r[1]+parseInt(r[2],10);return"+"===r[0]?t:-t}return 0}],_o={D:["day",Jr],DD:["day",Ai],Do:["day",Jr+nt,function(i){return parseInt(i,10)}],M:["month",Jr,Pn],MM:["month",Ai,Pn],YY:["year",Ai,function(i){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+i>68?t-1:t)+i)}],h:["hour",Jr,void 0,"isPm"],hh:["hour",Ai,void 0,"isPm"],H:["hour",Jr],HH:["hour",Ai],m:["minute",Jr],mm:["minute",Ai],s:["second",Jr],ss:["second",Ai],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(i){return 100*+i}],SS:["millisecond",Ai,function(i){return 10*+i}],SSS:["millisecond","\\d{3}"],d:ea,dd:ea,ddd:an,dddd:an,MMM:["month",nt,At("monthNamesShort")],MMMM:["month",nt,At("monthNames")],a:Ga,A:Ga,ZZ:Bo,Z:Bo},ra={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Dn=function(i){return qt(ra,i)},Ro=function(i,r,t){if(void 0===r&&(r=ra.default),void 0===t&&(t={}),"number"==typeof i&&(i=new Date(i)),"[object Date]"!==Object.prototype.toString.call(i)||isNaN(i.getTime()))throw new Error("Invalid Date pass to format");var e=[];r=(r=ra[r]||r).replace(Z,function(a,l){return e.push(l),"@@@"});var n=qt(qt({},_r),t);return(r=r.replace(ta,function(a){return Zr[a](i,n)})).replace(/@@@/g,function(){return e.shift()})};function Js(i,r,t){if(void 0===t&&(t={}),"string"!=typeof r)throw new Error("Invalid format in fecha parse");if(r=ra[r]||r,i.length>1e3)return null;var n={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],l=[],c=r.replace(Z,function(ct,Mt){return l.push(Ni(Mt)),"@@@"}),f={},g={};c=Ni(c).replace(ta,function(ct){var Mt=_o[ct],Xt=Mt[0],jt=Mt[1],ne=Mt[3];if(f[Xt])throw new Error("Invalid format. "+Xt+" specified twice in format");return f[Xt]=!0,ne&&(g[ne]=!0),a.push(Mt),"("+jt+")"}),Object.keys(g).forEach(function(ct){if(!f[ct])throw new Error("Invalid format. "+ct+" is required in specified format")}),c=c.replace(/@@@/g,function(){return l.shift()});var Y,m=i.match(new RegExp(c,"i"));if(!m)return null;for(var x=qt(qt({},_r),t),b=1;b<m.length;b++){var A=a[b-1],E=A[0],D=A[2],z=D?D(m[b],x):+m[b];if(null==z)return null;n[E]=z}if(1===n.isPm&&null!=n.hour&&12!=+n.hour?n.hour=+n.hour+12:0===n.isPm&&12==+n.hour&&(n.hour=0),null==n.timezoneOffset){Y=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var it=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],at=(b=0,it.length);b<at;b++)if(f[it[b][0]]&&n[it[b][0]]!==Y[it[b][1]]())return null}else if(Y=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return Y}const No={format:Ro,parse:Js,defaultI18n:mr,setGlobalDateI18n:ui,setGlobalDateMasks:Dn};function ia(i,r){return(ee.format||No.format)(i,r)}function na(i){return(0,p.HD)(i)&&(i=i.indexOf("T")>0?new Date(i).getTime():new Date(i.replace(/-/gi,"/")).getTime()),(0,p.J_)(i)&&(i=i.getTime()),i}var yi=1e3,yn=6e4,mn=60*yn,Qr=24*mn,On=31*Qr,Vo=365*Qr,Bn=[["HH:mm:ss",yi],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",yn],["HH:mm",10*yn],["HH:mm",30*yn],["HH",mn],["HH",6*mn],["HH",12*mn],["YYYY-MM-DD",Qr],["YYYY-MM-DD",4*Qr],["YYYY-WW",7*Qr],["YYYY-MM",On],["YYYY-MM",4*On],["YYYY-MM",6*On],["YYYY",380*Qr]];var tl=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="timeCat",t}return(0,w.ZT)(r,i),r.prototype.translate=function(t){t=na(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,p.hj)(t)&&t<this.values.length?t:NaN),e},r.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var a=this.values[n],l=this.formatter;return l?l(a,e):ia(a,this.mask)}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,p.S6)(t,function(e,n){t[n]=na(e)}),t.sort(function(e,n){return e-n}),i.prototype.setDomain.call(this)},r}(bi);const Ha=tl;var el=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,w.ZT)(r,i),r.prototype.scale=function(t){if((0,p.UM)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},r.prototype.init=function(){i.prototype.init.call(this);var t=this.ticks,e=(0,p.YM)(t),n=(0,p.Z$)(t);e<this.min&&(this.min=e),n>this.max&&(this.max=n),(0,p.UM)(this.minLimit)||(this.min=e),(0,p.UM)(this.maxLimit)||(this.max=n)},r.prototype.setDomain=function(){var t=(0,p.rx)(this.values),e=t.min,n=t.max;(0,p.UM)(this.min)&&(this.min=e),(0,p.UM)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},r.prototype.calculateTicks=function(){var t=this,e=i.prototype.calculateTicks.call(this);return this.nice||(e=(0,p.hX)(e,function(n){return n>=t.min&&n<=t.max})),e},r.prototype.getScalePercent=function(t){var n=this.min;return(t-n)/(this.max-n)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(gn);const aa=el;var bu=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,w.ZT)(r,i),r.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(aa);const Ya=bu;function Ti(i,r){var t=Math.E;return r>=0?Math.pow(t,Math.log(r)/i):-1*Math.pow(t,Math.log(-r)/i)}function Rr(i,r){return 1===i?1:Math.log(r)/Math.log(i)}function zi(i,r,t){(0,p.UM)(t)&&(t=Math.max.apply(null,i));var e=t;return(0,p.S6)(i,function(n){n>0&&n<e&&(e=n)}),e===t&&(e=t/r),e>1&&(e=1),e}var on=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="log",t}return(0,w.ZT)(r,i),r.prototype.invert=function(t){var c,e=this.base,n=Rr(e,this.max),a=this.rangeMin(),l=this.rangeMax()-a,f=this.positiveMin;if(f){if(0===t)return 0;var g=1/(n-(c=Rr(e,f/e)))*l;if(t<g)return t/g*f}else c=Rr(e,this.min);return Math.pow(e,(t-a)/l*(n-c)+c)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){i.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=zi(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n||t<=0)return 0;var a=this.base,l=this.positiveMin;return l&&(n=1*l/a),t<l?t/l/(Rr(a,e)-Rr(a,n)):(Rr(a,t)-Rr(a,n))/(Rr(a,e)-Rr(a,n))},r}(aa);const _n=on;var Au=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="pow",t}return(0,w.ZT)(r,i),r.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,a=Ti(n,this.max),l=Ti(n,this.min),c=e*(a-l)+l,f=c>=0?1:-1;return Math.pow(c,n)*f},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var a=this.exponent;return(Ti(a,t)-Ti(a,n))/(Ti(a,e)-Ti(a,n))},r}(aa);const Ho=Au;var Xa=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="time",t}return(0,w.ZT)(r,i),r.prototype.getText=function(t,e){var n=this.translate(t),a=this.formatter;return a?a(n,e):ia(n,this.mask)},r.prototype.scale=function(t){var e=t;return((0,p.HD)(e)||(0,p.J_)(e))&&(e=this.translate(e)),i.prototype.scale.call(this,e)},r.prototype.translate=function(t){return na(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((!(0,p.UM)(e)||!(0,p.hj)(e))&&(this.min=this.translate(this.min)),(!(0,p.UM)(n)||!(0,p.hj)(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],l=1/0,c=l,f=0;(0,p.S6)(t,function(g){var m=na(g);if(isNaN(m))throw new TypeError("Invalid Time: "+g+" in time scale!");l>m?(c=l,l=m):c>m&&(c=m),f<m&&(f=m),a.push(m)}),t.length>1&&(this.minTickInterval=c-l),(0,p.UM)(e)&&(this.min=l),(0,p.UM)(n)&&(this.max=f)}},r}(Ya);const Wa=Xa;var rl=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="quantize",t}return(0,w.ZT)(r,i),r.prototype.invert=function(t){var e=this.ticks,n=e.length,a=this.getInvertPercent(t),l=Math.floor(a*(n-1));if(l>=n-1)return(0,p.Z$)(e);if(l<0)return(0,p.YM)(e);var c=e[l],g=l/(n-1);return c+(a-g)/((l+1)/(n-1)-g)*(e[l+1]-c)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=i.prototype.calculateTicks.call(this);return this.nice||((0,p.Z$)(t)!==this.max&&t.push(this.max),(0,p.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,p.YM)(e))return 0;if(t>(0,p.Z$)(e))return 1;var n=0;return(0,p.S6)(e,function(a,l){if(!(t>=a))return!1;n=l}),n/(e.length-1)},r}(aa);const oa=rl;var Yo=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="quantile",t}return(0,w.ZT)(r,i),r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(oa);const Xo=Yo;var Za={};function $a(i){return Za[i]}function Fi(i,r){if($a(i))throw new Error("type '"+i+"' existed.");Za[i]=r}var Wo=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,w.ZT)(r,i),r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,p.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},r}(gn);const il=Wo;function Zo(i){var r=i.values,t=i.tickInterval,e=i.tickCount,n=i.showLast;if((0,p.hj)(t)){var a=(0,p.hX)(r,function(E,D){return D%t==0}),l=(0,p.Z$)(r);return n&&(0,p.Z$)(a)!==l&&a.push(l),a}var c=r.length,f=i.min,g=i.max;if((0,p.UM)(f)&&(f=0),(0,p.UM)(g)&&(g=r.length-1),!(0,p.hj)(e)||e>=c)return r.slice(f,g+1);if(e<=0||g<=0)return[];for(var m=1===e?c:Math.floor(c/(e-1)),x=[],b=f,A=0;A<e&&!(b>=g);A++)b=Math.min(f+A*m,g),x.push(A===e-1&&n?r[g]:r[b]);return x}var $o=Math.sqrt(50),jo=Math.sqrt(10),qo=Math.sqrt(2),la=function(){function i(){this._domain=[0,1]}return i.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},i.prototype.nice=function(r){var t,e;void 0===r&&(r=5);var g,n=this._domain.slice(),a=0,l=this._domain.length-1,c=this._domain[a],f=this._domain[l];return f<c&&(c=(t=[f,c])[0],f=t[1],a=(e=[l,a])[0],l=e[1]),(g=ca(c,f,r))>0?g=ca(c=Math.floor(c/g)*g,f=Math.ceil(f/g)*g,r):g<0&&(g=ca(c=Math.ceil(c*g)/g,f=Math.floor(f*g)/g,r)),g>0?(n[a]=Math.floor(c/g)*g,n[l]=Math.ceil(f/g)*g,this.domain(n)):g<0&&(n[a]=Math.ceil(c*g)/g,n[l]=Math.floor(f*g)/g,this.domain(n)),this},i.prototype.ticks=function(r){return void 0===r&&(r=5),function ua(i,r,t){var e,a,l,c,n=-1;if(t=+t,(i=+i)===(r=+r)&&t>0)return[i];if((e=r<i)&&(a=i,i=r,r=a),0===(c=ca(i,r,t))||!isFinite(c))return[];if(c>0)for(i=Math.ceil(i/c),r=Math.floor(r/c),l=new Array(a=Math.ceil(r-i+1));++n<a;)l[n]=(i+n)*c;else for(i=Math.floor(i*c),r=Math.ceil(r*c),l=new Array(a=Math.ceil(i-r+1));++n<a;)l[n]=(i-n)/c;return e&&l.reverse(),l}(this._domain[0],this._domain[this._domain.length-1],r||5)},i}();function ca(i,r,t){var e=(r-i)/Math.max(0,t),n=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,n);return n>=0?(a>=$o?10:a>=jo?5:a>=qo?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=$o?10:a>=jo?5:a>=qo?2:1)}function Ko(i,r,t){return("ceil"===t?Math.ceil(i/r):"floor"===t?Math.floor(i/r):Math.round(i/r))*r}function ha(i,r,t){var e=Ko(i,t,"floor"),n=Ko(r,t,"ceil");e=(0,p.ri)(e,t),n=(0,p.ri)(n,t);for(var a=[],l=Math.max((n-e)/(Math.pow(2,12)-1),t),c=e;c<=n;c+=l){var f=(0,p.ri)(c,l);a.push(f)}return{min:e,max:n,ticks:a}}function R(i,r,t){var e,n=i.minLimit,a=i.maxLimit,l=i.min,c=i.max,f=i.tickCount,g=void 0===f?5:f,m=(0,p.UM)(n)?(0,p.UM)(r)?l:r:n,x=(0,p.UM)(a)?(0,p.UM)(t)?c:t:a;if(m>x&&(x=(e=[m,x])[0],m=e[1]),g<=2)return[m,x];for(var b=(x-m)/(g-1),A=[],E=0;E<g;E++)A.push(m+b*E);return A}function Ct(i){return Math.abs(i)<1e-15?i:parseFloat(i.toFixed(15))}var Bt=[1,5,2,2.5,4,3],De=100*Number.EPSILON;function $r(i,r,t,e,n,a){var l=(0,p.dp)(r),c=(0,p.cq)(r,i),f=0,g=function We(i,r){return(i%r+r)%r}(e,a);return(g<De||a-g<De)&&e<=0&&n>=0&&(f=1),1-c/(l-1)-t+f}function ci(i,r,t){var e=(0,p.dp)(r);return 1-(0,p.cq)(r,i)/(e-1)-t+1}function ti(i,r,t,e,n,a){var l=(i-1)/(a-n),c=(r-1)/(Math.max(a,e)-Math.min(t,n));return 2-Math.max(l/c,c/l)}function Rn(i,r){return i>=r?2-(i-1)/(r-1):1}function Tu(i,r,t,e){var n=r-i;return 1-.5*(Math.pow(r-e,2)+Math.pow(i-t,2))/Math.pow(.1*n,2)}function sn(i,r,t){var e=r-i;return t>e?1-Math.pow((t-e)/2,2)/Math.pow(.1*e,2):1}function Iu(i,r,t){if(void 0===t&&(t=5),i===r)return{max:r,min:i,ticks:[i]};var e=t<0?0:Math.round(t);if(0===e)return{max:r,min:i,ticks:[]};var c=(r-i)/e,f=Math.pow(10,Math.floor(Math.log10(c))),g=f;2*f-c<1.5*(c-g)&&5*f-c<2.75*(c-(g=2*f))&&10*f-c<1.5*(c-(g=5*f))&&(g=10*f);for(var m=Math.ceil(r/g),x=Math.floor(i/g),b=Math.max(m*g,r),A=Math.min(x*g,i),E=Math.floor((b-A)/g)+1,D=new Array(E),z=0;z<E;z++)D[z]=Ct(A+z*g);return{min:A,max:b,ticks:D}}function ku(i,r){var t=i.length*r;return 1===r?i[i.length-1]:0===r?i[0]:t%1!=0?i[Math.ceil(t)-1]:i.length%2==0?(i[t-1]+i[t])/2:i[t]}function Jo(i){return new Date(i).getFullYear()}function Du(i){return new Date(i,0,1).getTime()}function Qo(i){return new Date(i).getMonth()}function Of(i,r){return new Date(i,r,1).getTime()}gi("cat",Zo),gi("time-cat",function Df(i){return Zo((0,w.pi)({showLast:!0},i))}),gi("wilkinson-extended",function Fu(i){var r=i.min,t=i.max,a=i.tickInterval,l=i.minLimit,c=i.maxLimit,f=function Eu(i,r,t,e,n,a){void 0===t&&(t=5),void 0===e&&(e=!0),void 0===n&&(n=Bt),void 0===a&&(a=[.25,.2,.5,.05]);var l=t<0?0:Math.round(t);if(Number.isNaN(i)||Number.isNaN(r)||"number"!=typeof i||"number"!=typeof r||!l)return{min:0,max:0,ticks:[]};if(r-i<1e-15||1===l)return{min:i,max:r,ticks:[i]};if(r-i>1e148){var f=(r-i)/(c=t||5);return{min:i,max:r,ticks:Array(c).fill(null).map(function(Oo,xu){return Ct(i+f*xu)})}}for(var g={score:-2,lmin:0,lmax:0,lstep:0},m=1;m<1/0;){for(var x=0;x<n.length;x+=1){var b=n[x],A=ci(b,n,m);if(a[0]*A+a[1]+a[2]+a[3]<g.score){m=1/0;break}for(var E=2;E<1/0;){var D=Rn(E,l);if(a[0]*A+a[1]+a[2]*D+a[3]<g.score)break;for(var Y=Math.ceil(Math.log10((r-i)/(E+1)/m/b));Y<1/0;){var it=m*b*Math.pow(10,Y),at=sn(i,r,it*(E-1));if(a[0]*A+a[1]*at+a[2]*D+a[3]<g.score)break;var ct=Math.floor(r/it)*m-(E-1)*m,Mt=Math.ceil(i/it)*m;if(ct<=Mt)for(var c=Mt-ct,Xt=0;Xt<=c;Xt+=1){var ne=(ct+Xt)*(it/m),ye=ne+it*(E-1),xe=it,Ve=$r(b,n,m,ne,ye,xe),ze=Tu(i,r,ne,ye),er=ti(E,l,i,r,ne,ye),wr=a[0]*Ve+a[1]*ze+a[2]*er+1*a[3];wr>g.score&&(!e||ne<=i&&ye>=r)&&(g.lmin=ne,g.lmax=ye,g.lstep=xe,g.score=wr)}Y+=1}E+=1}}m+=1}var ni=Ct(g.lmax),Xr=Ct(g.lmin),pi=Ct(g.lstep),Tr=Math.floor(function gr(i){return Math.round(1e12*i)/1e12}((ni-Xr)/pi))+1,Ci=new Array(Tr);for(Ci[0]=Ct(Xr),x=1;x<Tr;x++)Ci[x]=Ct(Ci[x-1]+pi);return{min:Math.min(i,(0,p.YM)(Ci)),max:Math.max(r,(0,p.Z$)(Ci)),ticks:Ci}}(r,t,i.tickCount,i.nice).ticks;return(0,p.UM)(l)&&(0,p.UM)(c)?a?ha(r,t,a).ticks:f:R(i,(0,p.YM)(f),(0,p.Z$)(f))}),gi("r-pretty",function Pf(i){var r=i.min,t=i.max,n=i.tickInterval,a=i.minLimit,l=i.maxLimit,c=Iu(r,t,i.tickCount).ticks;return(0,p.UM)(a)&&(0,p.UM)(l)?n?ha(r,t,n).ticks:c:R(i,(0,p.YM)(c),(0,p.Z$)(c))}),gi("time",function Pu(i){var r=i.min,t=i.max,e=i.minTickInterval,n=i.tickInterval,a=i.tickCount;if(n)a=Math.ceil((t-r)/n);else{var c=(t-r)/(n=function Uo(i,r,t){var e=(r-i)/t,n=function Qs(i){return function(r,t,e,n){for(var a=(0,p.UM)(e)?0:e,l=(0,p.UM)(n)?r.length:n;a<l;){var c=a+l>>>1;i(r[c])>t?l=c:a=c+1}return a}}(function(l){return l[1]})(Bn,e)-1,a=Bn[n];return n<0?a=Bn[0]:n>=Bn.length&&(a=(0,p.Z$)(Bn)),a}(r,t,a)[1])/a;c>1&&(n*=Math.ceil(c)),e&&n<e&&(n=e)}n=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),n);for(var f=[],g=r;g<t+n;g+=n)f.push(g);return f}),gi("time-pretty",function Bf(i){var r=i.min,t=i.max,e=i.minTickInterval,a=i.tickInterval,l=[];a||(a=(t-r)/i.tickCount,e&&a<e&&(a=e)),a=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),a);var c=Jo(r);if(a>Vo)for(var f=Jo(t),g=Math.ceil(a/Vo),m=c;m<=f+g;m+=g)l.push(Du(m));else if(a>On){var x=Math.ceil(a/On),b=Qo(r),A=function Ou(i,r){var t=Jo(i),e=Jo(r),n=Qo(i);return 12*(e-t)+(Qo(r)-n)%12}(r,t);for(m=0;m<=A+x;m+=x)l.push(Of(c,m+b))}else if(a>Qr){var D=(E=new Date(r)).getFullYear(),z=E.getMonth(),Y=E.getDate(),it=Math.ceil(a/Qr),at=function Bu(i,r){return Math.ceil((r-i)/Qr)}(r,t);for(m=0;m<at+it;m+=it)l.push(new Date(D,z,Y+m).getTime())}else if(a>mn){D=(E=new Date(r)).getFullYear(),z=E.getMonth(),it=E.getDate();var E,ct=E.getHours(),Mt=Math.ceil(a/mn),Xt=function ts(i,r){return Math.ceil((r-i)/mn)}(r,t);for(m=0;m<=Xt+Mt;m+=Mt)l.push(new Date(D,z,it,ct+m).getTime())}else if(a>yn){var jt=function qa(i,r){return Math.ceil((r-i)/6e4)}(r,t),ne=Math.ceil(a/yn);for(m=0;m<=jt+ne;m+=ne)l.push(r+m*yn)}else{var ye=a;ye<yi&&(ye=yi);var xe=Math.floor(r/yi)*yi,Ve=Math.ceil((t-r)/yi),ze=Math.ceil(ye/yi);for(m=0;m<Ve+ze;m+=ze)l.push(xe+m*yi)}return l.length>=512&&console.warn("Notice: current ticks length("+l.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),l}),gi("log",function Lf(i){var l,r=i.base,t=i.tickCount,e=i.min,n=i.max,a=i.values,c=Rr(r,n);if(e>0)l=Math.floor(Rr(r,e));else{var f=zi(a,r,n);l=Math.floor(Rr(r,f))}for(var m=Math.ceil((c-l)/t),x=[],b=l;b<c+m;b+=m)x.push(Math.pow(r,b));return e<=0&&x.unshift(0),x}),gi("pow",function Lu(i){var r=i.exponent,t=i.tickCount,e=Math.ceil(Ti(r,i.max));return Iu(Math.floor(Ti(r,i.min)),e,t).ticks.map(function(l){var c=l>=0?1:-1;return Math.pow(l,r)*c})}),gi("quantile",function kf(i){var r=i.tickCount,t=i.values;if(!t||!t.length)return[];for(var e=t.slice().sort(function(c,f){return c-f}),n=[],a=0;a<r;a++)n.push(ku(e,a/(r-1)));return n}),gi("d3-linear",function vt(i){var r=i.min,t=i.max,e=i.tickInterval,n=i.minLimit,a=i.maxLimit,l=function sa(i){var r=i.min,t=i.max,e=i.nice,n=i.tickCount,a=new la;return a.domain([r,t]),e&&a.nice(n),a.ticks(n)}(i);return(0,p.UM)(n)&&(0,p.UM)(a)?e?ha(r,t,e).ticks:l:R(i,(0,p.YM)(l),(0,p.Z$)(l))}),Fi("cat",bi),Fi("category",bi),Fi("identity",il),Fi("linear",Ya),Fi("log",_n),Fi("pow",Ho),Fi("time",Wa),Fi("timeCat",Ha),Fi("quantize",oa),Fi("quantile",Xo);var _u={},Ru=function(i){return _u[i.toLowerCase()]},Ka=function(i,r){if(Ru(i))throw new Error("Attribute type '".concat(i,"' existed."));_u[i.toLowerCase()]=r};Ka("Color",_i),Ka("Opacity",Ir),Ka("Position",Ur),Ka("Shape",Ln),Ka("Size",Jn);var Nu=mt(5278);function fa(i,r,t){var e=r[0],n=r[1],a=r[2];return i[0]=e*t[0]+n*t[3]+a*t[6],i[1]=e*t[1]+n*t[4]+a*t[7],i[2]=e*t[2]+n*t[5]+a*t[8],i}(function zu(){var i=new Nu.WT(3);Nu.WT!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0)})();var $f=mt(7543),Mr=mt(3882),jf=function(){function i(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=r.end,n=r.matrix,a=void 0===n?[1,0,0,0,1,0,0,0,1]:n,l=r.isTransposed,c=void 0!==l&&l;this.start=r.start,this.end=e,this.matrix=a,this.originalMatrix=(0,w.ev)([],a),this.isTransposed=c}return i.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},i.prototype.update=function(r){(0,p.f0)(this,r),this.initial()},i.prototype.convertDim=function(r,t){var e,n=this[t],a=n.start,l=n.end;return this.isReflect(t)&&(a=(e=[l,a])[0],l=e[1]),a+r*(l-a)},i.prototype.invertDim=function(r,t){var e,n=this[t],a=n.start,l=n.end;return this.isReflect(t)&&(a=(e=[l,a])[0],l=e[1]),(r-a)/(l-a)},i.prototype.applyMatrix=function(r,t,e){void 0===e&&(e=0);var a=[r,t,e];return fa(a,a,this.matrix),a},i.prototype.invertMatrix=function(r,t,e){void 0===e&&(e=0);var a=$f.U_([0,0,0,0,0,0,0,0,0],this.matrix),l=[r,t,e];return a&&fa(l,l,a),l},i.prototype.convert=function(r){var t=this.convertPoint(r),a=this.applyMatrix(t.x,t.y,1);return{x:a[0],y:a[1]}},i.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},i.prototype.rotate=function(r){var t=this.matrix,e=this.center;return Mr.m$(t,t,[-e.x,-e.y]),Mr.zu(t,t,r),Mr.m$(t,t,[e.x,e.y]),this},i.prototype.reflect=function(r){return"x"===r?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},i.prototype.scale=function(r,t){var e=this.matrix,n=this.center;return Mr.m$(e,e,[-n.x,-n.y]),Mr.lh(e,e,[r,t]),Mr.m$(e,e,[n.x,n.y]),this},i.prototype.translate=function(r,t){var e=this.matrix;return Mr.m$(e,e,[r,t]),this},i.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},i.prototype.getCenter=function(){return this.center},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRadius=function(){return this.radius},i.prototype.isReflect=function(r){return"x"===r?this.isReflectX:this.isReflectY},i.prototype.resetMatrix=function(r){this.matrix=r||(0,w.ev)([],this.originalMatrix)},i}();const ol=jf;var qf=function(i){function r(t){var e=i.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}return(0,w.ZT)(r,i),r.prototype.initial=function(){i.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},r.prototype.convertPoint=function(t){var e,n=t.x,a=t.y;return this.isTransposed&&(n=(e=[a,n])[0],a=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(a,"y")}},r.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[a,n])[0],a=e[1]),{x:n,y:a}},r}(ol);const sl=qf;var cr=mt(8235),Kf=function(i){function r(t){var e=i.call(this,t)||this;e.isHelix=!0,e.type="helix";var n=t.startAngle,a=void 0===n?1.25*Math.PI:n,l=t.endAngle,c=void 0===l?7.25*Math.PI:l,f=t.innerRadius,g=void 0===f?0:f,m=t.radius;return e.startAngle=a,e.endAngle=c,e.innerRadius=g,e.radius=m,e.initial(),e}return(0,w.ZT)(r,i),r.prototype.initial=function(){i.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},r.prototype.convertPoint=function(t){var e,n=t.x,a=t.y;this.isTransposed&&(n=(e=[a,n])[0],a=e[1]);var l=this.convertDim(n,"x"),c=this.a*l,f=this.convertDim(a,"y");return{x:this.center.x+Math.cos(l)*(c+f),y:this.center.y+Math.sin(l)*(c+f)}},r.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,a=cr.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),l=Mr.Dg(a,[1,0],!0),c=l*this.a;cr.kE(a)<c&&(c=cr.kE(a)),l=2*Math.floor((cr.kE(a)-c)/n)*Math.PI+l;var g=this.a*l,m=cr.kE(a)-g;m=(0,p.vQ)(m,0)?0:m;var x=this.invertDim(l,"x"),b=this.invertDim(m,"y");return x=(0,p.vQ)(x,0)?0:x,b=(0,p.vQ)(b,0)?0:b,this.isTransposed&&(x=(e=[b,x])[0],b=e[1]),{x,y:b}},r}(ol);const Ja=Kf;var es=function(i){function r(t){var e=i.call(this,t)||this;e.isPolar=!0,e.type="polar";var n=t.startAngle,a=void 0===n?-Math.PI/2:n,l=t.endAngle,c=void 0===l?3*Math.PI/2:l,f=t.innerRadius,g=void 0===f?0:f,m=t.radius;return e.startAngle=a,e.endAngle=c,e.innerRadius=g,e.radius=m,e.initial(),e}return(0,w.ZT)(r,i),r.prototype.initial=function(){for(i.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var c,t=this.getOneBox(),e=t.maxX-t.minX,n=t.maxY-t.minY,a=Math.abs(t.minX)/e,l=Math.abs(t.minY)/n;this.circleCenter=this.height/n>this.width/e?{x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-l)*(c=this.width/e)*n}:{x:this.center.x-(.5-a)*(c=this.height/n)*e,y:this.center.y-(.5-l)*this.height},this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=c*this.radius:(this.radius<=0||this.radius>c)&&(this.polarRadius=c):this.polarRadius=c,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var e,n=this.getCenter(),a=t.x,l=t.y;return this.isTransposed&&(a=(e=[l,a])[0],l=e[1]),a=this.convertDim(a,"x"),l=this.convertDim(l,"y"),{x:n.x+Math.cos(a)*l,y:n.y+Math.sin(a)*l}},r.prototype.invertPoint=function(t){var e,n=this.getCenter(),a=[t.x-n.x,t.y-n.y],c=this.startAngle,f=this.endAngle;this.isReflect("x")&&(c=(e=[f,c])[0],f=e[1]);var g=[1,0,0,0,1,0,0,0,1];Mr.zu(g,g,c);var m=[1,0,0];fa(m,m,g);var b=Mr.Dg([m[0],m[1]],a,f<c);(0,p.vQ)(b,2*Math.PI)&&(b=0);var A=cr.kE(a),E=b/(f-c);E=f-c>0?E:-E;var D=this.invertDim(A,"y"),z={x:0,y:0};return z.x=this.isTransposed?D:E,z.y=this.isTransposed?E:D,z},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],a=[0,Math.sin(t),Math.sin(e)],l=Math.min(t,e);l<Math.max(t,e);l+=Math.PI/18)n.push(Math.cos(l)),a.push(Math.sin(l));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},r}(ol);const Hu=es;var ll={},rs=function(i,r){ll[i.toLowerCase()]=r};function ul(i,r,t){var e=new U.Event(r,t);e.target=i,e.propagationPath.push(i),i.emitDelegation(r,e);for(var n=i.getParent();n;)n.emitDelegation(r,e),e.propagationPath.push(n),n=n.getParent()}rs("rect",sl),rs("cartesian",sl),rs("polar",Hu),rs("helix",Ja);var Yu=[1,0,0,0,1,0,0,0,1];function Nn(i,r,t){return void 0===t&&(t=Yu),r?Mr.vs(t,[["t",-i.x,-i.y],["r",r],["t",i.x,i.y]]):null}function cl(i,r){return i.x||i.y?Mr.vs(r||Yu,[["t",i.x,i.y]]):null}function is(i,r){var t=[0,0];return cr.kK(t,r,i),t}function Wu(i,r,t,e){if(r){var n=Nn({x:t,y:e},r,i.getMatrix());i.setMatrix(n)}}function ln(i,r,t){var e=cl({x:r,y:t});i.attr("matrix",e)}function xn(i){var r=0,t=0,e=0,n=0;return(0,p.hj)(i)?r=t=e=n=i:(0,p.kJ)(i)&&(r=i[0],e=(0,p.UM)(i[1])?i[0]:i[1],n=(0,p.UM)(i[2])?i[0]:i[2],t=(0,p.UM)(i[3])?e:i[3]),[r,e,n,t]}function wn(i){for(var r=i.childNodes,e=r.length-1;e>=0;e--)i.removeChild(r[e])}function Qa(i){var r=i.start,t=i.end,e=Math.min(r.x,t.x),n=Math.min(r.y,t.y),a=Math.max(r.x,t.x),l=Math.max(r.y,t.y);return{x:e,y:n,minX:e,minY:n,maxX:a,maxY:l,width:a-e,height:l-n}}function Xi(i,r,t,e){var n=i+t,a=r+e;return{x:i,y:r,width:t,height:e,minX:i,minY:r,maxX:isNaN(n)?0:n,maxY:isNaN(a)?0:a}}function Mn(i,r,t){return(1-t)*i+r*t}function pa(i,r,t){return{x:i.x+Math.cos(t)*r,y:i.y+Math.sin(t)*r}}var to=function(i,r,t){return void 0===t&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(1/0)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function hl(i){var e,r=i.getClip(),t=r&&r.getBBox();if(i.isGroup()){var n=1/0,a=-1/0,l=1/0,c=-1/0,f=i.getChildren();f.length>0?(0,p.S6)(f,function(g){if(g.get("visible")){if(g.isGroup()&&0===g.get("children").length)return!0;var m=hl(g),x=g.applyToMatrix([m.minX,m.minY,1]),b=g.applyToMatrix([m.minX,m.maxY,1]),A=g.applyToMatrix([m.maxX,m.minY,1]),E=g.applyToMatrix([m.maxX,m.maxY,1]),D=Math.min(x[0],b[0],A[0],E[0]),z=Math.max(x[0],b[0],A[0],E[0]),Y=Math.min(x[1],b[1],A[1],E[1]),it=Math.max(x[1],b[1],A[1],E[1]);D<n&&(n=D),z>a&&(a=z),Y<l&&(l=Y),it>c&&(c=it)}}):(n=0,a=0,l=0,c=0),e=Xi(n,l,a-n,c-l)}else e=i.getBBox();return t?function ev(i,r){var t=Math.max(i.minX,r.minX),e=Math.max(i.minY,r.minY);return Xi(t,e,Math.min(i.maxX,r.maxX)-t,Math.min(i.maxY,r.maxY)-e)}(e,t):e}function ai(i){return i+"px"}function ju(i,r,t,e){var n=function $u(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}(i,r),a=e/n,l=0;return"start"===t?l=0-a:"end"===t&&(l=1+a),{x:Mn(i.x,r.x,l),y:Mn(i.y,r.y,l)}}var iv={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},nv=function(i){function r(t){var e=i.call(this,t)||this;return e.initCfg(),e}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};(0,p.S6)(t,function(a,l){var f=a;e.get(l)!==a&&((0,p.Kn)(a)&&n[l]&&(f=(0,p.b$)({},n[l],a)),e.set(l,f))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,p.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,p.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},r.prototype.setLocation=function(t){var e=(0,w.pi)({},t);this.update(e)},r.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType");return(0,p.S6)(iv[n],function(l){e[l]=t.get(l)}),e},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,p.S6)(e,function(n,a){var l=t.get(a);if((0,p.Kn)(l)){var c=(0,p.b$)({},n,l);t.set(a,c)}})},r}(U.Base);const qu=nv;var un="update_status",av=["visible","tip","delegateObject"],ov=["container","group","shapesMap","isRegister","isUpdating","destroyed"],sv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear(),this.get("group").remove()},r.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},r.prototype.getElementsByName=function(t){var e=[];return(0,p.S6)(this.get("shapesMap"),function(n){n.get("name")===t&&e.push(n)}),e},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},r.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),i.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function Xu(i,r){var t=is(i,[r.minX,r.minY]),e=is(i,[r.maxX,r.minY]),n=is(i,[r.minX,r.maxY]),a=is(i,[r.maxX,r.maxY]),l=Math.min(t[0],e[0],n[0],a[0]),c=Math.max(t[0],e[0],n[0],a[0]),f=Math.min(t[1],e[1],n[1],a[1]),g=Math.max(t[1],e[1],n[1],a[1]);return{x:l,y:f,minX:l,minY:f,maxX:c,maxY:g,width:c-l,height:g-f}}(n,e)),e},r.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},r.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},r.prototype.emit=function(t,e){this.get("group").emit(t,e)},r.prototype.init=function(){i.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),ul(n,t,e)},r.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},r.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",hl(t)),t},r.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},r.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},r.prototype.addComponent=function(t,e){var n=e.id,a=e.component,l=(0,w._T)(e,["id","component"]),c=new a((0,w.pi)((0,w.pi)({},l),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return c.init(),c.render(),this.get("isRegister")&&this.registerElement(c.get("group")),c},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){this.get("group").off()},r.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},r.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},r.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},r.prototype.moveElementTo=function(t,e){var n=cl(e);t.attr("matrix",n)},r.prototype.addAnimation=function(t,e,n){var a=e.attr("opacity");(0,p.UM)(a)&&(a=1),e.attr("opacity",0),e.animate({opacity:a},n)},r.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},r.prototype.updateAnimation=function(t,e,n,a){e.animate(n,a)},r.prototype.updateElements=function(t,e){var f,n=this,a=this.get("animate"),l=this.get("animateOption"),c=t.getChildren().slice(0);(0,p.S6)(c,function(g){var m=g.get("id"),x=n.getElementById(m),b=g.get("name");if(x)if(g.get("isComponent")){var A=g.get("component"),E=x.get("component"),D=(0,p.ei)(A.cfg,(0,p.e5)((0,p.XP)(A.cfg),ov));E.update(D),x.set(un,"update")}else{var z=n.getReplaceAttrs(x,g);a&&l.update?n.updateAnimation(b,x,z,l.update):x.attr(z),g.isGroup()&&n.updateElements(g,x),(0,p.S6)(av,function(ct){x.set(ct,g.get(ct))}),function rv(i,r){if(i.getClip()||r.getClip()){var t=r.getClip();if(!t)return void i.setClip(null);var e={type:t.get("type"),attrs:t.attr()};i.setClip(e)}}(x,g),f=x,x.set(un,"update")}else{e.add(g);var Y=e.getChildren();if(Y.splice(Y.length-1,1),f){var it=Y.indexOf(f);Y.splice(it+1,0,g)}else Y.unshift(g);if(n.registerElement(g),g.set(un,"add"),g.get("isComponent")?(A=g.get("component")).set("container",e):g.isGroup()&&n.registerNewGroup(g),f=g,a){var at=n.get("isInit")?l.appear:l.enter;at&&n.addAnimation(b,g,at)}}})},r.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,p.S6)(e,function(n){n.set(un,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},r.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,p.CD)(e.delegateObject,n)},r.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),a=e.attr();return(0,p.S6)(n,function(l,c){void 0===a[c]&&(a[c]=void 0)}),a},r.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,p.S6)(n,function(a){e.registerElement(a),a.set(un,"add"),a.isGroup()&&e.registerNewGroup(a)})},r.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,p.S6)(e,function(c,f){!c.get(un)||c.destroyed?n.push([f,c]):c.set(un,null)});var a=this.get("animate"),l=this.get("animateOption");(0,p.S6)(n,function(c){var f=c[0],g=c[1];if(!g.destroyed){var m=g.get("name");if(a&&l.leave){var x=(0,p.CD)({callback:function(){t.removeElement(g)}},l.leave);t.removeAnimation(m,g,x)}else t.removeElement(g)}delete e[f]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},r}(qu);const jr=sv;var fl="\u2026";function zn(i,r){return i.charCodeAt(r)>0&&i.charCodeAt(r)<128?1:2}var Wi="\u2026",cv=2,F0=400;function Ii(i){if(i.length>F0)return function Zi(i){for(var r=i.map(function(f){var g=f.attr("text");return(0,p.UM)(g)?"":""+g}),t=0,e=0,n=0;n<r.length;n+=1){for(var a=0,l=0;l<=r[n].length;l+=1){var c=r[n].charCodeAt(l);a+=c>=19968&&c<=40869?2:1}a>t&&(t=a,e=n)}return i[e].getBBox().width}(i);var r=0;return(0,p.S6)(i,function(t){var n=t.getBBox().width;r<n&&(r=n)}),r}function mi(i,r,t,e){var n;void 0===e&&(e="tail");var a=null!==(n=r.attr("text"))&&void 0!==n?n:"";if("tail"===e){var l=(0,p.ei)(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),c=(0,p.Lo)(a,t,l,"\u2026");return a!==c?(r.attr("text",c),r.set("tip",a),!0):(r.set("tip",null),!1)}var f=function Vn(i,r){var t=r.getCanvasBBox();return i?t.width:t.height}(i,r),g=function lv(i){for(var r=0,t=0;t<i.length;t++)r+=zn(i,t);return r}(a),m=!1;if(t<f){var b,x=Math.floor(t/f*g)-cv;b=x>=0?function uv(i,r,t){void 0===t&&(t="tail");var e=i.length,n="";if("tail"===t){for(var a=0,l=0;a<r&&a+zn(i,l)<=r;)n+=i[l],a+=zn(i,l),l++;n+=fl}else if("head"===t){for(a=0,l=e-1;a<r&&a+zn(i,l)<=r;)n+=i[l],a+=zn(i,l),l--;n=fl+n}else{for(var f="",g="",m=(a=0,0),x=e-1;a<r;){var b=zn(i,m),A=!1;b+a<=r&&(f+=i[m],m++,a+=b,A=!0);var E=zn(i,x);if(E+a<=r&&(g=i[x]+g,a+=E,x--,A=!0),!A)break}n=f+fl+g}return n}(a,x,e):Wi,b&&(r.attr("text",b),m=!0)}return r.set("tip",m?a:null),m}function ns(i,r){var t=r.x,e=r.y,n=r.content,a=r.style,l=r.id,c=r.name,f=r.rotate,g=r.maxLength,m=r.autoEllipsis,x=r.isVertical,b=r.ellipsisPosition,A=r.background,E=i.addGroup({id:l+"-group",name:c+"-group",attrs:{x:t,y:e}}),D=E.addShape({type:"text",id:l,name:c,attrs:(0,w.pi)({x:0,y:0,text:n},a)}),z=xn((0,p.U2)(A,"padding",0));if(g&&m&&mi(!x,D,g-(z[1]+z[3]),b),A){var it=(0,p.U2)(A,"style",{}),at=D.getCanvasBBox();E.addShape("rect",{id:l+"-bg",name:l+"-bg",attrs:(0,w.pi)({x:at.minX-z[3],y:at.minY-z[0],width:at.width+z[1]+z[3],height:at.height+z[0]+z[2]},it)}).toBack()}ln(E,t,e),Wu(E,f,t,e)}const sr={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var fv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:sr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:sr.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,w.pi)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},a)})},r.prototype.getLabelPoint=function(t,e,n){var a;return((a="start"===n?0:"center"===n?.5:(0,p.HD)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,p.hj)(n)?n:1)>1||a<0)&&(a=1),{x:Mn(t.x,e.x,a),y:Mn(t.y,e.y,a)}},r.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),a=this.get("end"),c=e.content,f=e.style,g=e.offsetX,m=e.offsetY,x=e.autoRotate,b=e.maxLength,A=e.autoEllipsis,E=e.ellipsisPosition,D=e.background,z=e.isVertical,Y=void 0!==z&&z,it=this.getLabelPoint(n,a,e.position),at=it.x+g,ct=it.y+m,Mt={id:this.getElementId("line-text"),name:"annotation-line-text",x:at,y:ct,content:c,style:f,maxLength:b,autoEllipsis:A,ellipsisPosition:E,background:D,isVertical:Y};if(x){var Xt=[a.x-n.x,a.y-n.y];Mt.rotate=Math.atan2(Xt[1],Xt[0])}ns(t,Mt)},r}(jr);const vv=fv;var pv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,a=e.y,l=this.get("content"),c=this.get("style");ns(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:a,content:l,style:c,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,a=e.y,l=this.get("rotate");ln(t,n,a),Wu(t,l,n,a)}},r}(jr);const dv=pv;var gv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,a=t.startAngle,l=t.endAngle,c=pa(e,n,a),f=pa(e,n,l),g=l-a>Math.PI?1:0,m=[["M",c.x,c.y]];if(l-a==2*Math.PI){var x=pa(e,n,a+Math.PI);m.push(["A",n,n,0,g,1,x.x,x.y]),m.push(["A",n,n,0,g,1,f.x,f.y])}else m.push(["A",n,n,0,g,1,f.x,f.y]);return m},r.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,w.pi)({path:e},n)})},r}(jr);const yv=gv;var mv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),a=this.get("style"),l=Qa({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.pi)({x:l.x,y:l.y,width:l.width,height:l.height},a)})},r}(jr);const xv=mv;var I0=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),a=Qa({start:t,end:e}),l=this.get("src");return(0,w.pi)({x:a.x,y:a.y,img:l,width:a.width,height:a.height},n)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(jr);const vl=I0;var da=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:sr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:sr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:sr.fontFamily}}}})},r.prototype.renderInner=function(t){(0,p.U2)(this.get("line"),"display")&&this.renderLine(t),(0,p.U2)(this.get("text"),"display")&&this.renderText(t),(0,p.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},r.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},r.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,a=e.y,l=e.text,c=(0,w._T)(e,["x","y","text"]),f=this.get("text"),g=f.background,m=f.maxLength,x=f.autoEllipsis,b=f.isVertival,A=f.ellipsisPosition;ns(t,{x:n,y:a,id:this.getElementId("text"),name:"annotation-text",content:l,style:c,background:g,maxLength:m,autoEllipsis:x,isVertival:b,ellipsisPosition:A})},r.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),a=this.get("y"),l=(0,p.U2)(this.get("line"),"length",0),c=this.get("coordinateBBox"),f=t.getBBox(),g=f.minX,m=f.maxX,x=f.minY,b=f.maxY,A=t.findById(this.getElementId("text-group")),E=t.findById(this.getElementId("text")),D=t.findById(this.getElementId("line"));if(c&&A){var z=A.attr("x"),Y=A.attr("y"),it=E.getCanvasBBox(),at=it.width,ct=it.height,Mt=0,Xt=0;if(n+g<=c.minX)if("leftward"===e)Mt=1;else{var jt=c.minX-(n+g);z=A.attr("x")+jt}else n+m>=c.maxX&&("rightward"===e?Mt=-1:(jt=n+m-c.maxX,z=A.attr("x")-jt));Mt&&(D&&D.attr("path",[["M",0,0],["L",l*Mt,0]]),z=(l+2+at)*Mt),a+x<=c.minY?"upward"===e?Xt=1:(jt=c.minY-(a+x),Y=A.attr("y")+jt):a+b>=c.maxY&&("downward"===e?Xt=-1:(jt=a+b-c.maxY,Y=A.attr("y")-jt)),Xt&&(D&&D.attr("path",[["M",0,0],["L",0,l*Xt]]),Y=(l+2+ct)*Xt),(z!==A.attr("x")||Y!==A.attr("y"))&&ln(A,z,Y)}},r.prototype.getShapeAttrs=function(){var t=(0,p.U2)(this.get("line"),"display"),e=(0,p.U2)(this.get("point"),"style",{}),n=(0,p.U2)(this.get("line"),"style",{}),a=(0,p.U2)(this.get("text"),"style",{}),l=this.get("direction"),c=t?(0,p.U2)(this.get("line"),"length",0):0,f=0,g=0,m="top",x="start";switch(l){case"upward":g=-1,m="bottom";break;case"downward":g=1,m="top";break;case"leftward":f=-1,x="end";break;case"rightward":f=1,x="start"}return{point:(0,w.pi)({x:0,y:0},e),line:(0,w.pi)({path:[["M",0,0],["L",c*f,c*g]]},n),text:(0,w.pi)({x:(c+2)*f,y:(c+2)*g,text:(0,p.U2)(this.get("text"),"content",""),textBaseline:m,textAlign:x},a)}},r}(jr);const wv=da;var Mv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:sr.textColor,fontFamily:sr.fontFamily}}}})},r.prototype.renderInner=function(t){var e=(0,p.U2)(this.get("region"),"style",{}),a=((0,p.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),l=this.get("points");if(l.length){var c=function tv(i){var r=i.map(function(c){return c.x}),t=i.map(function(c){return c.y}),e=Math.min.apply(Math,r),n=Math.min.apply(Math,t),a=Math.max.apply(Math,r),l=Math.max.apply(Math,t);return{x:e,y:n,minX:e,minY:n,maxX:a,maxY:l,width:a-e,height:l-n}}(l),f=[];f.push(["M",l[0].x,c.minY-a]),l.forEach(function(m){f.push(["L",m.x,m.y])}),f.push(["L",l[l.length-1].x,l[l.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.pi)({path:f},e)}),ns(t,(0,w.pi)({id:this.getElementId("text"),name:"annotation-text",x:(c.minX+c.maxX)/2,y:c.minY-a},this.get("text")))}},r}(jr);const Ku=Mv;var Sv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var e=this,n=this.get("start"),a=this.get("end"),l=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,p.S6)(this.get("shapes"),function(f,g){var m=f.get("type"),x=(0,p.d9)(f.attr());e.adjustShapeAttrs(x),e.addShape(l,{id:e.getElementId("shape-"+m+"-"+g),capture:!1,type:m,attrs:x})});var c=Qa({start:n,end:a});l.setClip({type:"rect",attrs:{x:c.minX,y:c.minY,width:c.width,height:c.height}})},r.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},r}(jr);const Ju=Sv;var Cv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"shape",draw:p.ZT})},r.prototype.renderInner=function(t){var e=this.get("render");(0,p.mf)(e)&&e(t)},r}(jr);const bv=Cv;function hi(i,r,t){var e;try{e=window.getComputedStyle?window.getComputedStyle(i,null)[r]:i.style[r]}catch{}finally{e=void 0===e?t:e}return e}var Qu=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},r.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){this.getContainer().style.pointerEvents=t?"auto":"none",this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer();return Xi(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){wn(this.get("container"))},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),i.prototype.destroy.call(this)},r.prototype.init=function(){i.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,p.UM)(t)){t=this.createDom();var e=this.get("parent");(0,p.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,p.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,p.b$)({},e,t):e,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");n&&function Zu(i,r){return!!i.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}(e,n)&&ae(e,t[n])}},r.prototype.applyChildrenStyles=function(t,e){(0,p.S6)(e,function(n,a){var l=t.getElementsByClassName(a);(0,p.S6)(l,function(c){ae(c,n)})})},r.prototype.applyStyle=function(t,e){ae(e,this.get("domStyles")[t])},r.prototype.createDom=function(){return te(this.get("containerTpl"))},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,p.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(qu);const as=Qu;var Fv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),e=this.get("html");wn(t);var n=(0,p.mf)(e)?e(t):e;if((0,p.kK)(n))t.appendChild(n);else if((0,p.HD)(n)||(0,p.hj)(n)){var a=te(""+n);a&&t.appendChild(a)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,a=e.y,l=this.get("alignX"),c=this.get("alignY"),f=this.get("offsetX"),g=this.get("offsetY"),m=function Tv(i,r){var t=function Av(i,r){var t=hi(i,"width",r);return"auto"===t&&(t=i.offsetWidth),parseFloat(t)}(i,r),e=parseFloat(hi(i,"borderLeftWidth"))||0,n=parseFloat(hi(i,"paddingLeft"))||0,a=parseFloat(hi(i,"paddingRight"))||0,l=parseFloat(hi(i,"borderRightWidth"))||0,c=parseFloat(hi(i,"marginRight"))||0;return t+e+l+n+a+(parseFloat(hi(i,"marginLeft"))||0)+c}(t),x=function L0(i,r){var t=function Ev(i,r){var t=hi(i,"height",r);return"auto"===t&&(t=i.offsetHeight),parseFloat(t)}(i,r),e=parseFloat(hi(i,"borderTopWidth"))||0,n=parseFloat(hi(i,"paddingTop"))||0,a=parseFloat(hi(i,"paddingBottom"))||0;return t+e+(parseFloat(hi(i,"borderBottomWidth"))||0)+n+a+(parseFloat(hi(i,"marginTop"))||0)+(parseFloat(hi(i,"marginBottom"))||0)}(t),b={x:n,y:a};"middle"===l?b.x-=Math.round(m/2):"right"===l&&(b.x-=Math.round(m)),"middle"===c?b.y-=Math.round(x/2):"bottom"===c&&(b.y-=Math.round(x)),f&&(b.x+=f),g&&(b.y+=g),ae(t,{position:"absolute",left:b.x+"px",top:b.y+"px",zIndex:this.get("zIndex")})},r}(as);const tc=Fv;function eo(i,r,t){var e=r+"Style",n=null;return(0,p.S6)(t,function(a,l){i[l]&&a[e]&&(n||(n={}),(0,p.CD)(n,a[e]))}),n}var Iv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},tickLine:{style:{lineWidth:1,stroke:sr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:sr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:sr.textColor,fontFamily:sr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily,textAlign:"center"},iconStyle:{fill:sr.descriptionIconFill,stroke:sr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:sr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,e){(0,p.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return(0,p.S6)(e,function(a,l){t[l]&&n.push(l)}),n},r.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,p.S6)(n,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,p.hX)(n,function(a){return e.hasState(a,t)})},r.prototype.getSidePoint=function(t,e){var a=this.getSideVector(e,t);return{x:t.x+a[0],y:t.y+a[1]}},r.prototype.getTextAnchor=function(t){var e;return(0,p.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},r.prototype.getTextBaseline=function(t){var e;return(0,p.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,p.CD)({path:e},n.style)})},r.prototype.getTickLineItems=function(t){var e=this,n=[],a=this.get("tickLine"),l=a.alignTick,c=a.length,f=1;return t.length>=2&&(f=t[1].value-t[0].value),(0,p.S6)(t,function(m){var x=m.point;l||(x=e.getTickPoint(m.value-f/2));var b=e.getSidePoint(x,c);n.push({startPoint:x,tickValue:m.value,endPoint:b,tickId:m.id,id:"tickline-"+m.id})}),n},r.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),a=n.count,l=t.length;if(l>=2)for(var c=0;c<l-1;c++)for(var f=t[c],g=t[c+1],m=0;m<a;m++){var x=(m+1)/(a+1),b=(1-x)*f.tickValue+x*g.tickValue,A=this.getTickPoint(b),E=this.getSidePoint(A,n.length);e.push({startPoint:A,endPoint:E,tickValue:b,id:"sub-"+f.id+"-"+m})}return e},r.prototype.getTickLineAttrs=function(t,e,n,a){var l=this.get(e).style,c={points:[t.startPoint,t.endPoint]},f=(0,p.U2)(this.get("theme"),["tickLine","style"],{});l=(0,p.mf)(l)?(0,p.CD)({},f,l(c,n,a)):l;var g=t.startPoint,m=t.endPoint;return(0,w.pi)({x1:g.x,y1:g.y,x2:m.x,y2:m.y},l)},r.prototype.drawTick=function(t,e,n,a,l){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,a,l)})},r.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),a=this.get("subTickLine"),l=this.getTickLineItems(n),c=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),f=this.get("tickLine");if((0,p.S6)(l,function(m,x){if(f.displayWithLabel){var b=e.getElementId("label-"+m.tickId);t.findById(b)&&e.drawTick(m,c,"tickLine",x,l)}else e.drawTick(m,c,"tickLine",x,l)}),a){var g=this.getSubTickLineItems(l);(0,p.S6)(g,function(m,x){e.drawTick(m,c,"subTickLine",x,g)})}},r.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,p.S6)(e,function(n){n.point=t.getTickPoint(n.value),(0,p.UM)(n.id)&&(n.id=n.name)})},r.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,p.S6)(n,function(a){e.applyTickStates(a,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,p.dp)(e);if(n>t.threshold){var a=Math.ceil(n/t.threshold),l=e.filter(function(c,f){return f%a==0});this.set("ticks",l),this.set("originalTicks",e)}}},r.prototype.getLabelAttrs=function(t,e,n){var a=this.get("label"),l=a.offset,c=a.offsetX,f=a.offsetY,g=a.rotate,m=a.formatter,x=this.getSidePoint(t.point,l),b=this.getSideVector(l,x),A=m?m(t.name,t,e):t.name,E=a.style;E=(0,p.mf)(E)?(0,p.U2)(this.get("theme"),["label","style"],{}):E;var D=(0,p.CD)({x:x.x+c,y:x.y+f,text:A,textAlign:this.getTextAnchor(b),textBaseline:this.getTextBaseline(b)},E);return g&&(D.matrix=Nn(x,g)),D},r.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,p.S6)(n,function(b,A){e.addShape(a,{type:"text",name:"axis-label",id:e.getElementId("label-"+b.id),attrs:e.getLabelAttrs(b,A,n),delegateObject:{tick:b,item:b,index:A}})}),this.processOverlap(a);var l=a.getChildren(),c=(0,p.U2)(this.get("theme"),["label","style"],{}),f=this.get("label"),g=f.style,m=f.formatter;if((0,p.mf)(g)){var x=l.map(function(b){return(0,p.U2)(b.get("delegateObject"),"tick")});(0,p.S6)(l,function(b,A){var E=b.get("delegateObject").tick,D=m?m(E.name,E,A):E.name,z=(0,p.CD)({},c,g(D,A,x));b.attr(z)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,a=t.offset,l=t.spacing,c=void 0===l?0:l,f=t.autoRotate,g=e.fontSize,m=.5;"start"===n?m=0:"end"===n&&(m=1);var x=this.getTickPoint(m),b=this.getSidePoint(x,a||c+g/2),A=(0,p.CD)({x:b.x,y:b.y,text:t.text},e),E=t.rotate,D=E;if((0,p.UM)(E)&&f){var z=this.getAxisVector(x);D=Mr.Dg(z,[1,0],!0)}if(D){var it=Nn(b,D);A.matrix=it}return A},r.prototype.drawTitle=function(t){var e,n=this.getTitleAttrs(),a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});null!==(e=this.get("title"))&&void 0!==e&&e.description&&this.drawDescriptionIcon(t,a,n.matrix)},r.prototype.drawDescriptionIcon=function(t,e,n){var a=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),l=e.getBBox(),c=l.maxX,f=l.maxY,g=l.height,m=this.get("title").iconStyle,b=g/2,A=b/6,E=c+4,D=f-g/2,z=[E+b,D-b],Y=z[0],it=z[1],at=[Y+b,it+b],ct=at[0],Mt=at[1],Xt=[Y,Mt+b],jt=Xt[0],ne=Xt[1],ye=[E,it+b],xe=ye[0],Ve=ye[1],ze=[E+b,D-g/4],er=ze[0],ur=ze[1],wr=[er,ur+A],ni=wr[0],Xr=wr[1],pi=[ni,Xr+A],Tr=pi[0],Ci=pi[1],Oo=[Tr,Ci+3*b/4],xu=Oo[0],wu=Oo[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,w.pi)({path:[["M",Y,it],["A",b,b,0,0,1,ct,Mt],["A",b,b,0,0,1,jt,ne],["A",b,b,0,0,1,xe,Ve],["A",b,b,0,0,1,Y,it],["M",er,ur],["L",ni,Xr],["M",Tr,Ci],["L",xu,wu]],lineWidth:A,matrix:n},m)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:E,y:D-g/2,width:g,height:g,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var a=this.get("tickStates"),l=this.getElementId("label-"+t.id),c=e.findById(l);if(c){var f=eo(t,"label",a);f&&c.attr(f)}var g=this.getElementId("tickline-"+t.id),m=e.findById(g);if(m){var x=eo(t,"tickLine",a);x&&m.attr(x)}}},r.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),a=this.get("label"),l=this.getElementByLocalId("label-"+t.id),c=this.get("tickLine"),f=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(l){var g=eo(t,"label",n);g&&l.attr(g)}if(f){var m=eo(t,"tickLine",n);m&&f.attr(m)}}else l&&l.attr(a.style),f&&f.attr(c.style)},r}(jr);const ec=Iv;function pl(i,r,t,e){var n=r.getChildren(),a=!1;return(0,p.S6)(n,function(l){var c=mi(i,l,t,e);a=a||c}),a}function Lv(){return rc}function k0(i,r,t){return pl(i,r,t,"head")}function rc(i,r,t){return pl(i,r,t,"tail")}function kv(i,r,t){return pl(i,r,t,"middle")}function ic(i){var r=function Pv(i){var r=i.attr("matrix");return r&&1!==r[0]}(i)?function Qf(i){var t=[0,0,0];return fa(t,[1,0,0],i),Math.atan2(t[1],t[0])}(i.attr("matrix")):0;return r%360}function dl(i,r,t,e){var n=!1,a=ic(r),l=Math.abs(i?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),c=(i?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(i){var f=Math.abs(Math.cos(a));n=to(f,0,Math.PI/180)?c.width+e>l:c.height/f+e>l}else f=Math.abs(Math.sin(a)),n=to(f,0,Math.PI/180)?c.width+e>l:c.height/f+e>l;return n}function ro(i,r,t,e){var n=e?.minGap||0,a=r.getChildren().slice().filter(function(E){return E.get("visible")});if(!a.length)return!1;var l=!1;t&&a.reverse();for(var c=a.length,g=a[0],m=1;m<c;m++){var x=a[m];x.getBBox(),dl(i,g,x,n)?(x.hide(),l=!0):g=x}return l}function nc(i,r,t){var e=t?.minGap||0,n=r.getChildren().slice();if(n.length<2)return!1;var a=!1,l=n[0],c=l.getBBox(),f=n[1],g=n.length,m=ic(l),x=Math.abs(i?f.attr("y")-l.attr("y"):f.attr("x")-l.attr("x")),b=0;if(i){var A=Math.abs(Math.cos(m));b=to(A,0,Math.PI/180)?(Ii(n)+e)/x:(c.height/A+e)/x}else A=Math.abs(Math.sin(m)),b=to(A,0,Math.PI/180)?(Ii(n)+e)/x:(c.height/A+e)/x;if(b>1){b=Math.ceil(b);for(var D=0;D<g;D++)D%b!=0&&(n[D].hide(),a=!0)}return a}function ac(){return uc}function oc(i,r,t,e){return ro(i,r,!1,e)}function sc(i,r,t,e){return ro(i,r,!0,e)}function lc(i,r,t,e){var n=e?.minGap||0,a=r.getChildren().slice();if(a.length<=2)return!1;for(var l=!1,c=a.length,g=a[c-1],m=a[0],x=1;x<c-1;x++){var b=a[x];b.getBBox(),dl(i,m,b,n)?(b.hide(),l=!0):m=b}return dl(i,m,g,n)&&(m.hide(),l=!0),l}function uc(i,r,t,e){var n=nc(i,r,e);return ro(i,r,!1)&&(n=!0),n}function Dv(i,r,t,e){var n=r.getChildren().slice(),a=nc(i,r,e);if(n.length>2){var l=n[0],c=n[n.length-1];l.get("visible")||(l.show(),ro(i,r,!1,e)&&(a=!0)),c.get("visible")||(c.show(),ro(i,r,!0,e)&&(a=!0))}return a}function cc(i,r,t,e){var n=r.getChildren();if(!n.length||!i&&n.length<2)return!1;var a=Ii(n),l=!1;return(l=i?!!t&&a>t:a>Math.abs(n[1].attr("x")-n[0].attr("x")))&&function Ov(i,r){(0,p.S6)(i,function(t){var a=Nn({x:t.attr("x"),y:t.attr("y")},r);t.attr("matrix",a)})}(n,e(t,a)),l}function Bv(){return hc}function hc(i,r,t,e){return cc(i,r,t,function(){return(0,p.hj)(e)?e:i?sr.verticalAxisRotate:sr.horizontalAxisRotate})}function _v(i,r,t){return cc(i,r,t,function(e,n){if(!e)return i?sr.verticalAxisRotate:sr.horizontalAxisRotate;if(i)return-Math.acos(e/n);var a=0;return(e>n||(a=Math.asin(e/n))>Math.PI/4)&&(a=Math.PI/4),a})}var Rv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),n=i.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,e.x,n.x),l=Math.min(t.y,e.y,n.y),c=Math.max(t.x,e.x,n.maxX),f=Math.max(t.y,e.y,n.maxY);return{x:a,y:l,minX:a,minY:l,maxX:c,maxY:f,width:c-a,height:f-l}},r.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,p.vQ)(t.x,e.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,p.vQ)(t.y,e.y)},r.prototype.getTickPoint=function(t){var n=this.get("start"),a=this.get("end");return{x:n.x+(a.x-n.x)*t,y:n.y+(a.y-n.y)*t}},r.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=cr.Fv([0,0],e),a=this.get("verticalFactor");return cr.bA([0,0],[n[1],-1*n[0]],t*a)},r.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},r.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),a=this.isHorizontal();if(n||a){var l=this.get("label"),c=this.get("title"),f=this.get("verticalLimitLength"),g=l.offset,m=f,x=0,b=0;c&&(x=c.style.fontSize,b=c.spacing),m&&(m=m-g-b-x);var A=this.get("overlapOrder");if((0,p.S6)(A,function(z){l[z]&&e.canProcessOverlap(z)&&e.autoProcessOverlap(z,l[z],t,m)}),c&&(0,p.UM)(c.offset)){var E=t.getCanvasBBox();c.offset=g+(n?E.width:E.height)+b+x/2}}},r.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,p.UM)(e.rotate)},r.prototype.autoProcessOverlap=function(t,e,n,a){var l=this,c=this.isVertical(),f=!1,g=Nt[t];if(!0===e?(this.get("label"),f=g.getDefault()(c,n,a)):(0,p.mf)(e)?f=e(c,n,a):(0,p.Kn)(e)?g[e.type]&&(f=g[e.type](c,n,a,e.cfg)):g[e]&&(f=g[e](c,n,a)),"autoRotate"===t){if(f){var b=n.getChildren(),A=this.get("verticalFactor");(0,p.S6)(b,function(D){"center"===D.attr("textAlign")&&D.attr("textAlign",A>0?"end":"start")})}}else if("autoHide"===t){var E=n.getChildren().slice(0);(0,p.S6)(E,function(D){D.get("visible")||(l.get("isRegister")&&l.unregisterElement(D),D.remove())})}},r}(ec);const Nv=Rv;var zv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,a=this.get("radius"),l=a,c=this.get("startAngle"),f=this.get("endAngle"),g=[];if(Math.abs(f-c)===2*Math.PI)g=[["M",e,n-l],["A",a,l,0,1,1,e,n+l],["A",a,l,0,1,1,e,n-l],["Z"]];else{var m=this.getCirclePoint(c),x=this.getCirclePoint(f),b=Math.abs(f-c)>Math.PI?1:0;g=[["M",e,n],["L",m.x,m.y],["A",a,l,0,b,c>f?0:1,x.x,x.y],["L",e,n]]}return g},r.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=this.get("endAngle");return this.getCirclePoint(e+(n-e)*t)},r.prototype.getSideVector=function(t,e){var n=this.get("center"),a=[e.x-n.x,e.y-n.y],l=this.get("verticalFactor"),c=cr.kE(a);return cr.bA(a,a,l*t/c),a},r.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},r.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},r.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,p.UM)(e.rotate)},r.prototype.processOverlap=function(t){var e=this,n=this.get("label"),a=this.get("title"),l=this.get("verticalLimitLength"),c=n.offset,f=l,g=0,m=0;a&&(g=a.style.fontSize,m=a.spacing),f&&(f=f-c-m-g);var x=this.get("overlapOrder");if((0,p.S6)(x,function(A){n[A]&&e.canProcessOverlap(A)&&e.autoProcessOverlap(A,n[A],t,f)}),a&&(0,p.UM)(a.offset)){var b=t.getCanvasBBox().height;a.offset=c+b+m+g/2}},r.prototype.autoProcessOverlap=function(t,e,n,a){var l=this,c=!1,f=Nt[t];if(a>0&&(!0===e?c=f.getDefault()(!1,n,a):(0,p.mf)(e)?c=e(!1,n,a):(0,p.Kn)(e)?f[e.type]&&(c=f[e.type](!1,n,a,e.cfg)):f[e]&&(c=f[e](!1,n,a))),"autoRotate"===t){if(c){var m=n.getChildren(),x=this.get("verticalFactor");(0,p.S6)(m,function(A){"center"===A.attr("textAlign")&&A.attr("textAlign",x>0?"end":"start")})}}else if("autoHide"===t){var b=n.getChildren().slice(0);(0,p.S6)(b,function(A){A.get("visible")||(l.get("isRegister")&&l.unregisterElement(A),A.remove())})}},r}(ec);const Vv=zv;var P0=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:sr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}},textBackground:{padding:5,style:{stroke:sr.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var e=this.get("text"),n=e.style,a=e.autoRotate,l=e.content;if(!(0,p.UM)(l)){var c=this.getTextPoint(),f=null;a&&(f=Nn(c,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,w.pi)((0,w.pi)((0,w.pi)({},c),{text:l,matrix:f}),n)})}},r.prototype.renderLine=function(t){var e=this.getLinePath(),a=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,w.pi)({path:e},a)})},r.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),a=this.get("textBackground");if(a&&n){var l=n.getBBox(),c=xn(a.padding),f=a.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,w.pi)({x:l.x-c[3],y:l.y-c[0],width:l.width+c[1]+c[3],height:l.height+c[0]+c[2],matrix:n.attr("matrix")},f)}).toBack()}},r}(jr);const gl=P0;var Uv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,a=this.get("text").position,l=Math.atan2(n.y-e.y,n.x-e.x);return"start"===a?l-Math.PI/2:l+Math.PI/2},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,a=this.get("text");return ju(e,n,a.position,a.offset)},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},r}(gl);const yl=Uv;var Gv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},r.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,a=this.getLocation(),l=a.center,c=a.radius,m="start"===e?a.startAngle:a.endAngle,x=this.getRotateAngle()-Math.PI,b=pa(l,c,m),A=Math.cos(x)*n,E=Math.sin(x)*n;return{x:b.x+A,y:b.y+E}},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,a=t.startAngle,l=t.endAngle,c=null;if(l-a==2*Math.PI){var f=e.x,g=e.y;c=[["M",f,g-n],["A",n,n,0,1,1,f,g+n],["A",n,n,0,1,1,f,g-n],["Z"]]}else{var m=pa(e,n,a),x=pa(e,n,l),b=Math.abs(l-a)>Math.PI?1:0;c=[["M",m.x,m.y],["A",n,n,0,b,a>l?0:1,x.x,x.y]]}return c},r}(gl);const fc=Gv;var io,ga="g2-crosshair",ml=ga+"-line",Un=ga+"-text";const Hv=((io={})[""+ga]={position:"relative"},io[""+ml]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},io[""+Un]={position:"absolute",color:sr.textColor,fontFamily:sr.fontFamily},io);var Yv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+ga+'"></div>',crosshairTpl:'<div class="'+ml+'"></div>',textTpl:'<span class="'+Un+'">{content}</span>',domStyles:null,containerClassName:ga,defaultStyles:Hv,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),n=te(this.get("crosshairTpl"));t.appendChild(n),this.applyStyle(ml,n),this.set("crosshairEl",n)},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,a=this.get("text");return ju(e,n,a.position,a.offset)},r.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var a=this.getContainer();e=te((0,p.ng)(this.get("textTpl"),t)),a.appendChild(e),this.applyStyle(Un,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},r.prototype.isVertical=function(t,e){return t.x===e.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),a=Math.min(e.x,n.x),l=Math.min(e.y,n.y);this.isVertical(e,n)?ae(t,{width:"1px",height:ai(Math.abs(n.y-e.y))}):ae(t,{height:"1px",width:ai(Math.abs(n.x-e.x))}),ae(t,{top:ai(l),left:ai(a)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,a=this.getTextPoint();switch(e){case"center":a.x=a.x-n/2;break;case"right":a.x=a.x-n}ae(t,{top:ai(a.y),left:ai(a.x)})}},r.prototype.updateInner=function(t){(0,p.wH)(t,"text")&&this.resetText(),i.prototype.updateInner.call(this,t)},r}(as);const vc=Yv;var Xv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:sr.lineColor}}}})},r.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),a=e.slice(0).reverse(),l=this.getGridPath(a,!0);return this.get("closed")?n=n.concat(l):(l[0][0]="L",(n=n.concat(l)).push(["Z"])),n},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var e=this,n=this.get("line"),a=this.get("items"),l=this.get("alternateColor"),c=null;(0,p.S6)(a,function(f,g){var m=f.id||g;if(n){var x=e.getPathStyle();x=(0,p.mf)(x)?x(f,g,a):x;var b=e.getElementId("line-"+m),A=e.getGridPath(f.points);e.addShape(t,{type:"path",name:"grid-line",id:b,attrs:(0,p.CD)({path:A},x)})}if(l&&g>0){var E=e.getElementId("region-"+m),D=g%2==0;(0,p.HD)(l)?D&&e.drawAlternateRegion(E,t,c.points,f.points,l):e.drawAlternateRegion(E,t,c.points,f.points,D?l[1]:l[0])}c=f})},r.prototype.drawAlternateRegion=function(t,e,n,a,l){var c=this.getAlternatePath(n,a);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:c,fill:l}})},r}(jr);const no=Xv;var xl=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,e){var n=this.getLineType(),a=this.get("closed"),l=[];if(t.length)if("circle"===n){var c=this.get("center"),f=t[0],g=function pc(i,r,t,e){var n=t-i,a=e-r;return Math.sqrt(n*n+a*a)}(c.x,c.y,f.x,f.y),m=e?0:1;a?(l.push(["M",c.x,c.y-g]),l.push(["A",g,g,0,0,m,c.x,c.y+g]),l.push(["A",g,g,0,0,m,c.x,c.y-g]),l.push(["Z"])):(0,p.S6)(t,function(x,b){l.push(0===b?["M",x.x,x.y]:["A",g,g,0,0,m,x.x,x.y])})}else(0,p.S6)(t,function(x,b){l.push(0===b?["M",x.x,x.y]:["L",x.x,x.y])}),a&&l.push(["Z"]);return l},r}(no);const Wv=xl;var Zv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"line"})},r.prototype.getGridPath=function(t){var e=[];return(0,p.S6)(t,function(n,a){e.push(0===a?["M",n.x,n.y]:["L",n.x,n.y])}),e},r}(no);const ao=Zv;var dc=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=i.prototype.getLayoutBBox.call(this),e=this.get("maxWidth"),n=this.get("maxHeight"),a=t.width,l=t.height;return e&&(a=Math.min(a,e)),n&&(l=Math.min(l,n)),Xi(t.minX,t.minY,a,l)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+a})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),a=xn(e.padding),l=(0,w.pi)({x:0,y:0,width:n.width+a[1]+a[3],height:n.height+a[0]+a[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:l}).toBack()},r.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),a=n.spacing,l=n.style,c=n.text,g=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,w.pi)({text:c,x:e.x,y:e.y},l)}).getBBox();this.set("currentPoint",{x:e.x,y:g.maxY+a})},r.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=xn(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},r}(jr);const wl=dc;var os={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},oo={fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:sr.fontFamily,fontWeight:"normal",lineHeight:12},ya="navigation-arrow-right",ss="navigation-arrow-left",gc={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},$v=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:n},100):e.attr({matrix:n})}},t.onNavigationAfter=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:n},100):e.attr({matrix:n})}},t}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:sr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:os,itemName:{spacing:16,style:oo},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:oo,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{fill:sr.uncheckedColor,stroke:sr.uncheckedColor}},inactive:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,e){(0,p.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,e,n){t[e]=n;var a=this.getElementByLocalId("item-"+t.id);if(a){var c=this.getItems().indexOf(t),f=this.createOffScreenGroup(),g=this.drawItem(t,c,this.getItemHeight(),f);this.updateElements(g,a),this.clearUpdateStatus(a)}},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return(0,p.S6)(e,function(a,l){t[l]&&n.push(l)}),n},r.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,p.S6)(n,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,p.hX)(n,function(a){return e.hasState(a,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,p.S6)(t,function(e){e.id||(e.id=e.name)})},r.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),l=this.getItemHeight(),c=this.get("itemWidth"),f=this.get("itemSpacing"),g=this.get("itemMarginBottom"),m=this.get("currentPoint"),x=m.x,b=m.y,A=this.get("layout"),E=this.get("items"),D=!1,z=0,Y=this.get("maxWidth"),it=this.get("maxHeight");(0,p.S6)(E,function(at,ct){var Mt=e.drawItem(at,ct,l,a),Xt=Mt.getBBox(),jt=c||Xt.width;jt>z&&(z=jt),"horizontal"===A?(Y&&Y<m.x+jt-x&&(D=!0,m.x=x,m.y+=l+g),e.moveElementTo(Mt,m),m.x+=jt+f):(it&&it<m.y+l+g-b&&(D=!0,m.x+=z+f,m.y=b,z=0),e.moveElementTo(Mt,m),m.y+=l+g)}),D&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=x,this.startY=b,this.adjustNavigation(t,a))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,p.mf)(e)){var n=this.getItems();n.forEach(function(a,l){var c=(0,w.pi)((0,w.pi)({},oo),e(a,l,n)).fontSize;t<c&&(t=c)})}else e&&(t=e.fontSize)}return t},r.prototype.drawMarker=function(t,e,n,a){var l=(0,w.pi)((0,w.pi)((0,w.pi)({x:0,y:a/2},e.style),{symbol:(0,p.U2)(n.marker,"symbol","circle")}),(0,p.U2)(n.marker,"style",{})),c=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:l}),f=c.getBBox();c.attr("x",f.width/2);var g=c.attr(),x=g.fill;return g.stroke&&c.set("isStroke",!0),x&&c.set("isFill",!0),c},r.prototype.drawItemText=function(t,e,n,a,l,c,f){var g=n.formatter,m=n.style,x=(0,w.pi)((0,w.pi)({x:c,y:l/2,text:g?g(a[e],a,f):a[e]},oo),(0,p.mf)(m)?m(a,f,this.getItems()):m);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+e),name:"legend-item-"+e,attrs:x})},r.prototype.drawRadio=function(t,e,n,a,l){var c,f,g=e.style||{},m=null!==(c=g.r)&&void 0!==c?c:a/2,x=3.6*m/8,b=[l+m,a/2-m],A=b[0],E=b[1],D=[A+m,E+m],z=D[0],Y=D[1],it=[A,Y+m],at=it[0],ct=it[1],Mt=[l,E+m],Xt=Mt[0],jt=Mt[1],ne=n.showRadio,ye=(0,w.pi)((0,w.pi)({path:[["M",A,E],["A",m,m,0,0,1,z,Y],["L",z-x,Y],["L",z,Y],["A",m,m,0,0,1,at,ct],["L",at,ct-x],["L",at,ct],["A",m,m,0,0,1,Xt,jt],["L",Xt+x,jt],["L",Xt,jt],["A",m,m,0,0,1,A,E],["L",A,E+x]],stroke:"#000000",fill:"#ffffff"},g),{opacity:ne?null!==(f=g?.opacity)&&void 0!==f?f:.45:0}),xe=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:ye});return xe.set("tip",e.tip),xe},r.prototype.drawItem=function(t,e,n,a){var l="item-"+t.id,c=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+l),delegateObject:{item:t,index:e}}),f=this.addGroup(c,{name:"legend-item",id:this.getElementId(l),delegateObject:{item:t,index:e}}),g=this.get("marker"),m=this.get("itemName"),x=this.get("itemValue"),b=this.get("itemBackground"),A=this.get("radio"),E=this.getLimitItemWidth(),D=0;if(g){var z=this.drawMarker(f,g,t,n),Y=g.spacing,it=(0,p.U2)(t,["marker","spacing"]);(0,p.hj)(it)&&(Y=it),D=z.getBBox().maxX+Y}if(m){var at=this.drawItemText(f,"name",m,t,n,D,e);E&&mi(!0,at,(0,p.uZ)(E-D,0,E)),D=at.getBBox().maxX+m.spacing}if(x){var ct=this.drawItemText(f,"value",x,t,n,D,e);E&&(x.alignRight?(ct.attr({textAlign:"right",x:E}),mi(!0,ct,(0,p.uZ)(E-D,0,E),"head")):mi(!0,ct,(0,p.uZ)(E-D,0,E))),D=ct.getBBox().maxX+x.spacing}if(A&&this.drawRadio(f,A,t,n,D),b){var Mt=f.getBBox();this.addShape(f,{type:"rect",name:"legend-item-background",id:this.getElementId(l+"-background"),attrs:(0,w.pi)({x:0,y:0,width:Mt.width,height:n},b.style)}).toBack()}return this.applyItemStates(t,f),f},r.prototype.adjustNavigation=function(t,e){var n=this,a=this.startX,l=this.startY,c=this.get("layout"),f=e.findAll(function(ze){return"legend-item"===ze.get("name")}),g=this.get("maxWidth"),m=this.get("maxHeight"),x=this.get("itemWidth"),b=this.get("itemSpacing"),A=this.getItemHeight(),E=(0,p.b$)({},os,this.get("pageNavigator")),D=this.drawNavigation(t,c,"00/00",E),z=D.getBBox(),Y={x:a,y:l},it=1,at=0,ct=0,Mt=0,Xt=this.get("itemMarginBottom");if("horizontal"===c){var ne=this.get("maxRow")||1,ye=A+(1===ne?0:Xt),xe=g-b-z.width-z.minX;this.pageHeight=ye*ne,this.pageWidth=xe,(0,p.S6)(f,function(ze){var er=ze.getBBox(),ur=x||er.width;(at&&at<Y.x+ur+b||function jt(ze,er){var ur=ze.getBBox();return er.x+(x||ur.width)+b+z.width>g}(ze,Y))&&(1===it&&(at=Y.x+b,n.moveElementTo(D,{x:xe,y:Y.y+A/2-z.height/2-z.minY})),it+=1,Y.x=a,Y.y+=ye),n.moveElementTo(ze,Y),ze.getParent().setClip({type:"rect",attrs:{x:Y.x,y:Y.y,width:ur+b,height:A}}),Y.x+=ur+b})}else{(0,p.S6)(f,function(ze){var er=ze.getBBox();er.width>ct&&(ct=er.width)}),Mt=ct,ct+=b,g&&(ct=Math.min(g,ct),Mt=Math.min(g,Mt)),this.pageWidth=ct,this.pageHeight=m-Math.max(z.height,A+Xt);var Ve=Math.floor(this.pageHeight/(A+Xt));(0,p.S6)(f,function(ze,er){0!==er&&er%Ve==0&&(it+=1,Y.x+=ct,Y.y=l),n.moveElementTo(ze,Y),ze.getParent().setClip({type:"rect",attrs:{x:Y.x,y:Y.y,width:ct,height:A}}),Y.y+=A+Xt}),this.totalPagesCnt=it,this.moveElementTo(D,{x:a+Mt/2-z.width/2-z.minX,y:m-z.height-z.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt="horizontal"===c&&this.get("maxRow")?Math.ceil(it/this.get("maxRow")):it,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(D),e.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,e,n,a){var l={x:0,y:0},c=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),f=(0,p.U2)(a.marker,"style",{}),g=f.size,m=void 0===g?12:g,x=(0,w._T)(f,["size"]),b=this.drawArrow(c,l,ss,"horizontal"===e?"up":"left",m,x);b.on("click",this.onNavigationBack);var A=b.getBBox();l.x+=A.width+2;var D=this.addShape(c,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,w.pi)({x:l.x,y:l.y+m/2,text:n,textBaseline:"middle"},(0,p.U2)(a.text,"style"))}).getBBox();return l.x+=D.width+2,this.drawArrow(c,l,ya,"horizontal"===e?"down":"right",m,x).on("click",this.onNavigationAfter),c},r.prototype.updateNavigation=function(t){var n=(0,p.b$)({},os,this.get("pageNavigator")).marker.style,a=n.fill,l=n.opacity,c=n.inactiveFill,f=n.inactiveOpacity,g=this.currentPageIndex+"/"+this.totalPagesCnt,m=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),x=t?t.findById(this.getElementId(ss)):this.getElementByLocalId(ss),b=t?t.findById(this.getElementId(ya)):this.getElementByLocalId(ya);m.attr("text",g),x.attr("opacity",1===this.currentPageIndex?f:l),x.attr("fill",1===this.currentPageIndex?c:a),x.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),b.attr("opacity",this.currentPageIndex===this.totalPagesCnt?f:l),b.attr("fill",this.currentPageIndex===this.totalPagesCnt?c:a),b.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var A=x.getBBox().maxX+2;m.attr("x",A),A+=m.getBBox().width+2,this.updateArrowPath(b,{x:A,y:0})},r.prototype.drawArrow=function(t,e,n,a,l,c){var f=e.x,g=e.y,m=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:(0,w.pi)({size:l,direction:a,path:[["M",f+l/2,g],["L",f,g+l],["L",f+l,g+l],["Z"]],cursor:"pointer"},c)});return m.attr("matrix",Nn({x:f+l/2,y:g+l/2},gc[a])),m},r.prototype.updateArrowPath=function(t,e){var n=e.x,a=e.y,l=t.attr(),c=l.size,g=Nn({x:n+c/2,y:a+c/2},gc[l.direction]);t.attr("path",[["M",n+c/2,a],["L",n,a+c],["L",n+c,a+c],["Z"]]),t.attr("matrix",g)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,a=t.pageHeight;return cl("horizontal"===this.get("layout")?{x:0,y:a*(1-e)}:{x:n*(1-e),y:0})},r.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var l=e.getChildren(),c=this.get("itemStates");(0,p.S6)(l,function(f){var m=f.get("name").split("-")[2],x=eo(t,m,c);x&&(f.attr(x),"marker"===m&&(!f.get("isStroke")||!f.get("isFill"))&&(f.get("isStroke")&&f.attr("fill",null),f.get("isFill")&&f.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},r}(wl);const ls=$v;var jv=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,e){this.update({min:t,max:e})},r.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",function(n){var a=e.getValueByCanvasPoint(n.x,n.y),c=e.getCurrentValue()[1];c<a&&(c=a),e.setValue([a,c])}),t.on("legend-handler-max:drag",function(n){var a=e.getValueByCanvasPoint(n.x,n.y),c=e.getCurrentValue()[0];c>a&&(c=a),e.setValue([c,a])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",function(a){n={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(n){var l=e.getValueByCanvasPoint(n.x,n.y),c=e.getValueByCanvasPoint(a.x,a.y),f=e.getCurrentValue(),g=f[1]-f[0],m=e.getRange(),x=c-l;x<0?e.setValue(f[0]+x>m.min?[f[0]+x,f[1]+x]:[m.min,m.min+g]):x>0&&e.setValue(x>0&&f[1]+x<m.max?[f[0]+x,f[1]+x]:[m.max-g,m.max]),n={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){n=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,e){var n=this.get("label"),a=n.style,l=n.align,c=n.formatter,f=this.get(t),g=this.getLabelAlignAttrs(t,l);this.addShape(e,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:(0,w.pi)((0,w.pi)({x:0,y:0,text:(0,p.mf)(c)?c(f):f},a),g)})},r.prototype.getLabelAlignAttrs=function(t,e){var a="center",l="middle";return this.isVertical()?(a="start",l="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(l="top",a="min"===t?"start":"end"):(a="start",l="middle"),{textAlign:a,textBaseline:l}},r.prototype.getRailPath=function(t,e,n,a){var l=this.get("rail"),c=l.size,f=l.defaultLength,g=l.type,m=this.isVertical(),b=n,A=a;b||(b=m?c:f),A||(A=m?f:c);var E=[];return"color"===g?(E.push(["M",t,e]),E.push(["L",t+b,e]),E.push(["L",t+b,e+A]),E.push(["L",t,e+A]),E.push(["Z"])):(E.push(["M",t+b,e]),E.push(["L",t+b,e+A]),E.push(["L",t,e+A]),E.push(["Z"])),E},r.prototype.drawRail=function(t){var n=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,w.pi)({path:this.getRailPath(0,0)},n)})},r.prototype.getTrackColor=function(t){var n,e=t.length;if(!e)return null;if(1===e)return t[0];n=this.isVertical()?"l(90)":"l(0)";for(var a=0;a<e;a++)n+=" "+a/(e-1)+":"+t[a];return n},r.prototype.getTrackPath=function(t){var n=this.getRailShape(t).attr("path");return(0,p.d9)(n)},r.prototype.getClipTrackAttrs=function(t){var m,x,b,A,e=this.getCurrentValue(),n=e[0],a=e[1],l=this.getRailBBox(t),c=this.getPointByValue(n,t),f=this.getPointByValue(a,t);return this.isVertical()?(m=l.minX,x=c.y,b=l.width,A=f.y-c.y):(m=c.x,x=l.minY,b=f.x-c.x,A=l.height),{x:m,y:x,width:b,height:A}},r.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),a=this.getTrackPath(t);return(0,p.CD)({path:a,fill:this.getTrackColor(n)},e.style)},r.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),a=e.findById(n),l=a.getClip(),c=this.getClipTrackAttrs(t);l?l.attr(c):a.setClip({type:"rect",attrs:c})},r.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),a=this.getTrackAttrs(t);n?n.attr(a):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:a})},r.prototype.getPointByValue=function(t,e){var n=this.getRange(),a=n.min,c=(t-a)/(n.max-a),f=this.getRailBBox(e),m={x:0,y:0};return this.isVertical()?(m.x=f.minX+f.width/2,m.y=Mn(f.minY,f.maxY,c)):(m.x=Mn(f.minX,f.maxX,c),m.y=f.minY+f.height/2),m},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),a=n.min,l=n.max,c=this.getRailCanvasBBox(),f=this.isVertical(),g=this.get("step"),x=Mn(a,l,f?(e-c.minY)/c.height:(t-c.minX)/c.width);return g&&(x=a+Math.round((x-a)/g)*g),x>l&&(x=l),x<a&&(x=a),x},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,(0,w.pr)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,w.pr)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),a=e[1];this.resetHandler(t,"min",e[0]),this.resetHandler(t,"max",a)},r.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),a=[],l=t.size,c=e.x,f=e.y,g=1.4*l,m=l/2,x=l/6;if(n){var b=c+.4*g;a.push(["M",c,f]),a.push(["L",b,f+m]),a.push(["L",c+g,f+m]),a.push(["L",c+g,f-m]),a.push(["L",b,f-m]),a.push(["Z"]),a.push(["M",b,f+x]),a.push(["L",c+g-2,f+x]),a.push(["M",b,f-x]),a.push(["L",c+g-2,f-x])}else{var A=f+.4*g;a.push(["M",c,f]),a.push(["L",c-m,A]),a.push(["L",c-m,f+g]),a.push(["L",c+m,f+g]),a.push(["L",c+m,A]),a.push(["Z"]),a.push(["M",c-x,A]),a.push(["L",c-x,f+g-2]),a.push(["M",c+x,A]),a.push(["L",c+x,f+g-2])}return a},r.prototype.resetHandler=function(t,e,n){var a=this.getPointByValue(n,t),l=this.get("handler"),c=this.getHandlerPath(l,a),f=this.getElementId("handler-"+e),g=t.findById(f),m=this.isVertical();g?g.attr("path",c):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:f,attrs:(0,w.pi)((0,w.pi)({path:c},l.style),{cursor:m?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),l=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,a,e,l):this.fixedHorizontal(n,a,e,l)},r.prototype.fitRailLength=function(t,e,n,a){var c=this.isVertical()?"height":"width",f=this.get("label"),g=f.align,m=f.spacing,x=this.get("max"+(0,p.jC)(c));if(x){var A=("rail"===g?n[c]+t[c]+e[c]+2*m:n[c])-x;A>0&&this.changeRailLength(a,c,n[c]-A)}},r.prototype.changeRailLength=function(t,e,n){var l,a=t.getBBox();l="height"===e?this.getRailPath(a.x,a.y,a.width,n):this.getRailPath(a.x,a.y,n,a.height),t.attr("path",l)},r.prototype.changeRailPosition=function(t,e,n){var a=t.getBBox(),l=this.getRailPath(e,n,a.width,a.height);t.attr("path",l)},r.prototype.fixedHorizontal=function(t,e,n,a){var l=this.get("label"),c=l.align,f=l.spacing,g=n.getBBox(),m=t.getBBox(),x=e.getBBox(),b=g.height;this.fitRailLength(m,x,g,n),g=n.getBBox(),"rail"===c?(t.attr({x:a.x,y:a.y+b/2}),this.changeRailPosition(n,a.x+m.width+f,a.y),e.attr({x:a.x+m.width+g.width+2*f,y:a.y+b/2})):"top"===c?(t.attr({x:a.x,y:a.y}),e.attr({x:a.x+g.width,y:a.y}),this.changeRailPosition(n,a.x,a.y+m.height+f)):(this.changeRailPosition(n,a.x,a.y),t.attr({x:a.x,y:a.y+g.height+f}),e.attr({x:a.x+g.width,y:a.y+g.height+f}))},r.prototype.fixedVertail=function(t,e,n,a){var l=this.get("label"),c=l.align,f=l.spacing,g=n.getBBox(),m=t.getBBox(),x=e.getBBox();if(this.fitRailLength(m,x,g,n),g=n.getBBox(),"rail"===c)t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x,a.y+m.height+f),e.attr({x:a.x,y:a.y+m.height+g.height+2*f});else if("right"===c)t.attr({x:a.x+g.width+f,y:a.y}),this.changeRailPosition(n,a.x,a.y),e.attr({x:a.x+g.width+f,y:a.y+g.height});else{var b=Math.max(m.width,x.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x+b+f,a.y),e.attr({x:a.x,y:a.y+g.height})}},r}(wl);const yc=jv;var ji,$i="g2-tooltip",Vi="g2-tooltip-title",ma="g2-tooltip-list",us="g2-tooltip-list-item",cs="g2-tooltip-marker",hs="g2-tooltip-value",mc="g2-tooltip-name",Ml="g2-tooltip-crosshair-x",Sl="g2-tooltip-crosshair-y";const qv=((ji={})[""+$i]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:sr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},ji[""+Vi]={marginBottom:"4px"},ji[""+ma]={margin:"0px",listStyleType:"none",padding:"0px"},ji[""+us]={listStyleType:"none",marginBottom:"4px"},ji[""+cs]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},ji[""+hs]={display:"inline-block",float:"right",marginLeft:"30px"},ji[""+Ml]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ji[""+Sl]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ji);var ep=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+$i+'"><div class="'+Vi+'"></div><ul class="'+ma+'"></ul></div>',itemTpl:'<li class="'+us+'" data-index={index}>\n          <span class="'+cs+'" style="background:{color}"></span>\n          <span class="'+mc+'">{name}</span>:\n          <span class="'+hs+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+Ml+'"></div>',yCrosshairTpl:'<div class="'+Sl+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:$i,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:qv})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),ae(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),ae(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");n&&ae(n,{display:e}),a&&ae(a,{display:e})},r.prototype.initContainer=function(){if(i.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(function tp(i,r){var t=!1;return(0,p.S6)(r,function(e){if((0,p.wH)(i,e))return t=!0,!1}),t}(t,["title","showTitle"])&&this.resetTitle(),(0,p.wH)(t,"items")&&this.renderItems()),i.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){i.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var E,t=this.get("x"),e=this.get("y"),n=this.get("offset"),a=this.getOffset(),l=a.offsetX,c=a.offsetY,f=this.get("position"),g=this.get("region"),m=this.getContainer(),x=this.getBBox(),b=x.width,A=x.height;g&&(E=Qa(g));var D=function Qv(i,r,t,e,n,a,l){var c=function Jv(i,r,t,e,n,a){var l=i,c=r;switch(a){case"left":l=i-e-t,c=r-n/2;break;case"right":l=i+t,c=r-n/2;break;case"top":l=i-e/2,c=r-n-t;break;case"bottom":l=i-e/2,c=r+t;break;default:l=i+t,c=r-n-t}return{x:l,y:c}}(i,r,t,e,n,a);if(l){var f=function Kv(i,r,t,e,n){return{left:i<n.x,right:i+t>n.x+n.width,top:r<n.y,bottom:r+e>n.y+n.height}}(c.x,c.y,e,n,l);"auto"===a?(f.right&&(c.x=Math.max(0,i-e-t)),f.top&&(c.y=Math.max(0,r-n-t))):"top"===a||"bottom"===a?(f.left&&(c.x=l.x),f.right&&(c.x=l.x+l.width-e),"top"===a&&f.top&&(c.y=r+t),"bottom"===a&&f.bottom&&(c.y=r-n-t)):(f.top&&(c.y=l.y),f.bottom&&(c.y=l.y+l.height-n),"left"===a&&f.left&&(c.x=i+t),"right"===a&&f.right&&(c.x=i-e-t))}return c}(t,e,n,b,A,f,E);ae(m,{left:ai(D.x+l),top:ai(D.y+c)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=(0,p.kK)(n)?n:te(n)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(Vi)[0],n=t.getElementsByClassName(ma)[0];this.set("titleDom",e),this.set("listDom",n)},r.prototype.resetTitle=function(){var t=this.get("title"),e=this.get("showTitle");this.setTitle(e&&t?t:"")},r.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=Qa(t),a=this.get("xCrosshairDom"),l=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),l&&(l.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),a=this.get(t);ae(n,"x"===t?{left:ai(a),top:ai(e.y),height:ai(e.height)}:{top:ai(a),left:ai(e.x),width:ai(e.width)})},r.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),l=Lt[a],c=this.get(e),f=this.get("parent");return c||(c=te(this.get(n)),this.applyStyle(l,c),f.appendChild(c),this.set(e,c)),c},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&((0,p.S6)(t,function(a){var l=dr.Z.toCSSGradient(a.color),c=(0,w.pi)((0,w.pi)({},a),{color:l}),g=te((0,p.ng)(e,c));n.appendChild(g)}),this.applyChildrenStyles(n,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&wn(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(as);const rp=ep;var ip={opacity:0},xa={stroke:"#C5C5C5",strokeOpacity:.85},np={fill:"#CACED4",opacity:.85},wa=mt(2759);function xc(i){return function ap(i){return(0,p.UI)(i,function(r,t){return[0===t?"M":"L",r[0],r[1]]})}(i)}var Cl=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ip,lineStyle:xa,areaStyle:np})},r.prototype.renderInner=function(t){var e=this.cfg,n=e.width,a=e.height,l=e.data,c=e.smooth,f=e.isArea,g=e.backgroundStyle,m=e.lineStyle,x=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,w.pi)({x:0,y:0,width:n,height:a},g)});var b=function Ma(i,r,t,e){void 0===e&&(e=!0);var n=new Ya({values:i}),a=new bi({values:(0,p.UI)(i,function(c,f){return f})}),l=(0,p.UI)(i,function(c,f){return[a.scale(f)*r,t-n.scale(c)*t]});return e?function wc(i){if(i.length<=2)return xc(i);var r=[];(0,p.S6)(i,function(l){(0,p.Xy)(l,r.slice(r.length-2))||r.push(l[0],l[1])});var t=(0,wa.e9)(r,!1),e=(0,p.YM)(i);return t.unshift(["M",e[0],e[1]]),t}(l):xc(l)}(l,n,a,c);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,w.pi)({path:b},m)}),f){var A=function Sc(i,r,t,e){var n=(0,w.pr)(i),a=function Mc(i,r){var t=new Ya({values:i}),e=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(e)*r}(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}(b,n,a,l);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,w.pi)({path:A},x)})}},r.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},r}(jr),fs={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},vs=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:fs})},r.prototype.renderInner=function(t){var e=this.cfg,n=e.width,a=e.height,l=e.style,c=l.fill,f=l.stroke,g=l.radius,m=l.opacity,x=l.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:a,fill:c,stroke:f,radius:g,opacity:m,cursor:x}});var b=1/3*n,A=2/3*n,E=1/4*a,D=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:b,y1:E,x2:b,y2:D,stroke:f,cursor:x}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:A,y1:E,x2:A,y2:D,stroke:f,cursor:x}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()}),this.get("group").on("mouseleave",function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(jr),op={fill:"#416180",opacity:.05},bc={fill:"#5B8FF9",opacity:.15,cursor:"move"},sp={width:10,height:24},lp={textBaseline:"middle",fill:"#000",opacity:.45},cp=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.onMouseDown=function(e){return function(n){t.currentTarget=e;var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=(0,p.U2)(a,"touches.0.pageX",a.pageX),t.prevY=(0,p.U2)(a,"touches.0.pageY",a.pageY);var l=t.getContainerDOM();l.addEventListener("mousemove",t.onMouseMove),l.addEventListener("mouseup",t.onMouseUp),l.addEventListener("mouseleave",t.onMouseUp),l.addEventListener("touchmove",t.onMouseMove),l.addEventListener("touchend",t.onMouseUp),l.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(e){var n=t.cfg.width,a=[t.get("start"),t.get("end")];e.stopPropagation(),e.preventDefault();var l=(0,p.U2)(e,"touches.0.pageX",e.pageX),c=(0,p.U2)(e,"touches.0.pageY",e.pageY),g=t.adjustOffsetRange((l-t.prevX)/n);t.updateStartEnd(g),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=l,t.prevY=c,t.draw(),t.emit("sliderchange",[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var e=t.getContainerDOM();e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))},t}return(0,w.ZT)(r,i),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),a=this.get("end"),l=(0,p.uZ)(n,t,e),c=(0,p.uZ)(a,t,e);!this.get("isInit")&&(n!==l||a!==c)&&this.setValue([l,c])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange();if((0,p.kJ)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:(0,p.uZ)(t[0],e.min,e.max),end:(0,p.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:op,foregroundStyle:bc,handlerStyle:sp,textStyle:lp}})},r.prototype.update=function(t){var e=t.start,n=t.end,a=(0,w.pi)({},t);(0,p.UM)(e)||(a.start=(0,p.uZ)(e,0,1)),(0,p.UM)(n)||(a.end=(0,p.uZ)(n,0,1)),i.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,p.uZ)(this.get("start"),0,1)),this.set("end",(0,p.uZ)(this.get("end"),0,1)),i.prototype.init.call(this)},r.prototype.render=function(){i.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var e=this.cfg,l=e.width,c=e.height,f=e.trendCfg,g=void 0===f?{}:f,m=e.minText,x=e.maxText,b=e.backgroundStyle,A=void 0===b?{}:b,E=e.foregroundStyle,D=void 0===E?{}:E,z=e.textStyle,Y=void 0===z?{}:z,it=(0,p.b$)({},fs,this.cfg.handlerStyle);(0,p.dp)((0,p.U2)(g,"data"))&&(this.trend=this.addComponent(t,(0,w.pi)({component:Cl,id:this.getElementId("trend"),x:0,y:0,width:l,height:c},g))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,w.pi)({x:0,y:0,width:l,height:c},A)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,w.pi)({y:c/2,textAlign:"right",text:m,silent:!1},Y)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,w.pi)({y:c/2,textAlign:"left",text:x,silent:!1},Y)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,w.pi)({y:0,height:c},D)});var ne=(0,p.U2)(it,"width",10),ye=(0,p.U2)(it,"height",24);this.minHandler=this.addComponent(t,{component:vs,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(c-ye)/2,width:ne,height:ye,cursor:"ew-resize",style:it}),this.maxHandler=this.addComponent(t,{component:vs,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(c-ye)/2,width:ne,height:ye,cursor:"ew-resize",style:it})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,e,n){var a=this.cfg,f=a.width,g=a.minText,m=a.maxText,x=a.handlerStyle,A=a.start*f,E=a.end*f;this.trend&&(this.trend.update({width:f,height:a.height}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",A),t.attr("width",E-A);var D=(0,p.U2)(x,"width",10);e.attr("text",g),n.attr("text",m);var z=this._dodgeText([A,E],e,n),Y=z[0],it=z[1];this.minHandler&&(this.minHandler.update({x:A-D/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,p.S6)(Y,function(at,ct){return e.attr(ct,at)}),this.maxHandler&&(this.maxHandler.update({x:E-D/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,p.S6)(it,function(at,ct){return n.attr(ct,at)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,a=e.end;switch(this.currentTarget){case"minHandler":var l=0-n,c=1-n;return Math.min(c,Math.max(l,t));case"maxHandler":return l=0-a,c=1-a,Math.min(c,Math.max(l,t));case"foreground":return l=0-n,c=1-a,Math.min(c,Math.max(l,t))}},r.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,a=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":a+=t;break;case"foreground":n+=t,a+=t}this.set("start",n),this.set("end",a)},r.prototype._dodgeText=function(t,e,n){var a,l,c=this.cfg,g=c.width,x=(0,p.U2)(c.handlerStyle,"width",10),b=t[0],A=t[1],E=!1;b>A&&(b=(a=[A,b])[0],A=a[1],e=(l=[n,e])[0],n=l[1],E=!0);var D=e.getBBox(),z=n.getBBox(),Y=D.width>b-2?{x:b+x/2+2,textAlign:"left"}:{x:b-x/2-2,textAlign:"right"},it=z.width>g-A-2?{x:A-x/2-2,textAlign:"right"}:{x:A+x/2+2,textAlign:"left"};return E?[it,Y]:[Y,it]},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r}(jr);function Sa(i,r,t){if(i){if("function"==typeof i.addEventListener)return i.addEventListener(r,t,!1),{remove:function(){i.removeEventListener(r,t,!1)}};if("function"==typeof i.attachEvent)return i.attachEvent("on"+r,t),{remove:function(){i.detachEvent("on"+r,t)}}}}var bl={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},fp=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.clearEvents=p.ZT,t.onStartEvent=function(e){return function(n){t.isMobile=e,n.originalEvent.preventDefault();var a=e?(0,p.U2)(n.originalEvent,"touches.0.clientX"):n.clientX,l=e?(0,p.U2)(n.originalEvent,"touches.0.clientY"):n.clientY;t.startPos=t.cfg.isHorizontal?a:l,t.bindLaterEvent()}},t.bindLaterEvent=function(){var e=t.getContainerDOM(),n=[];n=t.isMobile?[Sa(e,"touchmove",t.onMouseMove),Sa(e,"touchend",t.onMouseUp),Sa(e,"touchcancel",t.onMouseUp)]:[Sa(e,"mousemove",t.onMouseMove),Sa(e,"mouseup",t.onMouseUp),Sa(e,"mouseleave",t.onMouseUp)],t.clearEvents=function(){n.forEach(function(a){a.remove()})}},t.onMouseMove=function(e){var n=t.cfg,a=n.isHorizontal,l=n.thumbOffset;e.preventDefault();var c=t.isMobile?(0,p.U2)(e,"touches.0.clientX"):e.clientX,f=t.isMobile?(0,p.U2)(e,"touches.0.clientY"):e.clientY,g=a?c:f,m=g-t.startPos;t.startPos=g,t.updateThumbOffset(l+m)},t.onMouseUp=function(e){e.preventDefault(),t.clearEvents()},t.onTrackClick=function(e){var n=t.cfg,a=n.isHorizontal,l=n.x,c=n.y,f=n.thumbLen,m=t.getContainerDOM().getBoundingClientRect(),E=t.validateRange(a?e.clientX-m.left-l-f/2:e.clientY-m.top-c-f/2);t.updateThumbOffset(E)},t.onThumbMouseOver=function(){var e=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t.onThumbMouseOut=function(){var e=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t}return(0,w.ZT)(r,i),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),a=(0,p.uZ)(n,t,e);n!==a&&!this.get("isInit")&&this.setValue(a)},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,p.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},r.prototype.getValue=function(){return(0,p.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return(0,w.pi)((0,w.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:bl})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,a=e.theme,c=(0,p.b$)({},bl,void 0===a?{default:{}}:a).default,f=c.lineCap,g=c.trackColor,x=(0,p.U2)(this.cfg,"size",c.size),b=this.get("isHorizontal")?{x1:0+x/2,y1:x/2,x2:n-x/2,y2:x/2,lineWidth:x,stroke:g,lineCap:f}:{x1:x/2,y1:0+x/2,x2:x/2,y2:n-x/2,lineWidth:x,stroke:g,lineCap:f};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:b})},r.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,a=e.thumbLen,c=(0,p.b$)({},bl,e.theme).default,g=c.lineCap,m=c.thumbColor,x=(0,p.U2)(this.cfg,"size",c.size),b=this.get("isHorizontal")?{x1:n+x/2,y1:x/2,x2:n+a-x/2,y2:x/2,lineWidth:x,stroke:m,lineCap:g,cursor:"default"}:{x1:x/2,y1:n+x/2,x2:x/2,y2:n+a-x/2,lineWidth:x,stroke:m,lineCap:g,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:b})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var n=t.findById(this.getElementId("thumb"));n.on("mouseover",this.onThumbMouseOver),n.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,a=e.trackLen,l=t;return t+n>a?l=a-n:t+n<n&&(l=0),l},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,a=e.isHorizontal,l=e.thumbLen,c=e.size,f=this.validateRange(t);f!==n&&(this.getElementByLocalId("thumb").attr(a?{x1:f+c/2,x2:f+l-c/2}:{y1:f+c/2,y2:f+l-c/2}),this.emitOffsetChange(f))},r.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,a=e.trackLen,l=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,p.uZ)(t/(a-l),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},r}(jr),Ac=Nv,Tc=Vv,B0=ao,xi=Wv,fi=ls,Ec=yc,ps=rp;function qi(i){return 1===Array.from(new Set(i)).length}function Ui(i){return((0,p.VV)(i)+(0,p.Fp)(i))/2}function Lr(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ki(i,r,t,e,n,a){void 0===a&&(a=0);var l=Lr(i,r,t,e),c=Lr(i,r,t,n),f=Lr(i,r,a,e),g=Lr(i,r,a,n);if(n-e==2*Math.PI){var m=Lr(i,r,t,e+Math.PI),x=Lr(i,r,a,e+Math.PI),b=[["M",l.x,l.y],["A",t,t,0,1,1,m.x,m.y],["A",t,t,0,1,1,c.x,c.y],["M",f.x,f.y]];return a&&(b.push(["A",a,a,0,1,0,x.x,x.y]),b.push(["A",a,a,0,1,0,g.x,g.y])),b.push(["M",l.x,l.y]),b.push(["Z"]),b}var A=n-e<=Math.PI?0:1,E=[["M",l.x,l.y],["A",t,t,0,A,1,c.x,c.y],["L",g.x,g.y]];return a&&E.push(["A",a,a,0,A,0,f.x,f.y]),E.push(["L",l.x,l.y]),E.push(["Z"]),E}function Al(i,r,t,e,n){var a=Lr(i,r,t,e),l=Lr(i,r,t,n);if((0,p.vQ)(n-e,2*Math.PI)){var c=Lr(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,c.x,c.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var f=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,f,1,l.x,l.y]]}function Ca(i,r){var n,a,e=function vp(i){if((0,p.xb)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,p.S6)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}(i.points),l=r.startAngle,f=r.endAngle-l;return r.isTransposed?(n=e.maxY*f,a=e.minY*f):(n=e.maxX*f,a=e.minX*f),{startAngle:a+=l,endAngle:n+=l}}function Ic(i,r){var t=i.attr(),e=r.attr();return(0,p.S6)(t,function(n,a){void 0===e[a]&&(e[a]=void 0)}),e}function Yn(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function vi(i,r){return"object"==typeof i&&r.forEach(function(t){delete i[t]}),i}function Sn(i,r,t){var e,n;void 0===r&&(r=[]),void 0===t&&(t=new Map);try{for(var a=(0,w.XA)(i),l=a.next();!l.done;l=a.next()){var c=l.value;t.has(c)||(r.push(c),t.set(c,!0))}}catch(f){e={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}var ei=function(){function i(r,t,e,n){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},i.fromObject=function(r){return new i(r.minX,r.minY,r.width,r.height)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,p.S6)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,p.S6)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case Q.TOP:case Q.TOP_LEFT:case Q.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Q.RIGHT:case Q.RIGHT_TOP:case Q.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Q.BOTTOM:case Q.BOTTOM_LEFT:case Q.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Q.LEFT:case Q.LEFT_TOP:case Q.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=(0,w.CR)(r,4),e=t[0],l=t[3];return new i(this.x+l,this.y+e,this.width-l-t[1],this.height-e-t[2])},i.prototype.expand=function(r){var t=(0,w.CR)(r,4),e=t[0],l=t[3];return new i(this.x-l,this.y-e,this.width+l+t[1],this.height+e+t[2])},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},i.prototype.size=function(){return this.width*this.height},i.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},i}();function lo(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function ds(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ba(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Tl(i,r){void 0===r&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var l=i.startAngle,c=i.endAngle,f=i.getCenter(),g=i.getRadius();return{type:"path",startState:{path:Ki(f.x,f.y,g+r,l,l)},endState:function(x){return{path:Ki(f.x,f.y,g+r,l,(c-l)*x+l)}},attrs:{path:Ki(f.x,f.y,g+r,l,c)}}}return{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+2*r:0,height:i.isTransposed?0:a+2*r},endState:i.isTransposed?{height:a+2*r}:{width:n+2*r},attrs:{x:t.x-r,y:e.y-r,width:n+2*r,height:a+2*r}}}var mp=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function kc(i,r,t,e){return void 0===r&&(r={}),r.type?r.type:"identity"!==i.type&&It.includes(t)&&["interval"].includes(e)||i.isCategory?"cat":i.type}function uo(i){return i.alias||i.field}function Pc(i,r,t){var a,n=i.values.length;if(1===n)a=[.5,1];else{var c=0;a=function dp(i){return!!i.isPolar&&i.endAngle-i.startAngle==2*Math.PI}(r)?r.isTransposed?[(c=1/n*(0,p.U2)(t,"widthRatio.multiplePie",1/1.3))/2,1-c/2]:[0,1-1/n]:[c=1/n/2,1-c]}return a}function Mp(i){var r=i.values.filter(function(t){return!(0,p.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,w.ev)((0,w.ev)([],(0,w.CR)(r),!1),[(0,p.UM)(i.max)?-1/0:i.max],!1))}function gs(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=function Sp(i){var r,t;switch(i){case Q.TOP:r={x:0,y:1},t={x:1,y:1};break;case Q.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Q.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Q.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}(r):i.isPolar&&(t=function N0(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}(i));var n=t.end;return{start:i.convert(t.start),end:i.convert(n)}}function Dc(i){return i.start.x===i.end.x}function Oc(i,r){var t=i.start,e=i.end;return Dc(i)?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function ys(i,r){var t=(0,p.U2)(i,["components","axis"],{});return(0,p.b$)({},(0,p.U2)(t,["common"],{}),(0,p.b$)({},(0,p.U2)(t,[r],{})))}function Bc(i,r,t){var e=(0,p.U2)(i,["components","axis"],{});return(0,p.b$)({},(0,p.U2)(e,["common","title"],{}),(0,p.b$)({},(0,p.U2)(e,[r,"title"],{})),t)}function El(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.convert(i.isTransposed?{x:n?0:1,y:0}:{x:0,y:n?0:1}),l=[a.x-e.x,a.y-e.y],c=[1,0],f=a.y>e.y?cr.EU(l,c):-1*cr.EU(l,c),g=f+(r.end-r.start);return{center:e,radius:Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)),startAngle:f,endAngle:g}}function ms(i,r){return(0,p.jn)(i)?!1!==i&&{}:(0,p.U2)(i,[r])}function Cp(i,r){return(0,p.U2)(i,"position",r)}function _c(i,r){return(0,p.U2)(r,["title","text"],uo(i))}var Xn=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,p.b$)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var e=r.data,n=r.padding,l=this.view.createView({region:r.region,padding:void 0===n?this.cfg.padding:n});l.data(e||[]),r.view=l,this.beforeEachView(l,r);var c=this.cfg.eachView;return c&&c(l,r),this.afterEachView(l,r),l},i.prototype.createContainer=function(){return this.view.getLayer(st.FORE).addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,p.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,e=r.height;return this.cfg.spacing.map(function(a,l){return(0,p.hj)(a)?a/(0===l?t:e):parseFloat(a)/100})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,p.S6)(r,function(a){var l=a[t];!(0,p.UM)(l)&&!n[l]&&(e.push(l),n[l]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=(0,w.CR)(this.parseSpacing(),2),l=a[0],c=a[1],f=(1+l)/(0===t?1:t)-l,g=(1+c)/(0===r?1:r)-c,m={x:(f+l)*e,y:(g+c)*n};return{start:m,end:{x:m.x+f,y:m.y+g}}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),a=r.geometries;if("rect"===(0,p.U2)(e.coordinate,"type","rect")&&a.length){(0,p.UM)(e.axes)&&(e.axes={});var c=e.axes,f=(0,w.CR)(a[0].getXYFields(),2),g=f[0],m=f[1],x=ms(c,g),b=ms(c,m);!1!==x&&(e.axes[g]=this.getXAxisOption(g,c,x,t)),!1!==b&&(e.axes[m]=this.getYAxisOption(m,c,b,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,p.yW)(r,function(e){var n=e.field,a=e.value;return!(!(0,p.UM)(a)&&n)||t[n]===a})}},i}(),Rc={},Aa=function(i,r){Rc[(0,p.vl)(i)]=r},bp=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,p.f0)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}();const Dr=bp;var zc=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(Dr);const Ap=zc;var xs={};function Ep(i){return(0,p.U2)(xs[i],"ActionClass")}function je(i,r,t){xs[i]={ActionClass:r,cfg:t}}function Fp(i,r){var t=new Ap(r);return t.callback=i,t.name="callback",t}function Fl(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e+=2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Vc(i,r){var t=r.isTransposed,e=i[1],l=r.convert({x:i[6],y:i[7]});return["A",e,e,0,0,t?0:1,l.x,l.y]}var kp=function(i,r,t,e){var n,c,f,g,m,x,b,A,a=[],l=!!e;if(l){g=(n=(0,w.CR)(e,2))[0],m=n[1];for(var E=0,D=i.length;E<D;E++)g=cr.VV([0,0],g,z=i[E]),m=cr.Fp([0,0],m,z)}E=0;for(var Y=i.length;E<Y;E++){var z=i[E];if(0!==E||t)if(E!==Y-1||t){var it=[0,0];it=cr.lu(it,f=i[t?(E+1)%Y:E+1],c=i[t?E?E-1:Y-1:E-1]),it=cr.bA(it,it,r);var at=cr.TE(z,c),ct=cr.TE(z,f),Mt=at+ct;0!==Mt&&(at/=Mt,ct/=Mt);var Xt=cr.bA([0,0],it,-at),jt=cr.bA([0,0],it,ct);b=cr.IH([0,0],z,Xt),x=cr.IH([0,0],z,jt),x=cr.VV([0,0],x,cr.Fp([0,0],f,z)),x=cr.Fp([0,0],x,cr.VV([0,0],f,z)),Xt=cr.lu([0,0],x,z),Xt=cr.bA([0,0],Xt,-at/ct),b=cr.IH([0,0],z,Xt),b=cr.VV([0,0],b,cr.Fp([0,0],c,z)),b=cr.Fp([0,0],b,cr.VV([0,0],c,z)),jt=cr.lu([0,0],z,b),jt=cr.bA([0,0],jt,ct/at),x=cr.IH([0,0],z,jt),l&&(b=cr.Fp([0,0],b,g),b=cr.VV([0,0],b,m),x=cr.Fp([0,0],x,g),x=cr.VV([0,0],x,m)),a.push(A),a.push(b),A=x}else b=z,a.push(A),a.push(b);else A=z}return t&&a.push(a.shift()),a};function Gc(i,r,t){for(var e=!!r,n=[],a=0,l=i.length;a<l;a+=2)n.push([i[a],i[a+1]]);var m,x,b,c=kp(n,.4,e,t),f=n.length,g=[];for(a=0;a<f-1;a++)g.push(["C",(m=c[2*a])[0],m[1],(x=c[2*a+1])[0],x[1],(b=n[a+1])[0],b[1]]);return e&&g.push(["C",(m=c[f])[0],m[1],(x=c[f+1])[0],x[1],(b=n[0])[0],b[1]]),g}function co(i,r){return function Ip(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}(i,r)}function ws(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return co(i,r);for(var l=0,c=i.length;l<c;l++){var f=i[l];(!a||a.x!==f.x||a.y!==f.y)&&(e.push(f.x),e.push(f.y),a=f)}var m=Gc(e,r,t||[[0,0],[1,1]]);return m.unshift(["M",n.x,n.y]),m}function Hc(i,r){return Xc(i.event.target,r)}function Yc(i,r){var t=i.getCanvasBBox(),e=t.width,n=t.height;return e>0&&n>0&&(e>=r||n>=r)}function Xc(i,r){var t=i.getCanvasBBox();return Yc(i,r)?t:null}function Wc(i,r){return i.event.maskShapes.map(function(e){return Xc(e,r)}).filter(function(e){return!!e})}function Zc(i,r){return Yc(i,r)?i.attr("path"):null}function Cn(i){var t,e=i.event.target;return e&&(t=e.get("element")),t}function Wn(i){var e,t=i.event.target;return t&&(e=t.get("delegateObject")),e}function jc(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ho(i){return i&&i.component&&i.component.isList()}function qc(i){return i&&i.component&&i.component.isSlider()}function Ms(i){var t=i.event.target;return t&&"mask"===t?.get("name")||Ss(i)}function Ss(i){var r;return"multi-mask"===(null===(r=i.event.target)||void 0===r?void 0:r.get("name"))}function Il(i,r){var t=i.event.target;if(Ss(i))return function Bp(i,r){if("path"===i.event.target.get("type")){var e=function $c(i,r){return i.event.maskShapes.map(function(e){return Zc(e,r)})}(i,r);return e.length>0?e.flatMap(function(a){return po(i.view,a)}):null}var n=Wc(i,r);return n.length>0?n.flatMap(function(a){return fo(i.view,a)}):null}(i,r);if("path"===t.get("type")){var e=function Op(i,r){return Zc(i.event.target,r)}(i,r);return e?po(i.view,e):void 0}var n=Hc(i,r);return n?fo(i.view,n):null}function Kc(i,r,t){if(Ss(i))return function _p(i,r,t){var e=Wc(i,t);return e.length>0?e.flatMap(function(n){return Jc(n,i,r)}):null}(i,r,t);var e=Hc(i,t);return e?Jc(e,i,r):null}function Jc(i,r,t){var e=r.view,n=go(e,t,{x:i.x,y:i.y}),a=go(e,t,{x:i.maxX,y:i.maxY});return fo(t,{minX:n.x,minY:n.y,maxX:a.x,maxY:a.y})}function Gr(i){var t=[];return(0,p.S6)(i.geometries,function(e){t=t.concat(e.elements)}),i.views&&i.views.length&&(0,p.S6)(i.views,function(e){t=t.concat(Gr(e))}),t}function Np(i,r){var e=[];return(0,p.S6)(i.geometries,function(n){var a=n.getElementsBy(function(l){return l.hasState(r)});e=e.concat(a)}),e}function Li(i,r){var e=i.getModel().data;return(0,p.kJ)(e)?e[0][r]:e[r]}function fo(i,r){var t=Gr(i),e=[];return(0,p.S6)(t,function(n){var l=n.shape.getCanvasBBox();(function Qc(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)})(r,l)&&e.push(n)}),e}function vo(i){var r=[];return(0,p.S6)(i,function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function po(i,r){var t=Gr(i),e=vo(r),n=t.filter(function(a){var c,l=a.shape;return c="path"===l.get("type")?vo(l.attr("path")):function pp(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}(l.getCanvasBBox()),(0,wa.Wq)(e,c)});return n}function th(i){return i.getComponents().map(function(r){return r.component})}function Ll(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function eh(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Ji(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function go(i,r,t){var e=function Vp(i,r){return i.getCoordinate().invert(r)}(i,t);return r.getCoordinate().convert(e)}function rh(i,r,t,e){var n=!1;return(0,p.S6)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function cn(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,p.S6)(i.views,function(e){if(t=cn(e,r))return!1}),t}var kl=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length)return this.cacheMap[r[0]];2===r.length&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;return r?r.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(r.clientX,r.clientY):{x:r.x,y:r.y}:null},i.prototype.getCurrentShape=function(){return(0,p.U2)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return!!r&&this.view.isPointInPlot(r)},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return!!t&&t.get("name")===r},i.prototype.isInComponent=function(r){var t=th(this.view),e=this.getCurrentPoint();return!!e&&!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&eh(a,e):eh(a,e)})},i.prototype.destroy=function(){(0,p.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},i}();const Pl=kl;var Up=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}();function Dl(i,r,t){var e=i.split(":"),n=e[0],a=r.getAction(n)||function Tp(i,r){var t=xs[i],e=null;return t&&((e=new(0,t.ActionClass)(r,t.cfg)).name=i,e.init()),e}(n,r);if(!a)throw new Error("There is no action named ".concat(n));return{action:a,methodName:e[1],arg:t}}function yo(i){var r=i.action,t=i.methodName,e=i.arg;if(!r[t])throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t));r[t](e)}var Gp=function(i){function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return(0,w.ZT)(r,i),r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,p.S6)(this.steps,function(e,n){(0,p.S6)(e,function(a){var l=t.getActionCallback(n,a);l&&t.bindEvent(a.trigger,l)})})},r.prototype.clearEvents=function(){var t=this;(0,p.S6)(this.steps,function(e,n){(0,p.S6)(e,function(a){var l=t.getActionCallback(n,a);l&&t.offEvent(a.trigger,l)})})},r.prototype.initContext=function(){var e=new Pl(this.view);this.context=e,(0,p.S6)(this.steps,function(a){(0,p.S6)(a,function(l){if((0,p.mf)(l.action))l.actionObject={action:Fp(l.action,e),methodName:"execute"};else if((0,p.HD)(l.action))l.actionObject=Dl(l.action,e,l.arg);else if((0,p.kJ)(l.action)){var c=l.action,f=(0,p.kJ)(l.arg)?l.arg:[l.arg];l.actionObject=[],(0,p.S6)(c,function(g,m){l.actionObject.push(Dl(g,e,f[m]))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName;if(e===t||"showEnable"===t)return!0;if("processing"===t)return"start"===e;if("start"===t)return"processing"!==e;if("end"===t)return"processing"===e||"start"===e;if("rollback"===t){if(this.steps.end)return"end"===e;if("start"===e)return!0}return!1},r.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){"showEnable"!==t&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,l=this.callbackCaches,c=e.actionObject;if(e.action&&c){var f=this.getKey(t,e);if(!l[f]){var g=function(m){a.event=m,n.isAllowExecute(t,e)?((0,p.kJ)(c)?(0,p.S6)(c,function(x){a.event=m,yo(x)}):(a.event=m,yo(c)),n.afterExecute(t,e),e.callback&&(a.event=m,e.callback(a))):a.event=null};l[f]=e.debounce?(0,p.Ds)(g,e.debounce.wait,e.debounce.immediate):e.throttle?(0,p.P2)(g,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):g}return l[f]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(Up);const Hp=Gp;var nh={};function br(i,r){nh[(0,p.vl)(i)]=r}function oh(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e=function Xp(i){return{title:{autoRotate:!0,position:"center",spacing:i.axisTitleSpacing,style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily},iconStyle:{fill:i.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:i.axisLabelOffset,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0}}(i),n=function Wp(i){return{title:null,marker:{symbol:"circle",spacing:i.legendMarkerSpacing,style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:i.legendPageNavigatorMarkerSize,inactiveFill:i.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:i.legendPageNavigatorMarkerInactiveFillOpacity,fill:i.legendPageNavigatorMarkerFillColor,opacity:i.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:i.legendPageNavigatorTextFillColor,fontSize:i.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:i.legendItemSpacing,itemMarginBottom:i.legendItemMarginBottom,padding:i.legendPadding}}(i);return{background:i.backgroundColor,defaultColor:i.brandColor,subColor:i.subColor,semanticRed:i.paletteSemanticRed,semanticGreen:i.paletteSemanticGreen,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,sequenceColors:i.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var l=a.geometry.coordinate;if(l.isPolar&&l.isTransposed){var c=Ca(a.getModel(),l),m=(c.startAngle+c.endAngle)/2,b=7.5*Math.cos(m),A=7.5*Math.sin(m);return{matrix:Mr.vs(null,[["t",b,A]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,w.pi)((0,w.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,w.pi)((0,w.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,w.pi)((0,w.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,w.pi)((0,w.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,w.pi)((0,w.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,w.pi)((0,w.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,w.pi)((0,w.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,w.pi)((0,w.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:e,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,p.b$)({},e.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,p.b$)({},e.grid,{line:{type:"circle"}})}},legend:{common:n,right:{layout:"vertical",padding:i.legendVerticalPadding},left:{layout:"vertical",padding:i.legendVerticalPadding},top:{layout:"horizontal",padding:i.legendHorizontalPadding},bottom:{layout:"horizontal",padding:i.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0,padding:n.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat($i)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:"".concat(i.tooltipContainerBorderRadius,"px"),color:i.tooltipTextFillColor,fontSize:"".concat(i.tooltipTextFontSize,"px"),fontFamily:i.fontFamily,lineHeight:"".concat(i.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(Vi)]={marginBottom:"12px",marginTop:"12px"},r["".concat(ma)]={margin:0,listStyleType:"none",padding:0},r["".concat(us)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(cs)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(hs)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:i.cSliderBackgroundFillColor,opacity:i.cSliderBackgroundFillOpacity},foregroundStyle:{fill:i.cSliderForegroundFillColor,opacity:i.cSliderForegroundFillOpacity},handlerStyle:{width:i.cSliderHandlerWidth,height:i.cSliderHandlerHeight,fill:i.cSliderHandlerFillColor,opacity:i.cSliderHandlerFillOpacity,stroke:i.cSliderHandlerBorderColor,lineWidth:i.cSliderHandlerBorder,radius:i.cSliderHandlerBorderRadius,highLightFill:i.cSliderHandlerHighlightFillColor},textStyle:{fill:i.cSliderTextFillColor,opacity:i.cSliderTextFillOpacity,fontSize:i.cSliderTextFontSize,lineHeight:i.cSliderTextLineHeight,fontWeight:i.cSliderTextFontWeight,stroke:i.cSliderTextBorderColor,lineWidth:i.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:i.scrollbarTrackFillColor,thumbColor:i.scrollbarThumbFillColor}},hover:{style:{thumbColor:i.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},fillColorDark:i.labelFillColorDark,fillColorLight:i.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:i.overflowLabelFillColor,fontSize:i.overflowLabelFontSize,fontFamily:i.fontFamily,stroke:i.overflowLabelBorderColor,lineWidth:i.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var yr_65="#595959",yr_25="#BFBFBF",Zp=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],$p=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],jp=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Ol=function(i){void 0===i&&(i={});var r=i.paletteQualitative10,t=void 0===r?Zp:r,e=i.paletteQualitative20,a=i.brandColor,l=void 0===a?t[0]:a;return(0,w.pi)((0,w.pi)({},{backgroundColor:"transparent",brandColor:l,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===e?$p:e,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:jp,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:yr_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:yr_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#D9D9D9",axisTickLineBorderColor:yr_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#D9D9D9",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:"#8C8C8C",axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#D9D9D9",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:"#8C8C8C",legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:l,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:yr_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:"#000",legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:"#000",legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:"#8C8C8C",legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#D9D9D9",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:"#8C8C8C",sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:yr_25,annotationArcBorderColor:"#D9D9D9",annotationArcBorder:1,annotationLineBorderColor:yr_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:yr_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:"#000",annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:yr_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:yr_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:yr_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#FFFFFF",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:yr_65,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#FFFFFF",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:yr_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:l,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#FFFFFF",pointBorderOpacity:1,pointActiveBorderColor:"#000",pointSelectedBorder:2,pointSelectedBorderColor:"#000",pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:l,hollowPointBorderOpacity:.95,hollowPointFillColor:"#FFFFFF",hollowPointActiveBorder:1,hollowPointActiveBorderColor:"#000",hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:"#000",hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:l,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:l,areaFillOpacity:.25,areaActiveFillColor:l,areaActiveFillOpacity:.5,areaSelectedFillColor:l,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:l,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:"#000",hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:"#000",hollowAreaInactiveBorderOpacity:.3,intervalFillColor:l,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:"#000",intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:"#000",intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:l,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#FFFFFF",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:"#000",hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:"#000",hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),i)};function Cs(i){var r=i.styleSheet,t=void 0===r?{}:r,e=(0,w._T)(i,["styleSheet"]),n=Ol(t);return(0,p.b$)({},oh(n),e)}Ol();var Bl={default:Cs({})};function bs(i){return(0,p.U2)(Bl,(0,p.vl)(i),Bl.default)}function sh(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,p.vQ)(e,n)}function As(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,l=e.invert(r),c=n.invert(l.y);return(0,p.sE)(i,function(g){var m=g[pt];return m[a][0]<=c&&m[a][1]>=c})||i[i.length-1]}var lh=(0,p.HP)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var c=i.translate(r[a]);c<e&&(e=c),c>n&&(n=c)}return(n-e)/(t-1)});function uh(i){var r,t,n,e=function Jp(i){var r=(0,p.VO)(i.attributes);return(0,p.hX)(r,function(t){return(0,p.FX)(It,t.type)})}(i);try{for(var a=(0,w.XA)(e),l=a.next();!l.done;l=a.next()){var c=l.value,f=c.getScale(c.type);if(f&&f.isLinear&&"cat"!==kc(f,(0,p.U2)(i.scaleDefs,f.field),c.type,i.type)){n=f;break}}}catch(A){r={error:A}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}var x=i.getXScale(),b=i.getYScale();return n||b||x}function _l(i,r,t){if(0===r.length)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),l=n.field,c=a.field,f=null;if("heatmap"===e||"point"===e){for(var m=t.coordinate.invert(i),x=n.invert(m.x),b=a.invert(m.y),A=1/0,E=0;E<r.length;E++){var D=r[E],z=D[pt],Y=Math.pow(z[l]-x,2)+Math.pow(z[c]-b,2);Y<A&&(A=Y,f=D)}return f}var it=r[0],at=r[r.length-1],ct=function G0(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],l=n[0],f=t.invert(i).x;return t.isPolar&&f>(1+a)/2&&(f=l),e.translate(e.invert(f))}(i,t),Mt=it[pt][l],jt=at[pt][l],ne=a.isLinear&&(0,p.kJ)(it[pt][c]);if((0,p.kJ)(Mt)){for(E=0;E<r.length;E++)if(n.translate((z=(ye=r[E])[pt])[l][0])<=ct&&n.translate(z[l][1])>=ct){if(!ne){f=ye;break}(0,p.kJ)(f)||(f=[]),f.push(ye)}(0,p.kJ)(f)&&(f=As(f,i,t))}else{var xe=void 0;if(n.isLinear||"timeCat"===n.type){if((ct>n.translate(jt)||ct<n.translate(Mt))&&(ct>n.max||ct<n.min))return null;for(var Ve=0,ze=r.length-1,er=void 0;Ve<=ze;){var ur=r[er=Math.floor((Ve+ze)/2)][pt][l];if(sh(ur,ct,n))return r[er];n.translate(ur)<=n.translate(ct)?(Ve=er+1,at=r[er],xe=r[er+1]):(0===ze&&(at=r[0]),ze=er-1)}}else{for(E=0;E<r.length;E++){var ye;if(sh((z=(ye=r[E])[pt])[l],ct,n)){if(!ne){f=ye;break}(0,p.kJ)(f)||(f=[]),f.push(ye)}else n.translate(z[l])<=ct&&(at=ye,xe=r[E+1])}(0,p.kJ)(f)&&(f=As(f,i,t))}at&&xe&&Math.abs(n.translate(at[pt][l])-ct)>Math.abs(n.translate(xe[pt][l])-ct)&&(at=xe)}var wr=lh(t.getXScale());return!f&&Math.abs(n.translate(at[pt][l])-ct)<=wr/2&&(f=at),f}function Rl(i,r,t,e){var n,a;void 0===t&&(t=""),void 0===e&&(e=!1);var x,b,l=i[pt],c=function mo(i,r,t){var n=r.getAttribute("position").getFields(),a=r.scales,l=(0,p.mf)(t)||!t?n[0]:t,c=a[l],f=c?c.getText(i[l]):i[l]||l;return(0,p.mf)(t)?t(f,i):f}(l,r,t),f=r.tooltipOption,g=r.theme.defaultColor,m=[];function A(ye,xe){(e||!(0,p.UM)(xe)&&""!==xe)&&m.push({title:c,data:l,mappingData:i,name:ye,value:xe,color:i.color||g,marker:!0})}if((0,p.Kn)(f)){var E=f.fields,D=f.callback;if(D){var z=E.map(function(ye){return i[pt][ye]}),Y=D.apply(void 0,(0,w.ev)([],(0,w.CR)(z),!1)),it=(0,w.pi)({data:i[pt],mappingData:i,title:c,color:i.color||g,marker:!0},Y);m.push(it)}else{var at=r.scales;try{for(var ct=(0,w.XA)(E),Mt=ct.next();!Mt.done;Mt=ct.next()){var Xt=Mt.value;if(!(0,p.UM)(l[Xt])){var jt=at[Xt];A(x=uo(jt),b=jt.getText(l[Xt]))}}}catch(ye){n={error:ye}}finally{try{Mt&&!Mt.done&&(a=ct.return)&&a.call(ct)}finally{if(n)throw n.error}}}}else{var ne=uh(r);b=function ch(i,r){var e=i[r.field];return(0,p.kJ)(e)?e.map(function(a){return r.getText(a)}).join("-"):r.getText(e)}(l,ne),x=function xo(i,r){var t,e=r.getGroupScales();return e.length&&(t=e[0]),t?t.getText(i[t.field]):uo(uh(r))}(l,r),A(x,b)}return m}function hh(i,r,t,e){var n,a,l=e.showNil,c=[],f=i.dataArray;if(!(0,p.xb)(f)){i.sort(f);try{for(var g=(0,w.XA)(f),m=g.next();!m.done;m=g.next()){var b=_l(r,m.value,i);if(b){var A=i.getElementId(b);if("heatmap"===i.type||i.elementsMap[A].visible){var D=Rl(b,i,t,l);D.length&&c.push(D)}}}}catch(z){n={error:z}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}}return c}function fh(i,r,t,e){var n=e.showNil,a=[],c=i.container.getShape(r.x,r.y);if(c&&c.get("visible")&&c.get("origin")){var g=Rl(c.get("origin").mappingData,i,t,n);g.length&&a.push(g)}return a}function Nl(i,r,t){var e,n,a=[],l=i.geometries,c=t.shared,f=t.title,g=t.reversed;try{for(var m=(0,w.XA)(l),x=m.next();!x.done;x=m.next()){var b=x.value;if(b.visible&&!1!==b.tooltipOption){var A=b.type,E=void 0;(E=["point","edge","polygon"].includes(A)?fh(b,r,f,t):["area","line","path","heatmap"].includes(A)||!1!==c?hh(b,r,f,t):fh(b,r,f,t)).length&&(g&&E.reverse(),a.push(E))}}}catch(D){e={error:D}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}return a}function zl(i){void 0===i&&(i=0);var r=(0,p.kJ)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,w.ev)((0,w.ev)([],(0,w.CR)(r),!1),(0,w.CR)(r),!1);break;case 3:r=(0,w.ev)((0,w.ev)([],(0,w.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4)}return r}var Ts={};function Zn(i,r){Ts[i]=r}function vh(i){return Ts[i]}var rd=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){return(0,p.G)(this.option.actions,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,l="theta"===n,c=(0,w.pi)({start:r,end:t},e.cfg),f=function(i){return ll[i.toLowerCase()]}(l?"polar":n);return this.coordinate=new f(c),this.coordinate.type=n,l&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,w.pi)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this;(0,p.S6)(this.option.actions,function(n){var a,l=(0,w.CR)(n),c=l[0],f=l.slice(1);((0,p.UM)(r)||r.includes(c))&&(a=t.coordinate)[c].apply(a,(0,w.ev)([],(0,w.CR)(f),!1))})},i}();const id=rd;var nd=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return i.fromData=function(r,t,e){return new i(r,new U.Event(t,{}),e)},Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}();const qr=nd;function Vl(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation");[r,i.getController("slider"),i.getController("scrollbar"),t,e].forEach(function(l){l&&l.layout()})}var Ul=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,l=this.getScaleMeta(n);if(0===t.length&&l){var c=l.scale,f={type:c.type};c.isCategory&&(f.values=c.values),a=(0,p.b$)(f,l.scaleDef,e)}var g=function R0(i,r,t){var e=r||[];if((0,p.hj)(i)||(0,p.UM)((0,p.Wx)(e,i))&&(0,p.xb)(t))return new($a("identity"))({field:i.toString(),values:[i]});var a=(0,p.I)(e,i),l=(0,p.U2)(t,"type",function xp(i){var r="linear";return mp.test(i)?r="timeCat":(0,p.HD)(i)&&(r="cat"),r}(a[0]));return new($a(l))((0,w.pi)({field:i,values:a},t))}(r,t,a);return this.cacheScale(g,e,n),g},i.prototype.sync=function(r,t){var e=this;this.syncScales.forEach(function(n,a){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,f=[];(0,p.S6)(n,function(g){var m=e.getScale(g);c=(0,p.hj)(m.max)?Math.max(c,m.max):c,l=(0,p.hj)(m.min)?Math.min(l,m.min):l,(0,p.S6)(m.values,function(x){f.includes(x)||f.push(x)})}),(0,p.S6)(n,function(g){var m=e.getScale(g);if(m.isContinuous)m.change({min:l,max:c,values:f});else if(m.isCategory){var x=m.range,b=e.getScaleMeta(g);f&&!(0,p.U2)(b,["scaleDef","range"])&&(x=Pc((0,p.b$)({},m,{values:f}),r,t)),m.change({values:f,range:x})}})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(function wp(i,r){if("identity"!==i.type&&"identity"!==r.type){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}(n.scale,r),n.scaleDef=t):this.scales.set(e,n={key:e,scale:r,scaleDef:t});var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var l=this.syncScales.get(a);l||this.syncScales.set(a,l=[]),l.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,p.Z$)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var n=this.syncScales.get(t.syncKey);if(n&&n.length){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(-1!==a)return e.splice(a,1),0===e.length&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var n=r.scale.field,a=(0,p.U2)(r.scaleDef,["sync"]);return!0===a?n:!1===a?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),Es=function(){function i(r,t,e,n){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.instance=function(r,t,e,n){return void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),new i(r,t,e,n)},i.prototype.max=function(r){var t=(0,w.CR)(r,4),n=t[1],a=t[2],l=t[3];return this.top=Math.max(this.top,t[0]),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,l),this},i.prototype.shrink=function(r){var t=(0,w.CR)(r,4),n=t[1],a=t[2],l=t[3];return this.top+=t[0],this.right+=n,this.bottom+=a,this.left+=l,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case Q.TOP:case Q.TOP_LEFT:case Q.TOP_RIGHT:this.top+=n;break;case Q.RIGHT:case Q.RIGHT_TOP:case Q.RIGHT_BOTTOM:this.right+=e;break;case Q.BOTTOM:case Q.BOTTOM_LEFT:case Q.BOTTOM_RIGHT:this.bottom+=n;break;case Q.LEFT:case Q.LEFT_TOP:case Q.LEFT_BOTTOM:this.left+=e}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i.prototype.clone=function(){return new(i.bind.apply(i,(0,w.ev)([void 0],(0,w.CR)(this.getPadding()),!1)))},i}();function od(i,r,t){var e=t.instance();r.forEach(function(n){n.autoPadding=e.max(n.autoPadding.getPadding())})}var wo=function(i){function r(t){var e=i.call(this,{visible:t.visible})||this;e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=function ed(){return Object.keys(Ts)}(),e.scalePool=new Ul,e.layoutFunc=Vl,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(at){var ct=at.name;if(!ct.includes(":")){var Mt=e.createViewEvent(at);e.doPlotEvent(Mt),e.emit(ct,Mt)}},e.onDelegateEvents=function(at){var ct=at.name;if(ct.includes(":")){var Mt=e.createViewEvent(at);e.emit(ct,Mt)}};var n=t.id,a=void 0===n?(0,p.EL)("view"):n,c=t.canvas,f=t.backgroundGroup,g=t.middleGroup,m=t.foregroundGroup,x=t.region,b=void 0===x?{start:{x:0,y:0},end:{x:1,y:1}}:x,A=t.padding,E=t.appendPadding,D=t.theme,z=t.options,Y=t.limitInPlot,it=t.syncViewPadding;return e.parent=t.parent,e.canvas=c,e.backgroundGroup=f,e.middleGroup=g,e.foregroundGroup=m,e.region=b,e.padding=A,e.appendPadding=E,e.options=(0,w.pi)((0,w.pi)({},e.options),z),e.limitInPlot=Y,e.id=a,e.syncViewPadding=it,e.themeObject=(0,p.Kn)(D)?(0,p.b$)({},bs("default"),Cs(D)):bs(D),e.init(),e}return(0,w.ZT)(r,i),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(Tt.BEFORE_RENDER,qr.fromData(this,Tt.BEFORE_RENDER,e)),this.paint(t),this.emit(Tt.AFTER_RENDER,qr.fromData(this,Tt.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(Tt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var a=this.controllers;for(n=0;n<a.length;n++)"annotation"===a[n].name?a[n].clear(!0):a[n].clear();this.createdScaleKeys.forEach(function(c,f){t.getRootView().scalePool.deleteScale(f)}),this.createdScaleKeys.clear();var l=this.views;for(n=0;n<l.length;n++)l[n].clear();this.emit(Tt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(Tt.BEFORE_DESTROY),(0,p.S6)(this.interactions,function(c){c&&c.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++)e[n].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++)e[n].changeVisible(t);var c=this.controllers;for(n=0,a=c.length;n<a;n++)c[n].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,p.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,p.mf)(e)?((0,p.t8)(this.options,["filters",t],e),this):(!e&&(0,p.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,p.jn)(t)?(0,p.t8)(this.options,["axes"],t):(0,p.t8)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,p.jn)(t)?(0,p.t8)(this.options,["legends"],t):(0,p.HD)(t)?((0,p.t8)(this.options,["legends",t],e),(0,p.PO)(e)&&e?.selected&&(0,p.t8)(this.options,["filters",t],function(n){var a;return null===(a=e?.selected[n])||void 0===a||a})):(0,p.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,p.HD)(t)?(0,p.t8)(this.options,["scales",t],e):(0,p.Kn)(t)&&(0,p.S6)(t,function(a,l){(0,p.t8)(n.options,["scales",l],a)}),this},r.prototype.tooltip=function(t){return(0,p.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,p.HD)(t)?(0,p.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,p.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(i){return Rc[(0,p.vl)(i)]}(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,(0,w.pi)((0,w.pi)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,p.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,p.CD)(this.options,t),this.views.forEach(function(e){return e.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,p.t8)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,p.Kn)(t)?(0,p.b$)({},this.themeObject,Cs(t)):bs(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=function Yp(i,r,t){var e=function ah(i){return nh[(0,p.vl)(i)]}(i);if(!e)return null;if((0,p.PO)(e)){var n=(0,p.CD)((0,p.d9)(e),t);return new Hp(r,n)}return new e(r,t)}(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Tt.BEFORE_CHANGE_DATA,qr.fromData(this,Tt.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++)e[n].changeData(t);this.emit(Tt.AFTER_CHANGE_DATA,qr.fromData(this,Tt.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var e={data:this.options.data,scales:(0,p.d9)(this.options.scales),axes:(0,p.d9)(this.options.axes),coordinate:(0,p.d9)(this.coordinateController.getOption()),tooltip:(0,p.d9)(this.options.tooltip),legends:(0,p.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,w.pi)((0,w.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:(0,w.pi)((0,w.pi)({},e),(0,p.U2)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,p.Od)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach(function(n){var a=n.getYScale(),l=a.field;t[l]||(t[l]=!0,e.push(a))}),e},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,l=e.length;a<l;a++){var c=e[a],f="x"===t?c.getXScale():c.getYScale();f&&!n[f.field]&&(n[f.field]=f)}return n},r.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,p.u4)(this.geometries,function(t,e){return t.concat(e.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(e){return t(e)})},r.prototype.getLayer=function(t){return t===st.BG?this.backgroundGroup:t===st.MID?this.middleGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return function gp(i,r){var t=!1;if(i)if("theta"===i.type){var e=i.start,n=i.end;t=Yn(r.x,e.x,n.x)&&Yn(r.y,e.y,n.y)}else{var a=i.invert(r);t=Yn(a.x,0,1)&&Yn(a.y,0,1)}return t}(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,p.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Sn((0,p.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var l,c,e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y");if((0,p.S6)(t,function(f,g){n[g]&&(l=n[g].scale(f)),a[g]&&(c=a[g].scale(f))}),!(0,p.UM)(l)&&!(0,p.UM)(c))return e.convert({x:l,y:c})},r.prototype.getController=function(t){return(0,p.sE)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,l=e.length;a<l;a++){var c=e[a],f=c.dataArray;c.sort(f);for(var g=void 0,m=0,x=f.length;m<x;m++)(g=_l(t,f[m],c))&&n.push(g)}var A=this.views;for(a=0,l=A.length;a<l;a++){var D=A[a].getSnapRecords(t);n=n.concat(D)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++)t=t.concat(e[n].getComponents());return t},r.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,p.dp)(e)?t:(0,p.hX)(t,function(n,a){return Object.keys(e).every(function(c){return(0,e[c])(n[c],n,a)})})},r.prototype.filterFieldData=function(t,e){var a=(0,p.U2)(this.options.filters,t);return(0,p.o8)(a)?e:e.filter(function(l,c){return a(l[t],l,c)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.end,a=this.coordinateBBox.bl,l=this.coordinateBBox.tr;(0,p.Xy)(t.start,a)&&(0,p.Xy)(n,l)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,l))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Tt.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(Tt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,p.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox;this.backgroundStyleRectShape.attr({fill:t,x:e.x,y:e.y,width:e.width,height:e.height})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function ad(i){var r=i.padding;if(!function td(i){return!(0,p.hj)(i)&&!(0,p.kJ)(i)}(r))return new(Es.bind.apply(Es,(0,w.ev)([void 0],(0,w.CR)(zl(r)),!1)));var t=i.viewBBox,e=new Es,n=[],a=[],l=[];return(0,p.S6)(i.getComponents(),function(c){var f=c.type;f===Gt.AXIS?n.push(c):[Gt.LEGEND,Gt.SLIDER,Gt.SCROLLBAR].includes(f)?a.push(c):f!==Gt.GRID&&f!==Gt.TOOLTIP&&l.push(c)}),(0,p.S6)(n,function(c){var g=c.component.getLayoutBBox(),x=new ei(g.x,g.y,g.width,g.height).exceed(t);e.max(x)}),(0,p.S6)(a,function(c){var f=c.component,g=c.direction,m=f.getLayoutBBox(),x=f.get("padding"),b=new ei(m.x,m.y,m.width,m.height).expand(x);e.inc(b,g)}),(0,p.S6)(l,function(c){var g=c.direction,m=c.component.getLayoutBBox(),x=new ei(m.x,m.y,m.width,m.height);e.inc(x,g)}),e}(this).shrink(zl(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find(function(f){return"tooltip"===f.name}).update();for(var n=this.views,a=0,l=n.length;a<l;a++)n[a].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?od:(0,p.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,Es),this.views.forEach(function(f){f.coordinateBBox=f.viewBBox.shrink(f.autoPadding.getPadding()),f.adjustCoordinate()})),this.doLayout();for(var n=this.views,a=0,l=n.length;a<l;a++)n[a].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=Tl(this.coordinateInstance);e.setClip({type:n.type,attrs:n.attrs})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var c=this.views,f=0,g=c.length;f<g;f++)c[f].renderPaintRecursive(t)},r.prototype.createScale=function(t,e,n,a){var l=(0,p.U2)(this.options.scales,[t]),c=(0,w.pi)((0,w.pi)({},l),n);return this.parent?this.parent.createScale(t,e,c,a):this.scalePool.createScale(t,e,c,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++)e[n].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var l=this.parent.coordinateBBox;t=l.x,e=l.y,n=l.width,a=l.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var c=this.region,f=c.start,g=c.end,m=new ei(t+n*f.x,e+a*f.y,n*(g.x-f.x),a*(g.y-f.y));(!this.viewBBox||!this.viewBBox.isEqual(m))&&(this.viewBBox=new ei(t+n*f.x,e+a*f.y,n*(g.x-f.x),a*(g.y-f.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var l=vh(t[e]);l&&this.controllers.push(new l(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,l=new qr(this,t,a);return l.type=n,l},r.prototype.doPlotEvent=function(t){var e=t.type,l={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var f=this.isPointInPlot(l),g=t.clone();if(f){var m="plot:".concat(e);g.type=m,this.emit(m,g),("mouseleave"===e||"touchend"===e)&&(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!f?("mousemove"===e&&(g.type=tt.MOUSE_LEAVE,this.emit(tt.MOUSE_LEAVE,g)),g.type=tt.LEAVE,this.emit(tt.LEAVE,g)):!this.isPreMouseInPlot&&f&&("mousemove"===e&&(g.type=tt.MOUSE_ENTER,this.emit(tt.MOUSE_ENTER,g)),g.type=tt.ENTER,this.emit(tt.ENTER,g)),this.isPreMouseInPlot=f):("mouseleave"===e||"touchend"===e)&&this.isPreMouseInPlot&&("mouseleave"===e&&(g.type=tt.MOUSE_LEAVE,this.emit(tt.MOUSE_LEAVE,g)),g.type=tt.LEAVE,this.emit(tt.LEAVE,g),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){this.filteredData=this.filterData(this.options.data)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,p.U2)(this.options,"scales",{}),a=this.geometries,l=0,c=a.length;l<c;l++){var f=a[l];f.scales=this.getGeometryScales();var g={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?f.update(g):f.init(g)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,l=n.scales,c=void 0===l?{}:l,f=this.filteredData,g=0,m=t.length;g<m;g++){var x=t[g],b=c[x],A=this.getScaleKey(x);this.createScale(x,e.includes(x)?a:f,b,A),this.createdScaleKeys.set(A,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,a=0;a<n.length;a++)Sn(n[a].getScaleFields(),t,e);return t},r.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,a=0;a<n.length;a++)Sn(n[a].getGroupFields(),t,e);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,w.ev)([this.getXScale()],(0,w.CR)(this.getYScales()),!1).filter(function(l){return!!l}),n=this.getCoordinate(),a=this.options.scales;(0,p.S6)(e,function(l){(l.isCategory||l.isIdentity)&&l.values&&!(0,p.U2)(a,[l.field,"range"])&&(l.range=Pc(l,n,t.theme))})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){this.coordinateInstance=this.coordinateController.create(this.coordinateBBox.bl,this.coordinateBBox.tr)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},l=this.geometries,c=0;c<l.length;c++){var f=l[c];f.coordinate=n,f.canvasRegion=a,e||f.animate(!1),f.paint(t)}},r.prototype.renderComponents=function(t){for(var e=this.getComponents(),n=0;n<e.length;n++)e[n].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,a=void 0===n?[]:n,l=e.interactions,c=void 0===l?[]:l,f=e.views,g=void 0===f?[]:f,m=e.annotations,x=void 0===m?[]:m,b=e.coordinate,A=e.events,E=e.facets;this.coordinateController?b&&this.coordinateController.update(b):this.coordinateController=new id(b);for(var D=0;D<a.length;D++)this.createGeometry(a[D]);for(var Y=0;Y<c.length;Y++){var it=c[Y];this.interaction(it.type,it.cfg)}for(var Mt=0;Mt<g.length;Mt++)this.createView(g[Mt]);for(var jt=this.getController("annotation"),ne=0;ne<x.length;ne++)jt.annotation(x[ne]);A&&(0,p.S6)(A,function(xe,Ve){t.on(Ve,xe)}),E&&(0,p.S6)(E,function(xe){var Ve=xe.type,ze=(0,w._T)(xe,["type"]);t.facet(Ve,ze)})},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg;if(this[e]){var l=this[e](void 0===n?{}:n);(0,p.S6)(t,function(c,f){(0,p.mf)(l[f])&&l[f](c)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Ft);function Qi(i,r){wo.prototype[i.toLowerCase()]=function(t){void 0===t&&(t={});var e=(0,w.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Fs=function(i){function r(t){var e=this,n=t.container,a=t.width,l=t.height,c=t.autoFit,f=void 0!==c&&c,g=t.padding,m=t.appendPadding,x=t.renderer,b=void 0===x?"canvas":x,A=t.pixelRatio,E=t.localRefresh,D=void 0===E||E,z=t.visible,Y=void 0===z||z,it=t.supportCSSTransform,at=void 0!==it&&it,ct=t.defaultInteractions,Mt=void 0===ct?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:ct,Xt=t.options,jt=t.limitInPlot,ne=t.theme,ye=t.syncViewPadding,xe=(0,p.HD)(n)?document.getElementById(n):n,Ve=te('<div style="position:relative;"></div>');xe.appendChild(Ve);var ze=lt(xe,f,a,l),er=function Qt(i){var r=Ot[i];if(!r)throw new Error("G engine '".concat(i,"' is not exist, please register it at first."));return r}(b),ur=new er.Canvas((0,w.pi)({container:Ve,pixelRatio:A,localRefresh:D,supportCSSTransform:at},ze));return(e=i.call(this,{parent:null,canvas:ur,backgroundGroup:ur.addGroup({zIndex:1}),middleGroup:ur.addGroup({zIndex:2}),foregroundGroup:ur.addGroup({zIndex:3}),padding:g,appendPadding:m,visible:Y,options:Xt,limitInPlot:jt,theme:ne,syncViewPadding:ye})||this).onResize=(0,p.Ds)(function(){e.forceFit()},300),e.ele=xe,e.canvas=ur,e.width=ze.width,e.height=ze.height,e.autoFit=f,e.localRefresh=D,e.renderer=b,e.wrapperElement=Ve,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(Mt),e}return(0,w.ZT)(r,i),r.prototype.initDefaultInteractions=function(t){var e=this;(0,p.S6)(t,function(n){e.interaction(n)})},r.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(Tt.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(Tt.AFTER_CHANGE_SIZE)),this},r.prototype.clear=function(){i.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function ht(i){var r=i.parentNode;r&&r.removeChild(i)}(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=lt(this.ele,!0,this.width,this.height);this.changeSize(t.width,t.height)}},r.prototype.updateCanvasStyle=function(){ae(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(wo);const ph=Fs;var $n=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(r){(0,p.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),gh=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length)return void this.hideTooltip();var a=this.getTitle(n),l={x:n[0].x,y:n[0].y};e.emit("tooltip:show",qr.fromData(e,"tooltip:show",(0,w.pi)({items:n,title:a},t)));var c=this.getTooltipCfg(),f=c.follow,g=c.showMarkers,m=c.showCrosshairs,x=c.showContent,b=c.marker,A=this.items;if((0,p.Xy)(this.title,a)&&(0,p.Xy)(A,n)?(this.tooltip&&f&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",qr.fromData(e,"tooltip:change",(0,w.pi)({items:n,title:a},t))),((0,p.mf)(x)?x(n):x)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,p.CD)({},c,{items:this.getItemsAfterProcess(n),title:a},f?t:{})),this.tooltip.show()),g&&this.renderTooltipMarkers(n,b)),this.items=n,this.title=a,m){var D=(0,p.U2)(c,["crosshairs","follow"],!1);this.renderCrosshairs(D?t:l,c)}}},r.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var l=this.tooltip;l&&l.hide(),this.view.emit("tooltip:hide",qr.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,l=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),l&&l.clear(),e?.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,l=e.xCrosshair,c=e.yCrosshair;t?(n&&n.show(),a&&a.show(),l&&l.show(),c&&c.show()):(n&&n.hide(),a&&a.hide(),l&&l.hide(),c&&c.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e,n,a,l,c,f,g=this.findItemsFromView(this.view,t);if(g.length){g=(0,p.xH)(g);try{for(var m=(0,w.XA)(g),x=m.next();!x.done;x=m.next()){var b=x.value;try{for(var A=(a=void 0,(0,w.XA)(b)),E=A.next();!E.done;E=A.next()){var D=E.value,z=D.mappingData,Y=z.x,it=z.y;D.x=(0,p.kJ)(Y)?Y[Y.length-1]:Y,D.y=(0,p.kJ)(it)?it[it.length-1]:it}}catch(xe){a={error:xe}}finally{try{E&&!E.done&&(l=A.return)&&l.call(A)}finally{if(a)throw a.error}}}}catch(xe){e={error:xe}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}if(!1===this.getTooltipCfg().shared&&g.length>1){var ct=g[0],Mt=Math.abs(t.y-ct[0].y);try{for(var Xt=(0,w.XA)(g),jt=Xt.next();!jt.done;jt=Xt.next()){var ne=jt.value,ye=Math.abs(t.y-ne[0].y);ye<=Mt&&(ct=ne,Mt=ye)}}catch(xe){c={error:xe}}finally{try{jt&&!jt.done&&(f=Xt.return)&&f.call(Xt)}finally{if(c)throw c.error}}g=[ct]}return function dh(i){for(var r=[],t=function(n){var a=i[n];(0,p.sE)(r,function(c){return c.color===a.color&&c.name===a.name&&c.value===a.value&&c.title===a.title})||r.push(a)},e=0;e<i.length;e++)t(e);return r}((0,p.xH)(g))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var a=e.getBoundingClientRect();return new ei(a.x,a.y,a.width,a.height).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),a=t.getTheme(),l=(0,p.U2)(a,["components","tooltip"],{}),c=(0,p.U2)(n,"enterable",l.enterable);return(0,p.b$)({},l,n,{capture:!(!c&&!this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,p.jn)(t)||!(0,p.U2)(t,"customContent"))return t;var e=t.customContent;return(0,w.pi)((0,w.pi)({},t),{customContent:function(a,l){var c=e(a,l)||"";return(0,p.HD)(c)?'<div class="g2-tooltip">'+c+"</div>":c}})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ps((0,w.pi)((0,w.pi)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){var n,a,l=this.getTooltipMarkersGroup(),c=this.view.getRootView(),f=c.limitInPlot;try{for(var g=(0,w.XA)(t),m=g.next();!m.done;m=g.next()){var x=m.value,b=x.x,A=x.y;if(f||l?.getClip()){var E=Tl(c.getCoordinate()),D=E.type,z=E.attrs;l?.setClip({type:D,attrs:z})}else l?.setClip(void 0);var Y=this.view.getTheme(),it=(0,p.U2)(Y,["components","tooltip","marker"],{}),at=(0,w.pi)((0,w.pi)({fill:x.color,symbol:"circle",shadowColor:x.color},(0,p.mf)(e)?(0,w.pi)((0,w.pi)({},it),e(x)):e),{x:b,y:A});l.addShape("marker",{attrs:at})}}catch(ct){n={error:ct}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}},r.prototype.renderCrosshairs=function(t,e){var n=(0,p.U2)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var a,l,n=this.getViewWithGeometry(this.view).getCoordinate();if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y});else{var c=ba(n,t),f=n.getCenter(),g=n.getRadius();l=Lr(f.x,f.y,g,c),a=f}var m=(0,p.b$)({start:a,end:l,container:this.getTooltipCrosshairsGroup()},(0,p.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete m.type;var x=this.xCrosshair;x?x.update(m):(x=new yl(m)).init(),x.render(),x.show(),this.xCrosshair=x},r.prototype.renderYCrosshairs=function(t,e){var a,l,n=this.getViewWithGeometry(this.view).getCoordinate();if(n.isRect){var c=void 0,f=void 0;n.isTransposed?(c={x:t.x,y:n.end.y},f={x:t.x,y:n.start.y}):(c={x:n.start.x,y:t.y},f={x:n.end.x,y:t.y}),a={start:c,end:f},l="Line"}else a={center:n.getCenter(),radius:ds(n,t),startAngle:n.startAngle,endAngle:n.endAngle},l="Circle";delete(a=(0,p.b$)({container:this.getTooltipCrosshairsGroup()},a,(0,p.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var g=this.yCrosshair;g?n.isRect&&"circle"===g.get("type")||!n.isRect&&"line"===g.get("type")?(g=new Yt[l](a)).init():g.update(a):(g=new Yt[l](a)).init(),g.render(),g.show(),this.yCrosshair=g},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,p.U2)(n,["crosshairs","text"]),l=(0,p.U2)(n,["crosshairs","follow"]),c=this.items;if(a){var f=this.getViewWithGeometry(this.view),g=c[0],m=f.getXScale(),x=f.getYScales()[0],b=void 0,A=void 0;if(l){var E=this.view.getCoordinate().invert(e);b=m.invert(E.x),A=x.invert(E.y)}else b=g.data[m.field],A=g.data[x.field];var D="x"===t?b:A;return(0,p.mf)(a)?a=a(t,D,c,e):a.content=D,{text:a}}},r.prototype.getGuideGroup=function(){return this.guideGroup||(this.guideGroup=this.view.foregroundGroup.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,e){var n,a;if(!1===t.getOptions().tooltip)return[];var c=Nl(t,e,this.getTooltipCfg());try{for(var f=(0,w.XA)(t.views),g=f.next();!g.done;g=f.next())c=c.concat(this.findItemsFromView(g.value,e))}catch(x){n={error:x}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}return c},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,p.sE)(t.views,function(n){return e.getViewWithGeometry(n)})},r.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(a){return a})(t)},r}($n);const yh=gh;var mh={};function xh(i){return mh[i.toLowerCase()]}function wi(i,r){mh[i.toLowerCase()]=r}var Ea={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},wh={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Gl={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){return{animation:i.isRect?i.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Mh(i,r,t){var e=wh[i];return e&&((0,p.mf)(e)&&(e=e(r)),e=(0,p.b$)({},Ea,e),t)?e[t]:e}function Fa(i,r,t){var e=(0,p.U2)(i.get("origin"),"data",pt),n=r.animation,a=function sd(i,r){return{delay:(0,p.mf)(i.delay)?i.delay(r):i.delay,easing:(0,p.mf)(i.easing)?i.easing(r):i.easing,duration:(0,p.mf)(i.duration)?i.duration(r):i.duration,callback:i.callback,repeat:i.repeat}}(r,e);if(n){var l=xh(n);l&&l(i,a,t)}else i.animate(t.toAttrs,a)}var Hl="element-background",ud=function(i){function r(t){var e=i.call(this,t)||this;e.labelShape=[],e.states=[];var a=t.container,l=t.offscreenGroup,c=t.elementIndex,f=t.visible,g=void 0===f||f;return e.shapeFactory=t.shapeFactory,e.container=a,e.offscreenGroup=l,e.visible=g,e.elementIndex=c,e}return(0,w.ZT)(r,i),r.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var n=this.shapeFactory,a=this.shape;if(a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var l=this.getOffscreenGroup(),c=n.drawShape(this.shapeType,t,l);c.cfg.data=this.data,c.cfg.origin=t,c.cfg.element=this,this.syncShapeStyle(a,c,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var a=this.getAnimateCfg("leave");a?Fa(n,a,{coordinate:e.coordinate,toAttrs:(0,w.pi)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=n.states,l=n.shapeFactory,c=n.model,f=n.shape,g=n.shapeType,m=a.indexOf(t);if(e){if(m>-1)return;a.push(t),("active"===t||"selected"===t)&&f?.toFront()}else{if(-1===m)return;if(a.splice(m,1),"active"===t||"selected"===t){var x=this.geometry,E=x.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;x.sortZIndex?f.setZIndex(E):f.set("zIndex",E)}}var D=l.drawShape(g,c,this.getOffscreenGroup());this.syncShapeStyle(f,D,a.length?a:["reset"],null),D.remove(!0);var z={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",z),ul(this.shape,"statechange",z)},r.prototype.clearStates=function(){var t=this;(0,p.S6)(this.states,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var e=this.shape,n=this.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(l){var c=l.getCanvasBBox();a.x=Math.min(c.x,a.x),a.y=Math.min(c.y,a.y),a.minX=Math.min(c.minX,a.minX),a.minY=Math.min(c.minY,a.minY),a.maxX=Math.max(c.maxX,a.maxX),a.maxY=Math.max(c.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,a=t.shapeFactory;this.statesStyle=(0,p.b$)({},a.theme[t.shapeType]||a.theme[a.defaultShapeType],t.geometry.stateOption)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,p.U2)(n,[t,"style"],{}),l=a[e]||a;return(0,p.mf)(l)?l(this):l},r.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var a=n[t];return a&&(0,w.pi)((0,w.pi)({},a),{callback:function(){var l;(0,p.mf)(a.callback)&&a.callback(),null===(l=e.geometry)||void 0===l||l.emit(xt.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var a=this,l=a.shapeFactory;if(this.shape=l.drawShape(a.shapeType,t,a.container),this.shape){this.setShapeInfo(this.shape,t);var g=this.shape.cfg.name;g?(0,p.HD)(g)&&(this.shape.cfg.name=["element",g]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var x=this.getAnimateCfg(e?"enter":"appear");x&&(null===(n=this.geometry)||void 0===n||n.emit(xt.BEFORE_DRAW_ANIMATE),Fa(this.shape,x,{coordinate:l.coordinate,toAttrs:(0,w.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(l){n.setShapeInfo(l,e)})},r.prototype.syncShapeStyle=function(t,e,n,a,l){var f,c=this;if(void 0===n&&(n=[]),void 0===l&&(l=0),t&&e){var g=t.get("clipShape"),m=e.get("clipShape");if(this.syncShapeStyle(g,m,n,a),t.isGroup())for(var x=t.get("children"),b=e.get("children"),A=0;A<x.length;A++)this.syncShapeStyle(x[A],b[A],n,a,l+A);else{if(!(0,p.xb)(n)&&!(0,p.Xy)(n,["reset"])){var E=t.get("name");(0,p.kJ)(E)&&(E=E[1]),(0,p.S6)(n,function(z){if(e.get("name")!==Hl){var Y=c.getStateStyle(z,E||l);e.attr(Y)}})}var D=Ic(t,e);this.animate?a?(null===(f=this.geometry)||void 0===f||f.emit(xt.BEFORE_DRAW_ANIMATE),Fa(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:D,shapeModel:this.model})):(0,p.xb)(n)?t.attr(D):(t.stopAnimate(),t.animate(D,{duration:300})):t.attr(D)}}},r.prototype.getShapeType=function(t){var e=(0,p.U2)(t,"shape");return(0,p.kJ)(e)?e[0]:e},r}(Ft);const Sh=ud;var Ch={},bh={};function Ia(i,r){Ch[i.toLowerCase()]=r}function ri(i,r){bh[i.toLowerCase()]=r}var cd={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(i){return(0,p.U2)(i,[this.defaultShapeType,"default","style"],{})},getMarker:function(i,r){var t=this.getShape(i);t.getMarker||(t=this.getShape(this.defaultShapeType));var a=(0,p.U2)(this.theme,[i,"default"],{}),l=t.getMarker(r);return(0,p.b$)({},a,l)},drawShape:function(i,r,t){return this.getShape(i).draw(r,t)}},Yl={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,wa.tr)(i);return t=r.isPolar?function Dp(i,r){var e,n,t=[];return(0,p.S6)(r,function(c,f){switch(c[0].toLowerCase()){case"m":case"c":case"q":t.push(Fl(c,i));break;case"l":e=r[f-1],n=c,(i.isTransposed?e[e.length-2]===n[1]:e[e.length-1]===n[2])?t=t.concat(function Uc(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,l="a"===i[0].toLowerCase()?{x:i[6],y:i[7]}:{x:i[1],y:i[2]},c={x:r[1],y:r[2]},f=[],g=e?"y":"x",m=Math.abs(c[g]-l[g])*(a-n),x=c[g]>=l[g]?1:0,b=m>Math.PI?1:0,A=t.convert(c),E=ds(t,A);if(E>=.5)if(m===2*Math.PI){var z=t.convert({x:(c.x+l.x)/2,y:(c.y+l.y)/2});f.push(["A",E,E,0,b,x,z.x,z.y]),f.push(["A",E,E,0,b,x,A.x,A.y])}else f.push(["A",E,E,0,b,x,A.x,A.y]);return f}(e,n,i)):t.push(Fl(c,i));break;case"a":t.push(Vc(c,i));break;default:t.push(c)}}),function Lp(i){(0,p.S6)(i,function(r,t){if("a"===r[0].toLowerCase()){var n=i[t-1],a=i[t+1];a&&"a"===a[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&a&&"l"===a[0].toLowerCase()&&(a[0]="M")}})}(t),t}(r,t):function Pp(i,r){var t=[];return(0,p.S6)(r,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":t.push(Fl(e,i));break;case"a":t.push(Vc(e,i));break;default:t.push(e)}}),t}(r,t),t},parsePoint:function(i){return this.coordinate.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},Xl={};function bn(i,r){var t=(0,p.jC)(i),e=(0,w.pi)((0,w.pi)((0,w.pi)({},cd),r),{geometryType:i});return Xl[t]=e,e}function Ar(i,r,t){var e=(0,p.jC)(i),n=Xl[e],a=(0,w.pi)((0,w.pi)({},Yl),t);return n[r]=a,a}function Th(i){var r=(0,p.jC)(i);return Xl[r]}function Eh(i,r){return(0,p.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,p.Xy)(i[t],r[t])})}function Mo(i){return(0,p.kJ)(i)?i:i.split("*")}function fd(i,r){for(var t=[],e=[],n=[],a=new Map,l=0;l<r.length;l++){var c=r[l];i[c]?e.push(c):t.push(c),a.set(c,!0)}return Object.keys(i).forEach(function(f){a.has(f)||n.push(f)}),{added:t,updated:e,removed:n}}var hn=function(i){function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var a=t.labelsContainer,l=t.coordinate,c=t.data,f=t.sortable,g=void 0!==f&&f,m=t.visible,x=void 0===m||m,b=t.theme,A=t.scales,E=void 0===A?{}:A,D=t.scaleDefs,z=void 0===D?{}:D,Y=t.intervalPadding,it=t.dodgePadding,at=t.maxColumnWidth,ct=t.minColumnWidth,Mt=t.columnWidthRatio,Xt=t.roseWidthRatio,jt=t.multiplePieWidthRatio,ne=t.zIndexReversed,ye=t.sortZIndex,xe=t.useDeferredLabel;return e.container=t.container,e.labelsContainer=a,e.coordinate=l,e.data=c,e.sortable=g,e.visible=x,e.userTheme=b,e.scales=E,e.scaleDefs=z,e.intervalPadding=Y,e.dodgePadding=it,e.maxColumnWidth=at,e.minColumnWidth=ct,e.columnWidthRatio=Mt,e.roseWidthRatio=Xt,e.multiplePieWidthRatio=jt,e.zIndexReversed=ne,e.sortZIndex=ye,e.useDeferredLabel=xe?"number"==typeof xe?xe:1/0:null,e}return(0,w.ZT)(r,i),r.prototype.position=function(t){var e=t;(0,p.PO)(t)||(e={fields:Mo(t)});var n=(0,p.U2)(e,"fields");return 1===n.length&&(n.unshift("1"),(0,p.t8)(e,"fields",n)),(0,p.t8)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,p.HD)(t)||(0,p.PO)(t))&&(e=[t]),(0,p.S6)(e,function(n,a){(0,p.Kn)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,p.HD)(t)){var n=Mo(t);this.styleOption={fields:n,callback:e}}else this.styleOption=(n=t.fields)||t.callback||t.cfg?t:{cfg:t};return this},r.prototype.tooltip=function(t,e){if((0,p.HD)(t)){var n=Mo(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,p.HD)(t)){var a={},l=Mo(t);a.fields=l,(0,p.mf)(e)?a.callback=e:(0,p.PO)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged;(0,p.Xy)(this.attributeOption,this.lastAttributeOption)?!e||!n&&(0,p.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,p.b$)({},Mh(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var l=this.beforeMapping(this.beforeMappingData);this.dataArray=new Array(l.length);for(var c=0;c<l.length;c++)this.dataArray[c]=this.mapping(l[c]);if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var g=this.container,m=this.type,x=this.coordinate,b=(0,p.U2)(this.animateOption,"appear"),A=this.getYScale(),E=x.convert({x:0,y:A.scale(this.getYMinValue())});!function ld(i,r,t,e,n){if(Gl[t]){var a=Gl[t](e),l=xh((0,p.U2)(a,"animation",""));if(l){var c=(0,w.pi)((0,w.pi)((0,w.pi)({},Ea.appear),a),r);i.stopAnimate(),l(i,c,{coordinate:e,minYPoint:n,toAttrs:null})}}}(g,b,m,x,E)}if(this.labelOption){var D=this.useDeferredLabel,z=function(){return e.renderLabels((0,p.xH)(e.dataArray),t)}.bind(this);if("number"==typeof D){var Y="number"==typeof D&&D!==1/0?D:0;window.requestIdleCallback?window.requestIdleCallback(z,Y&&Y!==1/0?{timeout:Y}:void 0):setTimeout(z,Y)}else z()}this.lastAttributeOption=(0,w.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,p.S6)(this.attributes,function(e){It.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,p.xb)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,l=0,c=a.length;l<c;l++){var f=a[l];n.push(f.isIdentity?f.values:e[f.field])}return t.mapping.apply(t,(0,w.ev)([],(0,w.CR)(n),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){var e=(t=(0,p.kJ)(t)?t[0]:t)[pt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var b,A,l=this.type,c=this.getXScale(),x=e[this.getYScale().field||"y"];b="identity"===c.type?c.values[0]:e[c.field||"x"],A="interval"===l||"schema"===l?"".concat(b):"line"===l||"area"===l||"path"===l?l:"".concat(b,"-").concat(x);for(var E=this.groupScales,D=(a=0,E.length);a<D;a++){var Y=E[a].field;A="".concat(A,"-").concat(e[Y])}var it=this.getAdjust("dodge");if(it){var at=it.dodgeBy;at&&(A="".concat(A,"-").concat(e[at]))}return this.getAdjust("jitter")&&(A="".concat(A,"-").concat(t.x,"-").concat(t.y)),A},r.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,a=n.attributeOption,l=n.labelOption,c=n.tooltipOption;for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];g.fields?Sn(g.fields,t,e):g.values&&Sn(g.values,t,e)}return l&&l.fields&&Sn(l.fields,t,e),(0,p.Kn)(c)&&c.fields&&Sn(c.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++)e[n].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach(function(n){(n?.fields||[]).forEach(function(l){t.has(l)||e.push(l),t.set(l,!0)})},[]),e},r.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,a=It.length;n<a;n++){var c=this.attributeOption[It[n]];c&&c.fields&&Sn(c.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=(0,w.CR)(this.attributeOption.position.fields,2);return[t[0],t[1]]},r.prototype.getXField=function(){return(0,p.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,p.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++)t[a].sort(function(c,f){return e.translate(c[pt][n])-e.translate(f[pt][n])});this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(Th(t))return this.shapeFactory||(this.shapeFactory=(0,p.d9)(Th(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var a=this.container,l=this.getDrawCfg(t),c=this.getShapeFactory(),f=new Sh({shapeFactory:c,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return f.animate=this.animateOption,f.geometry=this,f.draw(l,n),f},r.prototype.getDrawCfg=function(t){var e=t[pt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var l=this.theme.geometries[this.shapeType];n.defaultStyle=(0,p.U2)(l,[a,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(l));var c=this.styleOption;return c&&(n.style=this.getStyleCfg(c,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.updateElements=function(t,e){var n,a,l,c,f,g;void 0===e&&(e=!1);for(var m=new Map,x=[],b=new Map,A=0,E=0;E<t.length;E++)for(var D=t[E],z=0;z<D.length;z++){var it=this.getElementId(Y=D[z]),at=m.has(it)?"".concat(it,"-").concat(E,"-").concat(z):it;x.push(at),m.set(at,Y),b.set(at,A),A++}this.elements=new Array(A);var ct=fd(this.lastElementsMap,x),Mt=ct.added,Xt=ct.updated,jt=ct.removed;try{for(var ne=(0,w.XA)(Mt),ye=ne.next();!ye.done;ye=ne.next()){var Y=m.get(it=ye.value),xe=(E=b.get(it),this.createElement(Y,E,e));this.elements[E]=xe,this.elementsMap[it]=xe,xe.shape&&xe.shape.set("zIndex",this.zIndexReversed?this.elements.length-E:E)}}catch(Xr){n={error:Xr}}finally{try{ye&&!ye.done&&(a=ne.return)&&a.call(ne)}finally{if(n)throw n.error}}try{for(var Ve=(0,w.XA)(Xt),ze=Ve.next();!ze.done;ze=Ve.next()){xe=this.lastElementsMap[it=ze.value],Y=m.get(it);var er=this.getDrawCfg(Y),ur=xe.getModel();E=b.get(it),(this.isCoordinateChanged||Eh(er,ur))&&(xe.animate=this.animateOption,xe.update(er)),this.elements[E]=xe,this.elementsMap[it]=xe,xe.shape&&xe.shape.set("zIndex",this.zIndexReversed?this.elements.length-E:E)}}catch(Xr){l={error:Xr}}finally{try{ze&&!ze.done&&(c=Ve.return)&&c.call(Ve)}finally{if(l)throw l.error}}this.container&&this.container.sort();try{for(var wr=(0,w.XA)(jt),ni=wr.next();!ni.done;ni=wr.next())(xe=this.lastElementsMap[it=ni.value]).animate=this.animateOption,xe.destroy()}catch(Xr){f={error:Xr}}finally{try{ni&&!ni.done&&(g=wr.return)&&g.call(wr)}finally{if(f)throw f.error}}},r.prototype.getLabelType=function(){var t=this,n=t.coordinate,a=t.type,l=n.type,c=n.isTransposed,f=(0,p.U2)(t.labelOption,["cfg","type"]);return f||(f="polar"===l?c?"pie":"polar":"theta"===l?"pie":"interval"===a||"polygon"===a?"interval":"base"),f},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},r.prototype.createAttrOption=function(t,e,n){if((0,p.UM)(e)||(0,p.Kn)(e))(0,p.Kn)(e)&&(0,p.Xy)(Object.keys(e),["values"])?(0,p.t8)(this.attributeOption,t,{fields:e.values}):(0,p.t8)(this.attributeOption,t,e);else{var a={};(0,p.hj)(e)?a.values=[e]:a.fields=Mo(e),n&&((0,p.mf)(n)?a.callback=n:a.values=n),(0,p.t8)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,l=e.theme,c=e.shapeType;this.groupScales=[];var f={},g=function(b){if(a.hasOwnProperty(b)){var A=a[b];if(!A)return{value:void 0};var E=(0,w.pi)({},A),D=E.callback,z=E.values,Y=E.fields,at=(void 0===Y?[]:Y).map(function(Mt){var Xt=t.scales[Mt];return!f[Mt]&&It.includes(b)&&"cat"===kc(Xt,(0,p.U2)(t.scaleDefs,Mt),b,t.type)&&(t.groupScales.push(Xt),f[Mt]=!0),Xt});E.scales=at,"position"!==b&&1===at.length&&"identity"===at[0].type?E.values=at[0].values:!D&&!z&&("size"===b?E.values=l.sizes:"shape"===b?E.values=l.shapes[c]||[]:"color"===b&&(E.values=at.length?at[0].values.length<=10?l.colors10:l.colors20:l.colors10));var ct=Ru(b);n[b]=new ct(E)}};for(var m in a){var x=g(m);if("object"==typeof x)return x.value}},r.prototype.processData=function(t){var e,n;this.hasSorted=!1;for(var l=this.getAttribute("position").scales.filter(function(jt){return jt.isCategory}),c=this.groupData(t),f=[],g=0,m=c.length;g<m;g++){for(var x=c[g],b=[],A=0,E=x.length;A<E;A++){var D=x[A],z={};for(var Y in D)z[Y]=D[Y];z[pt]=D;try{for(var it=(e=void 0,(0,w.XA)(l)),at=it.next();!at.done;at=it.next()){var ct=at.value,Mt=ct.field;z[Mt]=ct.translate(z[Mt])}}catch(jt){e={error:jt}}finally{try{at&&!at.done&&(n=it.return)&&n.call(it)}finally{if(e)throw e.error}}b.push(z)}f.push(b)}var Xt=this.adjustData(f);return this.beforeMappingData=Xt,Xt},r.prototype.adjustData=function(t){var e=this.adjustOption,n=this,a=n.intervalPadding,l=n.dodgePadding,c=n.theme,f=this.maxColumnWidth||c.maxColumnWidth,g=this.minColumnWidth||c.minColumnWidth,m=this.columnWidthRatio||c.columnWidthRatio,x=t;if(e){var b=this.getXScale(),A=this.getYScale(),E=b.field,D=A?A.field:null,z=lo(this.coordinate),Y=b.values.length,it=this.getAttribute("size"),at=void 0;it&&(at=it.values[0]);for(var ct=0,Mt=e.length;ct<Mt;ct++){var Xt=e[ct],jt=(0,w.pi)({xField:E,yField:D,intervalPadding:a,dodgePadding:l,xDimensionLength:z,groupNum:Y,defaultSize:at,maxColumnWidth:f,minColumnWidth:g,columnWidthRatio:m},Xt),ne=Xt.type;if("dodge"===ne){var ye=[];if(b.isCategory||"identity"===b.type)ye.push("x");else{if(A)throw new Error("dodge is not support linear attribute, please use category attribute!");ye.push("y")}jt.adjustNames=ye,jt.dodgeRatio=m}else if("stack"===ne){var xe=this.coordinate;if(!A){jt.height=xe.getHeight();var Ve=this.getDefaultValue("size")||3;jt.size=Ve}!xe.isTransposed&&(0,p.UM)(jt.reverseOrder)&&(jt.reverseOrder=!0)}var ze=yt(ne);jt.dimValuesMap={},b&&b.values&&(jt.dimValuesMap[b.field]=b.values.map(function(ur){return b.translate(ur)}));var er=new ze(jt);x=er.process(x),this.adjusts[ne]=er}}return x},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},l=[],c=0;c<e.length;c++){var g=e[c].field;l.push(g),(0,p.U2)(n,[g,"values"])&&(a[g]=n[g].values)}return function hd(i,r,t){var e,n;if(void 0===t&&(t={}),!r)return[i];var a=(0,p.Ms)(i,r),l=[];if(1===r.length&&t[r[0]]){var c=t[r[0]];try{for(var f=(0,w.XA)(c),g=f.next();!g.done;g=f.next()){var x=a["_".concat(g.value)];x&&l.push(x)}}catch(E){e={error:E}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}}else for(var b in a)a.hasOwnProperty(b)&&l.push(a[b]);return l}(t,l,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,p.xH)(e),a=t.field,l=t.min,c=t.max,f=0;f<n.length;f++){var g=n[f],m=Math.min.apply(null,g[a]),x=Math.max.apply(null,g[a]);m<l&&(l=m),x>c&&(c=x)}var b=this.scaleDefs,A={};l<t.min&&!(0,p.U2)(b,[a,"min"])&&(A.min=l),c>t.max&&!(0,p.U2)(b,[a,"max"])&&(A.max=c),t.change(A)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var l=e[n];this.generateShapePoints(l);var c=e[n+1];c&&(this.generateShapePoints(c),l[0].nextPoints=c[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var l=t[a],c=this.createShapePointsCfg(l),f=n?this.getAttributeValues(n,l):null,g=e.getShapePoints(f,c);l.points=g}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,p.kJ)(t))for(var a=0;a<t.length;a++)n.push(e.scale(t[a]));else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var l=t[a],c={_origin:l[pt],points:l.points,nextPoints:l.nextPoints};for(var f in e)if(e.hasOwnProperty(f)){var g=e[f],m=g.names,x=this.getAttributeValues(g,l);if(m.length>1)for(var b=0;b<x.length;b+=1){var A=x[b];c[m[b]]=(0,p.kJ)(A)&&1===A.length?A[0]:A}else c[m[0]]=1===x.length?x[0]:x}this.convertPoint(c),n.push(c)}return n},r.prototype.convertPoint=function(t){var a,l,c,e=t.x,n=t.y,f=this.coordinate;if((0,p.kJ)(e)&&(0,p.kJ)(n)){a=[],l=[];for(var g=0,m=0,x=e.length,b=n.length;g<x&&m<b;g+=1,m+=1)c=f.convert({x:e[g],y:n[m]}),a.push(c.x),l.push(c.y)}else if((0,p.kJ)(n)){l=[];for(var A=0;A<n.length;A++)c=f.convert({x:e,y:n[A]}),a&&a!==c.x?((0,p.kJ)(a)||(a=[a]),a.push(c.x)):a=c.x,l.push(c.y)}else if((0,p.kJ)(e))for(a=[],A=0;A<e.length;A++)c=f.convert({x:e[A],y:n}),l&&l!==c.y?((0,p.kJ)(l)||(l=[l]),l.push(c.y)):l=c.y,a.push(c.x);else{var z=f.convert({x:e,y:n});a=z.x,l=z.y}t.x=a,t.y=l},r.prototype.getStyleCfg=function(t,e){var n=t.fields,l=t.callback,c=t.cfg;if(c)return c;var f=(void 0===n?[]:n).map(function(g){return e[g]});return l.apply(void 0,(0,w.ev)([],(0,w.CR)(f),!1))},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,l=t.theme,c=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),c&&(this.scaleDefs=c,this.idFields=[],(0,p.S6)(c,function(f,g){f&&f.key&&e.idFields.push(g)})),l&&(this.theme=this.userTheme?(0,p.b$)({},l,this.userTheme):l)},r.prototype.renderLabels=function(t,e){return void 0===e&&(e=!1),(0,w.mG)(this,void 0,void 0,function(){var n,a,l,c,f,g,m,x,E,D,z=this;return(0,w.Jh)(this,function(Y){switch(Y.label){case 0:return n=this.geometryLabel,this.emit(xt.BEFORE_RENDER_LABEL),n||(a=this.getLabelType(),l=function X0(i){return Ch[i.toLowerCase()]}(a),n=new l(this),this.geometryLabel=n),[4,n.render(t,e)];case 1:Y.sent(),c=n.labelsRenderer.shapesMap,f=new Map,(0,p.S6)(c,function(it,at){for(var ct=it.getChildren()||[],Mt=0;Mt<ct.length;Mt++){var Xt=ct[Mt],jt=z.elementsMap[Xt.get("elementId")||at.split(" ")[0]];if(jt){Xt.cfg.name=["element","label"],Xt.cfg.element=jt;var ne=f.get(jt)||new Set;ne.add(it),f.set(jt,ne)}}});try{for(g=(0,w.XA)(f.entries()),m=g.next();!m.done;m=g.next())(x=(0,w.CR)(m.value,2))[0].labelShape=(0,w.ev)([],(0,w.CR)(x[1]),!1)}catch(it){E={error:it}}finally{try{m&&!m.done&&(D=g.return)&&D.call(g)}finally{if(E)throw E.error}}return this.emit(xt.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,p.U2)(this.animateOption,"appear")||(0,p.U2)(this.animateOption,"appear")&&void 0===(0,p.U2)(this.animateOption,["appear","animation"]))},r}(Ft);const tn=hn;var Is=Mr.vs;function An(i,r,t){var e=Is(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Wl(i,r){var t=function vd(i,r){var t=i.attr(),e=t.x,n=t.y;return Is(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]])}(i,r);i.setMatrix(t)}function Tn(i){return i.find(function(r){return"text"===r.get("type")})}function Fh(i,r,t){void 0===t&&(t=[0,0,0,0]);var e=i&&i.getChildren()[0];if(e){var n=e.clone();r?.rotate&&Wl(n,-r.rotate);var a=n.getCanvasBBox(),l=a.x,c=a.y,f=a.width,g=a.height;n.destroy();var m=t;return(0,p.UM)(m)?m=[2,2,2,2]:(0,p.hj)(m)&&(m=new Array(4).fill(m)),{x:l-m[3],y:c-m[0],width:f+m[1]+m[3],height:g+m[0]+m[2],rotation:r?.rotate||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function gd(i,r){var t=i.getBBox();return(0,p.G)(r,function(e){var n=e.getBBox();return function dd(i,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t))*Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t))}(t,n,2)>0})}function Ih(i,r,t){var e=t.data,n=t.origin,a=t.animateCfg,l=t.coordinate,c=(0,p.U2)(a,"update");i.set("data",e),i.set("origin",n),i.set("animateCfg",a),i.set("coordinate",l),i.set("visible",r.get("visible")),(i.getChildren()||[]).forEach(function(f,g){var m=r.getChildByIndex(g);if(m){f.set("data",e),f.set("origin",n),f.set("animateCfg",a),f.set("coordinate",l);var x=Ic(f,m);c?Fa(f,c,{toAttrs:x,coordinate:l}):f.attr(x),m.isGroup()&&Ih(f,m,t)}else i.removeChild(f),f.remove(!0)}),(0,p.S6)(r.getChildren(),function(f,g){g>=i.getCount()&&(f.destroyed||i.add(f))})}var yd=function(){function i(r){this.shapesMap={};var e=r.container;this.layout=r.layout,this.container=e}return i.prototype.render=function(r,t,e){return void 0===e&&(e=!1),(0,w.mG)(this,void 0,void 0,function(){var n,a,l,c,f,g,m,x,b=this;return(0,w.Jh)(this,function(A){switch(A.label){case 0:if(n={},a=this.createOffscreenGroup(),!r.length)return[3,2];try{for(l=(0,w.XA)(r),c=l.next();!c.done;c=l.next())(f=c.value)&&(n[f.id]=this.renderLabel(f,a))}catch(E){m={error:E}}finally{try{c&&!c.done&&(x=l.return)&&x.call(l)}finally{if(m)throw m.error}}return[4,this.doLayout(r,t,n)];case 1:A.sent(),this.renderLabelLine(r,n),this.renderLabelBackground(r,n),this.adjustLabel(r,n),A.label=2;case 2:return g=this.shapesMap,(0,p.S6)(n,function(E,D){if(E.destroyed)delete n[D];else{if(g[D]){var z=E.get("data"),Y=E.get("origin"),it=E.get("coordinate"),at=E.get("animateCfg"),ct=g[D];Ih(ct,n[D],{data:z,origin:Y,animateCfg:at,coordinate:it}),n[D]=ct}else{if(b.container.destroyed)return;b.container.add(E);var Mt=(0,p.U2)(E.get("animateCfg"),e?"enter":"appear");Mt&&Fa(E,Mt,{toAttrs:(0,w.pi)({},E.attr()),coordinate:E.get("coordinate")})}delete g[D]}}),(0,p.S6)(g,function(E){var D=(0,p.U2)(E.get("animateCfg"),"leave");D?Fa(E,D,{toAttrs:null,coordinate:E.get("coordinate")}):E.remove(!0)}),this.shapesMap=n,a.destroy(),[2]}})})},i.prototype.clear=function(){this.container.clear(),this.shapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},i.prototype.renderLabel=function(r,t){var A,l=r.mappingData,c=r.coordinate,f=r.animate,g=r.content,x={id:r.id,elementId:r.elementId,capture:r.capture,data:r.data,origin:(0,w.pi)((0,w.pi)({},l),{data:l[pt]}),coordinate:c},b=t.addGroup((0,w.pi)({name:"label",animateCfg:!1!==this.animate&&null!==f&&!1!==f&&(0,p.b$)({},this.animate,f)},x));if(g.isGroup&&g.isGroup()||g.isShape&&g.isShape()){var E=g.getCanvasBBox(),D=E.width,z=E.height,Y=(0,p.U2)(r,"textAlign","left"),it=r.x;"center"===Y?it-=D/2:("right"===Y||"end"===Y)&&(it-=D),An(g,it,r.y-z/2),A=g,b.add(g)}else{var ct=(0,p.U2)(r,["style","fill"]);A=b.addShape("text",(0,w.pi)({attrs:(0,w.pi)((0,w.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,p.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,p.Ft)(ct)?r.color:ct})},x))}return r.rotate&&Wl(A,r.rotate),b},i.prototype.doLayout=function(r,t,e){return(0,w.mG)(this,void 0,void 0,function(){var n,a=this;return(0,w.Jh)(this,function(l){switch(l.label){case 0:return this.layout?(n=(0,p.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(n.map(function(c){var f=function Ah(i){return bh[i.toLowerCase()]}((0,p.U2)(c,"type",""));if(f){var g=[],m=[];return(0,p.S6)(e,function(x,b){g.push(x),m.push(t[x.get("elementId")])}),f(r,g,m,a.region,c.cfg)}}))]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},i.prototype.renderLabelLine=function(r,t){(0,p.S6)(r,function(e){var n=(0,p.U2)(e,"coordinate");if(e&&n){var a=n.getCenter(),l=n.getRadius();if(e.labelLine){var c=(0,p.U2)(e,"labelLine",{}),f=e.id,g=c.path;if(!g){var m=Lr(a.x,a.y,l,e.angle);g=[["M",m.x,m.y],["L",e.x,e.y]]}var x=t[f];x.destroyed||x.addShape("path",{capture:!1,attrs:(0,w.pi)({path:g,stroke:e.color?e.color:(0,p.U2)(e,["style","fill"],"#000"),fill:null},c.style),id:f,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.renderLabelBackground=function(r,t){(0,p.S6)(r,function(e){var n=(0,p.U2)(e,"coordinate"),a=(0,p.U2)(e,"background");if(a&&n){var l=e.id,c=t[l];if(!c.destroyed){var f=c.getChildren()[0];if(f){var g=Fh(c,e,a.padding),m=g.rotation,x=(0,w._T)(g,["rotation"]),b=c.addShape("rect",{attrs:(0,w.pi)((0,w.pi)({},x),a.style||{}),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate});if(b.setZIndex(-1),m){var A=f.getMatrix();b.setMatrix(A)}}}}})},i.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},i.prototype.adjustLabel=function(r,t){(0,p.S6)(r,function(e){if(e){var a=t[e.id];if(!a.destroyed){var l=a.findAll(function(c){return"path"!==c.get("type")});(0,p.S6)(l,function(c){c&&(e.offsetX&&c.attr("x",c.attr("x")+e.offsetX),e.offsetY&&c.attr("y",c.attr("y")+e.offsetY))})}}})},i}();const So=yd;function Lh(i){var r=0;return(0,p.S6)(i,function(t){r+=t}),r/i.length}var md=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,p.S6)(r,function(a,l){var c=n[l];if(!c||(0,p.UM)(a.x)||(0,p.UM)(a.y))e.push(null);else{var f=(0,p.kJ)(c.content)?c.content:[c.content];c.content=f;var g=f.length;(0,p.S6)(f,function(m,x){if((0,p.UM)(m)||""===m)e.push(null);else{var b=(0,w.pi)((0,w.pi)({},c),t.getLabelPoint(c,a,x));b.textAlign||(b.textAlign=t.getLabelAlign(b,x,g)),b.offset<=0&&(b.labelLine=null),e.push(b)}})}}),e},i.prototype.render=function(r,t){return void 0===t&&(t=!1),(0,w.mG)(this,void 0,void 0,function(){var e,n,a;return(0,w.Jh)(this,function(l){switch(l.label){case 0:return e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,n.render(e,a,t)];case 1:return l.sent(),[2]}})})},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(r,t){var e=this.geometry,n=e.type,a=e.theme;return"polygon"===n||"interval"===n&&"middle"===t||r<0&&!["line","point","path"].includes(n)?(0,p.U2)(a,"innerLabels",{}):(0,p.U2)(a,"labels",{})},i.prototype.getThemedLabelCfg=function(r){var t=this.geometry,e=this.getDefaultLabelCfg(),n=t.type,a=t.theme;return"polygon"===n||r.offset<0&&!["line","point","path"].includes(n)?(0,p.b$)({},e,a.innerLabels,r):(0,p.b$)({},e,a.labels,r)},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffsetPoint=function(r,t,e){var n=r.offset,l=this.getCoordinate().isTransposed,f=l?1:-1,g={x:0,y:0};return g[l?"x":"y"]=t>0||1===e?n*f:n*f*-1,g},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function l(z,Y,it){void 0===it&&(it=!1);var at=z;return(0,p.kJ)(at)&&(at=1===r.content.length?it?Lh(at):at.length<=2?at[z.length-1]:Lh(at):at[Y]),at}var c={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"},f=(0,p.kJ)(t.shape)?t.shape[0]:t.shape,g="funnel"===f||"pyramid"===f;if("polygon"===this.geometry.type){var m=function Fc(i,r){if((0,p.hj)(i)&&(0,p.hj)(r))return[i,r];if(qi(i)||qi(r))return[Ui(i),Ui(r)];for(var a,c,t=-1,e=0,n=0,l=i.length-1,f=0;++t<i.length;)f+=c=i[a=l]*r[l=t]-i[l]*r[a],e+=(i[a]+i[l])*c,n+=(r[a]+r[l])*c;return[e/(f*=3),n/f]}(t.x,t.y);c.x=m[0],c.y=m[1]}else"interval"!==this.geometry.type||g?(c.x=l(t.x,e),c.y=l(t.y,e)):(c.x=l(t.x,e,!0),c.y=l(t.y,e));if(g){var x=(0,p.U2)(t,"nextPoints"),b=(0,p.U2)(t,"points");if(x){var A=n.convert(b[1]),E=n.convert(x[1]);c.x=(A.x+E.x)/2,c.y=(A.y+E.y)/2}else"pyramid"===f&&(A=n.convert(b[1]),E=n.convert(b[2]),c.x=(A.x+E.x)/2,c.y=(A.y+E.y)/2)}r.position&&this.setLabelPosition(c,t,e,r.position);var D=this.getLabelOffsetPoint(r,e,a);return c.start={x:c.x,y:c.y},c.x+=D.x,c.y+=D.y,c.color=t.color,c},i.prototype.getLabelAlign=function(r,t,e){var n="center";if(this.getCoordinate().isTransposed){var l=r.offset;n=l<0?"right":0===l?"center":"left",e>1&&0===t&&("right"===n?n="left":"left"===n&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),l=r[pt],c=t.getElementId(r);return"line"===e||"area"===e?c+=" ".concat(l[n.field]):"path"===e&&(c+=" ".concat(l[n.field],"-").concat(l[a.field])),c},i.prototype.getLabelsRenderer=function(){var r=this.geometry,n=r.canvasRegion,a=r.animateOption,l=this.geometry.coordinate,c=this.labelsRenderer;return c||(c=new So({container:r.labelsContainer,layout:(0,p.U2)(r.labelOption,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=c),c.region=n,c.animate=!!a&&Mh("label",l),c},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=e.labelOption,a=e.scales,l=e.coordinate,f=n.fields,g=n.callback,m=n.cfg,x=f.map(function(A){return a[A]}),b=[];return(0,p.S6)(r,function(A,E){var Y,D=A[pt],z=t.getLabelText(D,x);if(g){var it=f.map(function(jt){return D[jt]});if(Y=g.apply(void 0,(0,w.ev)([],(0,w.CR)(it),!1)),(0,p.UM)(Y))return void b.push(null)}var at=(0,w.pi)((0,w.pi)({id:t.getLabelId(A),elementId:t.geometry.getElementId(A),data:D,mappingData:A,coordinate:l},m),Y);(0,p.mf)(at.position)&&(at.position=at.position(D,A,E));var ct=t.getLabelOffset(at.offset||0),Mt=t.getDefaultLabelCfg(ct,at.position);(at=(0,p.b$)({},Mt,at)).offset=t.getLabelOffset(at.offset||0);var Xt=at.content;(0,p.mf)(Xt)?at.content=Xt(D,A,E):(0,p.o8)(Xt)&&(at.content=z[0]),b.push(at)}),b},i.prototype.getLabelText=function(r,t){var e=[];return(0,p.S6)(t,function(n){var a=r[n.field];a=(0,p.kJ)(a)?a.map(function(l){return n.getText(l)}):n.getText(a),(0,p.UM)(a)||""===a?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){void 0===r&&(r=0);var t=this.getCoordinate(),e=0;return(0,p.hj)(r)&&(e=r),t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,p.S6)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,p.S6)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}();const Ls=md;function Zl(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,w.ev)([r],(0,w.CR)(n),!1)).join("")}else e=i.mapping(r).join("");return e||t}var En={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Z0=["line","cross","tick","plus","hyphen"];function kh(i){var r=i.symbol;(0,p.HD)(r)&&En[r]&&(i.symbol=En[r])}function ks(i){return i.startsWith(Q.LEFT)||i.startsWith(Q.RIGHT)?"vertical":"horizontal"}function Ph(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var l=a.field,c=r.getAttribute("color"),f=r.getAttribute("shape"),g=i.getTheme().defaultColor,m=r.coordinate.isPolar;return a.getTicks().map(function(x,b){var A,z=x.text,Y=a.invert(x.value),it=0===i.filterFieldData(l,[(A={},A[l]=Y,A)]).length;(0,p.S6)(i.views,function(jt){var ne;jt.filterFieldData(l,[(ne={},ne[l]=Y,ne)]).length||(it=!0)});var at=Zl(c,Y,g),ct=Zl(f,Y,"point"),Mt=r.getShapeMarker(ct,{color:at,isInPolar:m}),Xt=n;return(0,p.mf)(Xt)&&(Xt=Xt(z,b,(0,w.pi)({name:z,value:Y},(0,p.b$)({},e,Mt)))),function $l(i,r){var t=i.symbol;if((0,p.HD)(t)&&-1!==Z0.indexOf(t)){var e=(0,p.U2)(i,"style",{}),n=(0,p.U2)(e,"lineWidth",1);i.style=(0,p.b$)({},i.style,{lineWidth:n,stroke:e.stroke||e.fill||r,fill:null})}}(Mt=(0,p.b$)({},e,Mt,vi((0,w.pi)({},Xt),["style"])),at),Xt&&Xt.style&&(Mt.style=function Co(i,r){return(0,p.mf)(r)?r(i):(0,p.b$)({},i,r)}(Mt.style,Xt.style)),kh(Mt),{id:Y,name:z,value:Y,marker:Mt,unchecked:it}})}return[]}function wd(i,r){var t=(0,p.U2)(i,["components","legend"],{});return(0,p.b$)({},(0,p.U2)(t,["common"],{}),(0,p.b$)({},(0,p.U2)(t,[r],{})))}function Dh(i){return!i&&(null==i||isNaN(i))}function Md(i){if((0,p.kJ)(i))return Dh(i[1].y);var r=i.y;return(0,p.kJ)(r)?Dh(r[0]):Dh(r)}function Ps(i,r,t){if(void 0===r&&(r=!1),void 0===t&&(t=!0),!i.length||1===i.length&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++)Md(l=i[n])||e.push(l);return[e]}var c=[],f=[];for(n=0,a=i.length;n<a;n++){var l;Md(l=i[n])?f.length&&(1===f.length&&!t||c.push(f),f=[]):f.push(l)}return f.length&&c.push(f),c}function jl(i){for(var r=[],t=0;t<i.length;t++){var e=i[t];e&&r.push([0===t?"M":"L",e.x,e.y])}var a=i[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function ql(i){for(var r=i.length/2,t=[],e=[],n=0;n<i.length;n++)n<r?t.push(i[n]):e.push(i[n]);var a=ws(t,!1),l=ws(e,!1);e.length&&a.push(["L",e[0].x,e[0].y]),l.shift();var c=a.concat(l);return t.length&&c.push(["L",t[0].x,t[0].y]),c.push(["z"]),c}function Or(i,r,t,e){void 0===e&&(e="");var n=i.style,a=void 0===n?{}:n,c=i.color,f=i.size,g=(0,w.pi)((0,w.pi)({},i.defaultStyle),a);return c&&(r&&(a.stroke||(g.stroke=c)),t&&(a.fill||(g.fill=c))),e&&(0,p.UM)(a[e])&&!(0,p.UM)(f)&&(g[e]=f),g}function Oh(i){return(0,p.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,p.U2)(i,["background","style"]))}function en(i){var r=i.x;return((0,p.kJ)(i.y)?i.y:[i.y]).map(function(e,n){return{x:(0,p.kJ)(r)?r[n]:r,y:e}})}var Kl={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Bh(i,r){return{symbol:Kl[r],style:{lineWidth:2,r:6,stroke:i.color}}}function Ds(i,r,t,e,n){return 1===i.length?[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]]:(t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=ws(i,!1,e)):(a=co(i,!1),r&&a.push(["Z"])),a);var a}function Rh(i,r,t,e,n,a){return i.length?(0,p.kJ)(i[0].y)?function Sd(i,r,t,e,n,a){var l=[],c=[];(0,p.S6)(i,function(m){var x=en(m);l.push(x[1]),c.push(x[0])});var f=Ds(l,r,e,n,a),g=Ds(c,r,e,n,a);return t?f:f.concat(g)}(i,r,t,e,n,a):Ds(i,r,e,n,a):[]}bn("line",{defaultShapeType:"line"}),(0,p.S6)(["line","dot","dash","smooth"],function(i){Ar("line",i,{draw:function(r,t){var n,e="smooth"===i;if(e){var a=this.coordinate,l=a.start,c=a.end;n=[[l.x,c.y],[c.x,l.y]]}var f=function _h(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,l=i.showSinglePoint,c=Or(i,!0,!1,"lineWidth"),f=Ps(i.points,n,l),g=[],m=0,x=f.length;m<x;m++)g=g.concat(Rh(f[m],a,e,r,t,c));return c.path=g,c}(r,e,n);return t.addShape({type:"path",attrs:f,name:"line",capture:!e})},getMarker:function(r){return Bh(r,i)}})});var Cd={getLegendItems:Ph,translate:An,rotate:Wl,zoom:function pd(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Is(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)},transform:Is,getAngle:Ca,getSectorPath:Ki,polarToCartesian:Lr,getDelegationObject:Wn,getTooltipItems:Rl,getMappingValue:Zl,getPath:Rh,getPathPoints:Ps},xr_100="#FFFFFF",xr_65="#A6A6A6",xr_45="#737373",xr_25="#404040",Gi=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Os=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],rn=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Jl=function(i){void 0===i&&(i={});var r=i.paletteQualitative10,t=void 0===r?Gi:r,e=i.paletteQualitative20,a=i.brandColor;return(0,w.pi)((0,w.pi)({},{backgroundColor:"#141414",brandColor:void 0===a?t[0]:a,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===e?Os:e,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:rn,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:xr_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:xr_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#262626",axisTickLineBorderColor:xr_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#262626",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:xr_45,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#262626",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:xr_45,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Gi[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:xr_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:xr_45,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:xr_45,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:xr_65,legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#262626",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:xr_45,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:"#262626",annotationArcBorder:1,annotationLineBorderColor:xr_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:xr_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:xr_100,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:xr_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:xr_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:xr_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#000",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:xr_65,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#000",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:xr_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Gi[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#000",pointBorderOpacity:1,pointActiveBorderColor:xr_100,pointSelectedBorder:2,pointSelectedBorderColor:xr_100,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Gi[0],hollowPointBorderOpacity:.95,hollowPointFillColor:"#000",hollowPointActiveBorder:1,hollowPointActiveBorderColor:xr_100,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:xr_100,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Gi[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Gi[0],areaFillOpacity:.25,areaActiveFillColor:Gi[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Gi[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Gi[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:xr_100,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:xr_100,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Gi[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:xr_100,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:xr_100,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Gi[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#000",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:xr_100,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:xr_100,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),i)}();function Vh(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function vn(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function si(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Ql(i,r){return i[0]===r[0]&&i[1]===r[1]}var Gh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,tu=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Hh=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Yh=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Xh(i,r){var t=i.match(Yh);(0,p.S6)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Ed(i,r,t){var e=r.getBBox();if(isNaN(e.x)||isNaN(e.y)||isNaN(e.width)||isNaN(e.height))return t;if((0,p.HD)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function Ad(i,r,t){var c,f,e=Gh.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],l=r.getBBox();n>=0&&n<.5*Math.PI?(c={x:l.minX,y:l.minY},f={x:l.maxX,y:l.maxY}):.5*Math.PI<=n&&n<Math.PI?(c={x:l.maxX,y:l.minY},f={x:l.minX,y:l.maxY}):Math.PI<=n&&n<1.5*Math.PI?(c={x:l.maxX,y:l.maxY},f={x:l.minX,y:l.minY}):(c={x:l.minX,y:l.maxY},f={x:l.maxX,y:l.minY});var g=Math.tan(n),m=g*g,A=i.createLinearGradient(c.x,c.y,(f.x-c.x+g*(f.y-c.y))/(m+1)+c.x,g*(f.x-c.x+g*(f.y-c.y))/(m+1)+c.y);return Xh(a,A),A}(i,r,t);if("r"===t[0])return function j0(i,r,t){var e=tu.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),l=parseFloat(e[3]),c=e[4];if(0===l){var f=c.match(Yh);return f[f.length-1].split(":")[1]}var g=r.getBBox(),m=g.maxX-g.minX,x=g.maxY-g.minY,b=Math.sqrt(m*m+x*x)/2,A=i.createRadialGradient(g.minX+m*n,g.minY+x*a,0,g.minX+m/2,g.minY+x/2,l*b);return Xh(c,A),A}(i,r,t);if("p"===t[0])return function Td(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Hh.exec(t),l=a[1],c=a[2];function f(){e=i.createPattern(n,l),r.set("pattern",e),r.set("patternSource",t)}switch(l){case"a":l="repeat";break;case"x":l="repeat-x";break;case"y":l="repeat-y";break;default:l="no-repeat"}return n=new Image,c.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=c,n.complete?f():(n.onload=f,n.src=n.src),e}(i,r,t)}return t}return t instanceof CanvasPattern?t:void 0}function La(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function eu(i,r){return La(i)*La(r)?(i[0]*r[0]+i[1]*r[1])/(La(i)*La(r)):1}function Zh(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(eu(i,r))}function Bs(i,r){var t=r[1],e=r[2],n=(0,p.wQ)((0,p.c$)(r[3]),2*Math.PI),a=r[4],l=r[5],c=i[0],f=i[1],g=r[6],m=r[7],x=Math.cos(n)*(c-g)/2+Math.sin(n)*(f-m)/2,b=-1*Math.sin(n)*(c-g)/2+Math.cos(n)*(f-m)/2,A=x*x/(t*t)+b*b/(e*e);A>1&&(t*=Math.sqrt(A),e*=Math.sqrt(A));var E=t*t*(b*b)+e*e*(x*x),D=E?Math.sqrt((t*t*(e*e)-E)/E):1;a===l&&(D*=-1),isNaN(D)&&(D=0);var z=e?D*t*b/e:0,Y=t?D*-e*x/t:0,it=(c+g)/2+Math.cos(n)*z-Math.sin(n)*Y,at=(f+m)/2+Math.sin(n)*z+Math.cos(n)*Y,ct=[(x-z)/t,(b-Y)/e],Mt=[(-1*x-z)/t,(-1*b-Y)/e],Xt=Zh([1,0],ct),jt=Zh(ct,Mt);return eu(ct,Mt)<=-1&&(jt=Math.PI),eu(ct,Mt)>=1&&(jt=0),0===l&&jt>0&&(jt-=2*Math.PI),1===l&&jt<0&&(jt+=2*Math.PI),{cx:it,cy:at,rx:Ql(i,[g,m])?0:t,ry:Ql(i,[g,m])?0:e,startAngle:Xt,endAngle:Xt+jt,xRotation:n,arcFlag:a,sweepFlag:l}}var _s=Math.sin,Rs=Math.cos,ru=Math.atan2,ka=Math.PI;function $h(i,r,t,e,n,a,l){var c=r.stroke,f=r.lineWidth,x=ru(e-a,t-n),b=new cu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Rs(ka/6)+","+10*_s(ka/6)+" L0,0 L"+10*Rs(ka/6)+",-"+10*_s(ka/6),stroke:c,lineWidth:f}});b.translate(n,a),b.rotateAtPoint(n,a,x),i.set(l?"startArrowShape":"endArrowShape",b)}function jh(i,r,t,e,n,a,l){var g=r.stroke,m=r.lineWidth,x=l?r.startArrow:r.endArrow,b=x.d,A=x.fill,E=x.stroke,D=x.lineWidth,z=(0,w._T)(x,["d","fill","stroke","lineWidth"]),at=ru(e-a,t-n);b&&(n-=Rs(at)*b,a-=_s(at)*b);var ct=new cu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,w.pi)((0,w.pi)({},z),{stroke:E||g,lineWidth:D||m,fill:A})});ct.translate(n,a),ct.rotateAtPoint(n,a,at),i.set(l?"startArrowShape":"endArrowShape",ct)}function pn(i,r,t,e,n){var a=ru(e-r,t-i);return{dx:Rs(a)*n,dy:_s(a)*n}}function qh(i,r,t,e,n,a){"object"==typeof r.startArrow?jh(i,r,t,e,n,a,!0):r.startArrow?$h(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function iu(i,r,t,e,n,a){"object"==typeof r.endArrow?jh(i,r,t,e,n,a,!1):r.endArrow?$h(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Kh={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Pa(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Kh[e]?Kh[e]:e;"matrix"===a&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):"lineDash"===a&&i.setLineDash?(0,p.kJ)(n)&&i.setLineDash(n):("strokeStyle"===a||"fillStyle"===a?n=Ed(i,r,n):"globalAlpha"===a&&(n*=i.globalAlpha),i[a]=n)}}function nu(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.cfg.visible?n.draw(i,t):n.skipDraw()}}function Fd(i,r,t){var e=i.get("refreshElements");(0,p.S6)(e,function(n){if(n!==i)for(var a=n.cfg.parent;a&&a!==i&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),e[0]===i?au(r,t):Ns(r,t)}function Ns(i,r){for(var t=0;t<i.length;t++){var e=i[t];if(e.cfg.visible)if(e.cfg.hasChanged)e.cfg.refresh=!0,e.isGroup()&&au(e.cfg.children,r);else if(e.cfg.refresh)e.isGroup()&&Ns(e.cfg.children,r);else{var n=Id(e,r);e.cfg.refresh=n,n&&e.isGroup()&&Ns(e.cfg.children,r)}}}function Jh(i){for(var r=0;r<i.length;r++){var t=i[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Jh(t.cfg.children)}}function au(i,r){for(var t=0;t<i.length;t++){var e=i[t];e.cfg.visible&&(e.cfg.refresh=!0,e.isGroup()&&au(e.get("children"),r))}}function Id(i,r){var t=i.cfg.cacheCanvasBBox;return i.cfg.isInView&&t&&si(t,r)}function Qh(i,r,t,e){var n=t.path,a=t.startArrow,l=t.endArrow;if(n){var c=[0,0],f=[0,0],g={dx:0,dy:0};r.beginPath();for(var m=0;m<n.length;m++){var x=n[m],b=x[0];if(0===m&&a&&a.d)g=pn((A=i.getStartTangent())[0][0],A[0][1],A[1][0],A[1][1],a.d);else if(m===n.length-2&&"Z"===n[m+1][0]&&l&&l.d)"Z"===n[m+1][0]&&(g=pn((A=i.getEndTangent())[0][0],A[0][1],A[1][0],A[1][1],l.d));else if(m===n.length-1&&l&&l.d&&"Z"!==n[0]){var A;g=pn((A=i.getEndTangent())[0][0],A[0][1],A[1][0],A[1][1],l.d)}var D=g.dx,z=g.dy;switch(b){case"M":r.moveTo(x[1]-D,x[2]-z),f=[x[1],x[2]];break;case"L":r.lineTo(x[1]-D,x[2]-z);break;case"Q":r.quadraticCurveTo(x[1],x[2],x[3]-D,x[4]-z);break;case"C":r.bezierCurveTo(x[1],x[2],x[3],x[4],x[5]-D,x[6]-z);break;case"A":var Y=void 0;e?(Y=e[m])||(Y=Bs(c,x),e[m]=Y):Y=Bs(c,x);var it=Y.cx,at=Y.cy,ct=Y.rx,Mt=Y.ry,Xt=Y.startAngle,jt=Y.endAngle,ne=Y.xRotation,ye=Y.sweepFlag;if(r.ellipse)r.ellipse(it,at,ct,Mt,ne,Xt,jt,1-ye);else{var xe=ct>Mt?ct:Mt,Ve=ct>Mt?1:ct/Mt,ze=ct>Mt?Mt/ct:1;r.translate(it,at),r.rotate(ne),r.scale(Ve,ze),r.arc(0,0,xe,Xt,jt,1-ye),r.scale(1/Ve,1/ze),r.rotate(-ne),r.translate(-it,-at)}break;case"Z":r.closePath()}if("Z"===b)c=f;else{var er=x.length;c=[x[er-2],x[er-1]]}}}}function tf(i,r){var t=i.get("canvas");t&&("remove"===r&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(i.set("hasChanged",!0),i.cfg.parent&&i.cfg.parent.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw())))}var Dd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.onCanvasChange=function(t){tf(this,t)},r.prototype.getShapeBase=function(){return $t},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Pa(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.cacheCanvasBBox=function(){var e=[],n=[];(0,p.S6)(this.cfg.children,function(b){var A=b.cfg.cacheCanvasBBox;A&&b.cfg.isInView&&(e.push(A.minX,A.maxX),n.push(A.minY,A.maxY))});var a=null;if(e.length){var l=(0,p.VV)(e),c=(0,p.Fp)(e),f=(0,p.VV)(n),g=(0,p.Fp)(n);a={minX:l,minY:f,x:l,y:f,maxX:c,maxY:g,width:c-l,height:g-f};var m=this.cfg.canvas;if(m){var x=m.getViewRange();this.set("isInView",si(a,x))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},r.prototype.draw=function(t,e){var n=this.cfg.children;n.length&&(!e||this.cfg.refresh)&&(t.save(),Pa(t,this),this._applyClip(t,this.getClip()),nu(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(U.AbstractGroup);const ef=Dd;var ki=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return $t},r.prototype.getGroupBase=function(){return ef},r.prototype.onCanvasChange=function(t){tf(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),a=(0,U.getBBoxMethod)(t)(this),l=e/2,c=a.x-l,f=a.y-l;return{x:c,minX:c,y:f,minY:f,width:a.width+e,height:a.height+e,maxX:a.x+a.width+l,maxY:a.y+a.height+l}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Pa(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!si(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Pa(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=si(e,t);this.set("isInView",n),this.set("cacheCanvasBBox",n?e:null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,l=e.strokeOpacity,c=e.fillOpacity;this.isFill()&&((0,p.UM)(c)||1===c?this.fill(t):(t.globalAlpha=c,this.fill(t),t.globalAlpha=a)),this.isStroke()&&n>0&&(!(0,p.UM)(l)&&1!==l&&(t.globalAlpha=l),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),l=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,l)},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(U.AbstractShape);const Kr=ki;var Od=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){var c=this.attr(),m=c.r,x=l/2,b=Vh(c.x,c.y,t,e);return a&&n?b<=m+x:a?b<=m:!!n&&b>=m-x&&b<=m+x},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,l=e.r;t.beginPath(),t.arc(n,a,l,0,2*Math.PI,!1),t.closePath()},r}(Kr);const rf=Od;function bo(i,r,t,e){return i/(t*t)+r/(e*e)}var nf=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){var c=this.attr(),f=l/2,g=c.x,m=c.y,x=c.rx,b=c.ry,A=(t-g)*(t-g),E=(e-m)*(e-m);return a&&n?bo(A,E,x+f,b+f)<=1:a?bo(A,E,x,b)<=1:!!n&&bo(A,E,x-f,b-f)>=1&&bo(A,E,x+f,b+f)<=1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,l=e.rx,c=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,l,c,0,0,2*Math.PI,!1);else{var f=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;t.save(),t.translate(n,a),t.scale(g,m),t.arc(0,0,f,0,2*Math.PI),t.restore(),t.closePath()}},r}(Kr);const ou=nf;function af(i){return i instanceof HTMLElement&&(0,p.HD)(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase()}var Bd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,p.HD)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var l=e.get("callback");l&&l.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):af(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||Number(t.getAttribute("height")))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),"img"===t&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,a=e.y,l=e.width,c=e.height,f=e.sx,g=e.sy,m=e.swidth,x=e.sheight,b=e.img;(b instanceof Image||af(b))&&((0,p.UM)(f)||(0,p.UM)(g)||(0,p.UM)(m)||(0,p.UM)(x)?t.drawImage(b,n,a,l,c):t.drawImage(b,f,g,m,x,n,a,l,c))},r}(Kr);const _d=Bd;var ii=mt(9174);function Fn(i,r,t,e,n,a,l){var c=Math.min(i,t),f=Math.max(i,t),g=Math.min(r,e),m=Math.max(r,e),x=n/2;return a>=c-x&&a<=f+x&&l>=g-x&&l<=m+x&&ii.x1.pointToLine(i,r,t,e,a,l)<=n/2}var Rd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,l=t.y2,f=t.endArrow;t.startArrow&&qh(this,t,a,l,e,n),f&&iu(this,t,e,n,a,l)},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){if(!n||!l)return!1;var c=this.attr();return Fn(c.x1,c.y1,c.x2,c.y2,l,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,l=e.x2,c=e.y2,f=e.startArrow,g=e.endArrow,m={dx:0,dy:0},x={dx:0,dy:0};f&&f.d&&(m=pn(n,a,l,c,e.startArrow.d)),g&&g.d&&(x=pn(n,a,l,c,e.endArrow.d)),t.beginPath(),t.moveTo(n+m.dx,a+m.dy),t.lineTo(l-x.dx,c-x.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr();return ii.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return ii.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(Kr);const of=Rd;var Ao={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},zs=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,p.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var c,f,t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",l=this._getR(t);if((0,p.mf)(a))f=(c=a)(e,n,l),f=(0,wa.wb)(f);else{if(!(c=r.Symbols[a]))return console.warn(a+" marker is not supported."),null;f=c(e,n,l)}return f},r.prototype.createPath=function(t){Qh(this,t,{path:this._getPath()},this.get("paramsCache"))},r.Symbols=Ao,r}(Kr);const To=zs;function su(i,r,t){var e=(0,U.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Nd=1e-6;function lu(i){return Math.abs(i)<Nd?0:i<0?-1:1}function sf(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function uu(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var l=i[a],c=i[(a+1)%n];if(sf(l,c,[r,t]))return!0;lu(l[1]-t)>0!=lu(c[1]-t)>0&&lu(r-(t-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(e=!e)}return e}function Da(i,r,t,e,n,a,l,c){var f=(Math.atan2(c-r,l-i)+2*Math.PI)%(2*Math.PI);if(f<e||f>n)return!1;var g={x:i+t*Math.cos(f),y:r+t*Math.sin(f)};return Vh(g.x,g.y,l,c)<=a/2}var lf=Mr.vs;const Gs=(0,w.pi)({hasArc:function Vs(i){for(var r=!1,t=i.length,e=0;e<t;e++){var a=i[e][0];if("C"===a||"A"===a||"Q"===a){r=!0;break}}return r},extractPolygons:function zd(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var l=i[a],c=l[0];"M"===c?(n.length&&(e.push(n),n=[]),n.push([l[1],l[2]])):"Z"===c?n.length&&(t.push(n),n=[]):n.push([l[1],l[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}},isPointInStroke:function Us(i,r,t,e,n){for(var a=!1,l=r/2,c=0;c<i.length;c++){var f=i[c],g=f.currentPoint,m=f.params,x=f.prePoint,b=f.box;if(!b||vn(b.x-l,b.y-l,b.width+r,b.height+r,t,e)){switch(f.command){case"L":case"Z":a=Fn(x[0],x[1],g[0],g[1],r,t,e);break;case"Q":a=ii.lD.pointDistance(x[0],x[1],m[1],m[2],m[3],m[4],t,e)<=r/2;break;case"C":a=ii.Ll.pointDistance(x[0],x[1],m[1],m[2],m[3],m[4],m[5],m[6],t,e,n)<=r/2;break;case"A":var D=f.arcParams,it=D.rx,at=D.ry,ct=D.startAngle,Mt=D.endAngle,jt=[t,e,1],ne=it>at?it:at;fa(jt,jt,lf(null,[["t",-D.cx,-D.cy],["r",-D.xRotation],["s",1/(it>at?1:it/at),1/(it>at?at/it:1)]])),a=Da(0,0,ne,ct,Mt,r,jt[0],jt[1])}if(a)break}}return a}},U.PathUtil);function uf(i,r,t){for(var e=!1,n=0;n<i.length&&!(e=uu(i[n],r,t));n++);return e}var Vd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),"path"===t&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,wa.wb)(t);var e=Gs.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,wa.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var a,t=this.attr(),n=t.endArrow;t.startArrow&&qh(this,t,(a=this.getStartTangent())[0][0],a[0][1],a[1][0],a[1][1]),n&&iu(this,t,(a=this.getEndTangent())[0][0],a[0][1],a[1][0],a[1][1])},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){var c=this.getSegments(),f=this.get("hasArc"),g=!1;if(n){var m=this.getTotalLength();g=Gs.isPointInStroke(c,l,t,e,m)}if(!g&&a)if(f)g=su(this,t,e);else{var x=this.attr("path"),b=Gs.extractPolygons(x);g=uf(b.polygons,t,e)||uf(b.polylines,t,e)}return g},r.prototype.createPath=function(t){Qh(this,t,this.attr(),this.get("paramsCache"))},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,p.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,l=this.get("curve");if(!e||0===e.length)return l?{x:l[0][1],y:l[0][2]}:null;(0,p.S6)(e,function(m,x){t>=m[0]&&t<=m[1]&&(n=(t-m[0])/(m[1]-m[0]),a=x)});var c=l[a];if((0,p.UM)(c)||(0,p.UM)(a))return null;var f=c.length,g=l[a+1];return ii.Ll.pointAt(c[f-2],c[f-1],g[1],g[2],g[3],g[4],g[5],g[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Gs.pathToCurve(t))},r.prototype._setTcache=function(){var a,l,c,f,t=0,e=0,n=[],g=this.get("curve");if(g){if((0,p.S6)(g,function(m,x){f=m.length,(c=g[x+1])&&(t+=ii.Ll.length(m[f-2],m[f-1],c[1],c[2],c[3],c[4],c[5],c[6])||0)}),this.set("totalLength",t),0===t)return void this.set("tCache",[]);(0,p.S6)(g,function(m,x){f=m.length,(c=g[x+1])&&((a=[])[0]=e/t,l=ii.Ll.length(m[f-2],m[f-1],c[1],c[2],c[3],c[4],c[5],c[6]),a[1]=(e+=l||0)/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,l=t[1].startTangent;e=[],l?(e.push([n[0]-l[0],n[1]-l[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var n,t=this.getSegments(),e=t.length;if(e>1){var a=t[e-2].currentPoint,l=t[e-1].currentPoint,c=t[e-1].endTangent;n=[],c?(n.push([l[0]-c[0],l[1]-c[1]]),n.push([l[0],l[1]])):(n.push([a[0],a[1]]),n.push([l[0],l[1]]))}return n},r}(Kr);const cu=Vd;function cf(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var l=0;l<a-1;l++)if(Fn(i[l][0],i[l][1],i[l+1][0],i[l+1][1],r,t,e))return!0;if(n){var x=i[0],b=i[a-1];if(Fn(x[0],x[1],b[0],b[1],r,t,e))return!0}return!1}var Ud=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.isInStrokeOrPath=function(t,e,n,a,l){var c=this.attr().points,f=!1;return n&&(f=cf(c,l,t,e,!0)),!f&&a&&(f=uu(c,t,e)),f},r.prototype.createPath=function(t){var n=this.attr().points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var l=n[a];0===a?t.moveTo(l[0],l[1]):t.lineTo(l[0],l[1])}t.closePath()}},r}(Kr);const Gd=Ud;var Hd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,l=e.endArrow,c=n.length,m=n[c-1][0],x=n[c-1][1];e.startArrow&&qh(this,t,n[1][0],n[1][1],n[0][0],n[0][1]),l&&iu(this,t,n[c-2][0],n[c-2][1],m,x)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){return!(!n||!l)&&cf(this.attr().points,l,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,l=e.endArrow,c=n.length;if(!(n.length<2)){var b,f=n[0][0],g=n[0][1],m=n[c-1][0],x=n[c-1][1];a&&a.d&&(f+=(b=pn(f,g,n[1][0],n[1][1],a.d)).dx,g+=b.dy),l&&l.d&&(m-=(b=pn(n[c-2][0],n[c-2][1],m,x,l.d)).dx,x-=b.dy),t.beginPath(),t.moveTo(f,g);for(var A=0;A<c-1;A++){var E=n[A];t.lineTo(E[0],E[1])}t.lineTo(m,x)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,p.UM)(e)?(this.set("totalLength",ii.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,l,e=this.attr().points,n=this.get("tCache");return n||(this._setTcache(),n=this.get("tCache")),(0,p.S6)(n,function(c,f){t>=c[0]&&t<=c[1]&&(a=(t-c[0])/(c[1]-c[0]),l=f)}),ii.x1.pointAt(e[l][0],e[l][1],e[l+1][0],e[l+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var l,c,n=0,a=[];(0,p.S6)(t,function(f,g){t[g+1]&&((l=[])[0]=n/e,c=ii.x1.length(f[0],f[1],t[g+1][0],t[g+1][1]),l[1]=(n+=c)/e,a.push(l))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Kr);const q0=Hd;var hu=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,l){var c=this.attr(),f=c.x,g=c.y,m=c.width,x=c.height,b=c.radius;if(b){var E=!1;return n&&(E=function Hs(i,r,t,e,n,a,l,c){return Fn(i+n,r,i+t-n,r,a,l,c)||Fn(i+t,r+n,i+t,r+e-n,a,l,c)||Fn(i+t-n,r+e,i+n,r+e,a,l,c)||Fn(i,r+e-n,i,r+n,a,l,c)||Da(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,l,c)||Da(i+t-n,r+e-n,n,0,.5*Math.PI,a,l,c)||Da(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,l,c)||Da(i+n,r+n,n,Math.PI,1.5*Math.PI,a,l,c)}(f,g,m,x,b,l,t,e)),!E&&a&&(E=su(this,t,e)),E}var A=l/2;return a&&n?vn(f-A,g-A,m+A,x+A,t,e):a?vn(f,g,m,x,t,e):n?function Pi(i,r,t,e,n,a,l){var c=n/2;return vn(i-c,r-c,t,n,a,l)||vn(i+t-c,r-c,n,e,a,l)||vn(i+c,r+e-c,t,n,a,l)||vn(i-c,r+c,n,e,a,l)}(f,g,m,x,l,t,e):void 0},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,l=e.width,c=e.height,f=e.radius;if(t.beginPath(),0===f)t.rect(n,a,l,c);else{var g=function Wh(i){var r=0,t=0,e=0,n=0;return(0,p.kJ)(i)?1===i.length?r=t=e=n=i[0]:2===i.length?(r=e=i[0],t=n=i[1]):3===i.length?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}(f),m=g[0],x=g[1],b=g[2],A=g[3];t.moveTo(n+m,a),t.lineTo(n+l-x,a),0!==x&&t.arc(n+l-x,a+x,x,-Math.PI/2,0),t.lineTo(n+l,a+c-b),0!==b&&t.arc(n+l-b,a+c-b,b,0,Math.PI/2),t.lineTo(n+A,a+c),0!==A&&t.arc(n+A,a+c-A,A,Math.PI/2,Math.PI),t.lineTo(n,a+m),0!==m&&t.arc(n+m,a+m,m,Math.PI,1.5*Math.PI),t.closePath()}},r}(Kr);const fu=hu;var Yd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,U.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,p.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},r.prototype._drawTextArr=function(t,e,n){var b,a=this.attrs,l=a.textBaseline,c=a.x,f=a.y,g=1*a.fontSize,m=this._getSpaceingY(),x=(0,U.getTextHeight)(a.text,a.fontSize,a.lineHeight);(0,p.S6)(e,function(A,E){b=f+E*(m+g)-x+g,"middle"===l&&(b+=x-g-(x-g)/2),"top"===l&&(b+=x-g),(0,p.UM)(A)||(n?t.fillText(A,c,b):t.strokeText(A,c,b))})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,l=n.y,c=this.get("textArr");if(c)this._drawTextArr(t,c,e);else{var f=n.text;(0,p.UM)(f)||(e?t.fillText(f,a,l):t.strokeText(f,a,l))}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,l=e.strokeOpacity,c=e.fillOpacity;this.isStroke()&&n>0&&(!(0,p.UM)(l)&&1!==l&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&((0,p.UM)(c)||1===c?this.fill(t):(t.globalAlpha=c,this.fill(t),t.globalAlpha=a)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Kr);const Xd=Yd;function hf(i,r,t){var e=i.getTotalMatrix();if(e){var n=function Wd(i,r){if(r){var t=(0,U.invert)(r);return(0,U.multiplyVec2)(t,i)}return i}([r,t,1],e);return[n[0],n[1]]}return[r,t]}function vu(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,U.isAllowCapture)(i)||!1===i.cfg.isInView)return!1;if(i.cfg.clipShape){var e=hf(i,r,t);if(i.isClipped(e[0],e[1]))return!1}var l=i.cfg.cacheCanvasBBox||i.getCanvasBBox();return r>=l.minX&&r<=l.maxX&&t>=l.minY&&t<=l.maxY}function ff(i,r,t){if(!vu(i,r,t))return null;for(var e=null,n=i.getChildren(),l=n.length-1;l>=0;l--){var c=n[l];if(c.isGroup())e=ff(c,r,t);else if(vu(c,r,t)){var f=c,g=hf(c,r,t);f.isInShape(g[0],g[1])&&(e=c)}if(e)break}return e}var Zd=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){("attr"===t||"sort"===t||"changeSize"===t)&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return $t},r.prototype.getGroupBase=function(){return ef},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||function bd(){return window?window.devicePixelRatio:1}();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),l=this.getPixelRatio();a.width=l*t,a.height=l*e,l>1&&n.scale(l,l)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?ff(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var n,t=this.get("refreshElements"),e=this.getViewRange();return t.length&&t[0]===this?n=e:(n=function kd(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,p.S6)(i,function(a){var l=function Ld(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!(!t.width||!t.height),n=i.getCanvasBBox(),a=n&&!(!n.width||!n.height);e&&a?r=function Uh(i,r){return i&&r?{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}:i||r}(t,n):e?r=t:a&&(r=n)}return r}(a);l&&(r.push(l.minX),t.push(l.minY),e.push(l.maxX),n.push(l.maxY))}),{minX:(0,p.VV)(r),minY:(0,p.VV)(t),maxX:(0,p.Fp)(e),maxY:(0,p.Fp)(n)}}(t),n&&(n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1,this.get("clipView")&&(n=function Pd(i,r){return i&&r&&si(i,r)?{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}:null}(n,e)))),n},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,p.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Pa(t,this),nu(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Pa(t,this),Fd(this,n,a),nu(t,n,a),t.restore()):e.length&&Jh(e),(0,p.S6)(e,function(l){l.get("hasChanged")&&l.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,p.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(U.AbstractCanvas);const $d=Zd;var jd="0.5.12",pu={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},pr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Di(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function qd(i){var r=pu[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=Di(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Ys(i,r){var t=i.get("el"),e=(0,p.qo)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Eo(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);-1===(e=e.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Fo(i,r){var t=i.getClip(),e=i.get("el");if(t){if(t&&!e.hasAttribute("clip-path")){qd(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}else e.removeAttribute("clip-path")}function Xs(i,r){r.forEach(function(t){t.draw(i)})}function Oa(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],l=i.get("el");if("remove"===r)if(i.get("isClipShape")){var f=l&&l.parentNode,g=f&&f.parentNode;f&&g&&g.removeChild(f)}else l&&l.parentNode&&l.parentNode.removeChild(l);else if("show"===r)l.setAttribute("visibility","visible");else if("hide"===r)l.setAttribute("visibility","hidden");else if("zIndex"===r)!function Kd(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(c){return 1===c.nodeType&&"defs"!==c.nodeName.toLowerCase()}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var l=e[r+1];l?t.insertBefore(i,l):t.appendChild(i)}}else t.appendChild(i)}(l,a.indexOf(i));else if("sort"===r){var m=i.get("children");m&&m.length&&Ys(i,function(x,b){return m.indexOf(x)-m.indexOf(b)?1:0})}else"clear"===r?l&&(l.innerHTML=""):"matrix"===r?Eo(i):"clip"===r?Fo(i,e):"attr"===r||"add"===r&&i.draw(e)}}var Ws=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Di("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){Oa(this,t)},r.prototype.getShapeBase=function(){return zt},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Fo(this,t),this.createPath(t),e.length&&Xs(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){pr[c]&&a.setAttribute(pr[c],l)}),Eo(this)},r}(U.AbstractGroup);const du=Ws;var Qd=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return zt},r.prototype.getGroupBase=function(){return du},r.prototype.onCanvasChange=function(t){Oa(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,U.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,l=e.y,c=e.width,f=e.height,g=this.getHitLineWidth(),m=g/2,x=a-m,b=l-m;return{x,y:b,minX:x,minY:b,maxX:a+c+m,maxY:l+f+m,width:c+g,height:f+g}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr();return(t.fill||t.fillStyle||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr();return(t.stroke||t.strokeStyle)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||qd(this),Fo(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,l=n.fillStyle,c=n.stroke,f=n.strokeStyle,g=n.fillOpacity,m=n.strokeOpacity,x=n.lineWidth,b=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",l):this._setColor(t,"fill",a||l),g&&b.setAttribute(pr.fillOpacity,g)),this.canStroke&&x>0&&(e?"stroke"in n?this._setColor(t,"stroke",c):"strokeStyle"in n&&this._setColor(t,"stroke",f):this._setColor(t,"stroke",c||f),m&&b.setAttribute(pr.strokeOpacity,m),x&&b.setAttribute(pr.lineWidth,x))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(l=t.find("gradient",n))||(l=t.addGradient(n)),a.setAttribute(pr[e],"url(#"+l+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var l;(l=t.find("pattern",n))||(l=t.addPattern(n)),a.setAttribute(pr[e],"url(#"+l+")")}else a.setAttribute(pr[e],n);else a.setAttribute(pr[e],"none")},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n;(a.shadowOffsetX||a.shadowOffsetY||a.shadowBlur||a.shadowColor)&&function Jd(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(n.dx||n.dy||n.blur||n.color){var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}else t.removeAttribute("filter")}(this,t)},r.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Eo(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),l=this.get("canvas").get("el").getBoundingClientRect(),g=document.elementFromPoint(t+l.left,e+l.top);return!(!g||!g.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(U.AbstractShape);const Mi=Qd;var tg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){"x"===c||"y"===c?a.setAttribute("c"+c,l):pr[c]&&a.setAttribute(pr[c],l)})},r}(Mi);const eg=tg;var rg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,w.ZT)(r,i),r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");if((0,p.S6)(e||n,function(g,m){pr[m]&&a.setAttribute(pr[m],g)}),"function"==typeof n.html){var l=n.html.call(this,n);if(l instanceof Element||l instanceof HTMLDocument){for(var c=a.childNodes,f=c.length-1;f>=0;f--)a.removeChild(c[f]);a.appendChild(l)}else a.innerHTML=l}else a.innerHTML=n.html},r}(Mi);const ig=rg;var ng=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){"x"===c||"y"===c?a.setAttribute("c"+c,l):pr[c]&&a.setAttribute(pr[c],l)})},r}(Mi);const ag=ng;var og=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),l=this.get("el");(0,p.S6)(e||a,function(c,f){"img"===f?n._setImage(a.img):pr[f]&&l.setAttribute(pr[f],c)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,p.HD)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,p.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(Mi);const vf=og;var sg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){if("startArrow"===c||"endArrow"===c)if(l){var f=(0,p.Kn)(l)?t.addArrow(n,pr[c]):t.getDefaultArrow(n,pr[c]);a.setAttribute(pr[c],"url(#"+f+")")}else a.removeAttribute(pr[c]);else pr[c]&&a.setAttribute(pr[c],l)})},r.prototype.getTotalLength=function(){var t=this.attr();return ii.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return ii.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(Mi);const pf=sg;var Zs={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,2*t,0],["a",t,t,0,1,0,2*-t,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}};const Hi={get:function(i){return Zs[i]},register:function(i,r){Zs[i]=r},remove:function(i){delete Zs[i]},getAll:function(){return Zs}};var lg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,p.kJ)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var c,t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,l=t.symbol||"circle";return(c=(0,p.mf)(l)?l:Hi.get(l))?c(e,n,a):(console.warn(c+" symbol is not exist."),null)},r.symbolsFactory=Hi,r}(Mi);const ug=lg;var df=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),l=this.get("el");(0,p.S6)(e||a,function(c,f){if("path"===f&&(0,p.kJ)(c))l.setAttribute("d",n._formatPath(c));else if("startArrow"===f||"endArrow"===f)if(c){var g=(0,p.Kn)(c)?t.addArrow(a,pr[f]):t.getDefaultArrow(a,pr[f]);l.setAttribute(pr[f],"url(#"+g+")")}else l.removeAttribute(pr[f]);else pr[f]&&l.setAttribute(pr[f],c)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(Mi);const cg=df;var hg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){"points"===c&&(0,p.kJ)(l)&&l.length>=2?a.setAttribute("points",l.map(function(f){return f[0]+","+f[1]}).join(" ")):pr[c]&&a.setAttribute(pr[c],l)})},r}(Mi);const fg=hg;var vg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,p.S6)(e||n,function(l,c){"points"===c&&(0,p.kJ)(l)&&l.length>=2?a.setAttribute("points",l.map(function(f){return f[0]+","+f[1]}).join(" ")):pr[c]&&a.setAttribute(pr[c],l)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,p.UM)(e)?(this.set("totalLength",ii.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,l,e=this.attr().points,n=this.get("tCache");return n||(this._setTcache(),n=this.get("tCache")),(0,p.S6)(n,function(c,f){t>=c[0]&&t<=c[1]&&(a=(t-c[0])/(c[1]-c[0]),l=f)}),ii.x1.pointAt(e[l][0],e[l][1],e[l+1][0],e[l+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var l,c,n=0,a=[];(0,p.S6)(t,function(f,g){t[g+1]&&((l=[])[0]=n/e,c=ii.x1.length(f[0],f[1],t[g+1][0],t[g+1][1]),l[1]=(n+=c)/e,a.push(l))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Mi);const pg=vg;var mg=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),l=this.get("el"),c=!1,f=["x","y","width","height","radius"];(0,p.S6)(e||a,function(g,m){-1===f.indexOf(m)||c?-1===f.indexOf(m)&&pr[m]&&l.setAttribute(pr[m],g):(l.setAttribute("d",n._assembleRect(a)),c=!0)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,l=t.height,c=t.radius;if(!c)return"M "+e+","+n+" l "+a+",0 l 0,"+l+" l"+-a+" 0 z";var f=function yg(i){var r=0,t=0,e=0,n=0;return(0,p.kJ)(i)?1===i.length?r=t=e=n=i[0]:2===i.length?(r=e=i[0],t=n=i[1]):3===i.length?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}(c);return(0,p.kJ)(c)?1===c.length?f.r1=f.r2=f.r3=f.r4=c[0]:2===c.length?(f.r1=f.r3=c[0],f.r2=f.r4=c[1]):3===c.length?(f.r1=c[0],f.r2=f.r4=c[1],f.r3=c[2]):(f.r1=c[0],f.r2=c[1],f.r3=c[2],f.r4=c[3]):f.r1=f.r2=f.r3=f.r4=c,[["M "+(e+f.r1)+","+n],["l "+(a-f.r1-f.r2)+",0"],["a "+f.r2+","+f.r2+",0,0,1,"+f.r2+","+f.r2],["l 0,"+(l-f.r2-f.r3)],["a "+f.r3+","+f.r3+",0,0,1,"+-f.r3+","+f.r3],["l "+(f.r3+f.r4-a)+",0"],["a "+f.r4+","+f.r4+",0,0,1,"+-f.r4+","+-f.r4],["l 0,"+(f.r4+f.r1-l)],["a "+f.r1+","+f.r1+",0,0,1,"+f.r1+","+-f.r1],["z"]].join(" ")},r}(Mi);const xg=mg;var wg=mt(2260),Mg={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Sg={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Q0={left:"left",start:"left",center:"middle",right:"end",end:"end"},ty=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,w.ZT)(r,i),r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,w.pi)((0,w.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),l=this.get("el");this._setFont(),(0,p.S6)(e||a,function(c,f){"text"===f?n._setText(""+c):"matrix"===f&&c?Eo(n):pr[f]&&l.setAttribute(pr[f],c)}),l.setAttribute("paint-order","stroke"),l.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,l=(0,wg.qY)();l&&"firefox"===l.name?t.setAttribute("dominant-baseline",Sg[n]||"alphabetic"):t.setAttribute("alignment-baseline",Mg[n]||"baseline"),t.setAttribute("text-anchor",Q0[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,l=n.textBaseline,c=void 0===l?"bottom":l;if(t)if(~t.indexOf("\n")){var f=t.split("\n"),g=f.length-1,m="";(0,p.S6)(f,function(x,b){0===b?"alphabetic"===c?m+='<tspan x="'+a+'" dy="'+-g+'em">'+x+"</tspan>":"top"===c?m+='<tspan x="'+a+'" dy="0.9em">'+x+"</tspan>":"middle"===c?m+='<tspan x="'+a+'" dy="'+-(g-1)/2+'em">'+x+"</tspan>":"bottom"===c?m+='<tspan x="'+a+'" dy="-'+(g+.3)+'em">'+x+"</tspan>":"hanging"===c&&(m+='<tspan x="'+a+'" dy="'+(-(g-1)-.3)+'em">'+x+"</tspan>"):m+='<tspan x="'+a+'" dy="1em">'+x+"</tspan>"}),e.innerHTML=m}else e.innerHTML=t;else e.innerHTML=""},r}(Mi);const ey=ty;var o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function h(i){var r=i.match(u);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,p.S6)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}var y=function(){function i(r){this.cfg={};var t=null,e=(0,p.EL)("gradient_");return"l"===r.toLowerCase()[0]?function v(i,r){var a,l,t=o.exec(i),e=(0,p.wQ)((0,p.c$)(parseFloat(t[1])),2*Math.PI),n=t[2];e>=0&&e<.5*Math.PI?(a={x:0,y:0},l={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},l={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},l={x:0,y:0}):(a={x:0,y:1},l={x:1,y:0});var c=Math.tan(e),f=c*c,g=(l.x-a.x+c*(l.y-a.y))/(f+1)+a.x,m=c*(l.x-a.x+c*(l.y-a.y))/(f+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",g),r.setAttribute("y2",m),r.innerHTML=h(n)}(r,t=Di("linearGradient")):function d(i,r){var t=s.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),l=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=h(l)}(r,t=Di("radialGradient")),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}();const M=y;var S={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},C={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=Di("filter");return(0,p.S6)(C,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,p.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,p.S6)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[S[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){t.innerHTML='<feDropShadow\n      dx="'+(r.dx||0)+'"\n      dy="'+(r.dy||0)+'"\n      stdDeviation="'+(r.blur?r.blur/10:0)+'"\n      flood-color="'+(r.color?r.color:"#000")+'"\n      flood-opacity="'+(r.opacity?r.opacity:1)+'"\n      />'},i}();const I=T;var F=function(){function i(r,t){this.cfg={};var e=Di("marker"),n=(0,p.EL)("marker_");e.setAttribute("id",n);var a=Di("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var l=r["marker-start"===t?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",!0===l?this._setDefaultPath(t,a):(this.cfg=l,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY","5")},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,p.kJ)(n)&&(n=n.map(function(l){return l.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}();const k=F;var G=function(){function i(r){this.type="clip",this.cfg={};var t=Di("clipPath");return this.el=t,this.id=(0,p.EL)("clip_"),t.id=this.id,t.appendChild(r.cfg.el),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}();const $=G;var et=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,q=function(){function i(r){this.cfg={};var t=Di("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=Di("image");t.appendChild(e);var n=(0,p.EL)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var l=et.exec(r)[2];e.setAttribute("href",l);var c=new Image;function f(){t.setAttribute("width",""+c.width),t.setAttribute("height",""+c.height)}return l.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=l,c.complete?f():(c.onload=f,c.src=c.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}();const bt=q;var Zt=function(){function i(r){var t=Di("defs"),e=(0,p.EL)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new k(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new M(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new k(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new I(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new bt(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new $(r);return this.el.appendChild(t.el),this.add(t),t.id},i}();const Ut=Zt;var Ht=function(i){function r(t){return i.call(this,(0,w.pi)((0,w.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,w.ZT)(r,i),r.prototype.getShapeBase=function(){return zt},r.prototype.getGroupBase=function(){return du},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!pu[a.tagName]){for(var l=a.parentNode;l&&!pu[l.tagName];)l=l.parentNode;a=l}return this.find(function(c){return c.get("el")===a})},r.prototype.createDom=function(){var t=Di("svg"),e=new Ut(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var a=this.get("children");a&&a.length&&Ys(this,function(c,f){return a.indexOf(c)-a.indexOf(f)?1:0})}else if("clear"===t){if(n){n.innerHTML="";var l=e.el;l.innerHTML="",n.appendChild(l)}}else"matrix"===t?Eo(this):"clip"===t?Fo(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Fo(this,t),e.length&&Xs(t,e)},r}(U.AbstractCanvas);const Ae=Ht;var Ne="0.5.6",He=function(i){function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,l=t.showSinglePoint,c=void 0===l||l;return e.connectNulls=void 0!==n&&n,e.showSinglePoint=c,e}return(0,w.ZT)(r,i),r.prototype.updateElements=function(t,e){var n,a,l,c,f,g;void 0===e&&(e=!1);for(var m=new Map,x=new Map,b=[],A=0,E=0;E<t.length;E++){var z=this.getElementId(D=t[E]);b.push(z),m.set(z,D),x.set(z,A),A++}this.elements=new Array(A);var Y=fd(this.lastElementsMap,b),it=Y.added,at=Y.updated,ct=Y.removed;try{for(var Mt=(0,w.XA)(it),Xt=Mt.next();!Xt.done;Xt=Mt.next()){var D=m.get(z=Xt.value),jt=this.getShapeFactory(),ne=this.getShapeInfo(D);E=x.get(z),(ye=new Sh({shapeFactory:jt,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:E})).geometry=this,ye.animate=this.animateOption,ye.draw(ne,e),this.elementsMap[z]=ye,this.elements[E]=ye}}catch(wr){n={error:wr}}finally{try{Xt&&!Xt.done&&(a=Mt.return)&&a.call(Mt)}finally{if(n)throw n.error}}try{for(var xe=(0,w.XA)(at),Ve=xe.next();!Ve.done;Ve=xe.next()){D=m.get(z=Ve.value);var ye=this.lastElementsMap[z],ze=(E=x.get(z),ne=this.getShapeInfo(D),ye.getModel());(this.isCoordinateChanged||Eh(ze,ne))&&(ye.animate=this.animateOption,ye.update(ne)),this.elementsMap[z]=ye,this.elements[E]=ye}}catch(wr){l={error:wr}}finally{try{Ve&&!Ve.done&&(c=xe.return)&&c.call(xe)}finally{if(l)throw l.error}}try{for(var er=(0,w.XA)(ct),ur=er.next();!ur.done;ur=er.next())(ye=this.lastElementsMap[z=ur.value]).animate=this.animateOption,ye.destroy()}catch(wr){f={error:wr}}finally{try{ur&&!ur.done&&(g=er.return)&&g.call(er)}finally{if(f)throw f.error}}},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,l=t.length;a<l;a++){var c=t[a];e.push({x:c.x,y:c.y}),n.push(c[pt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,l=n.data;return e.mappingData=t,e.data=l,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(tn);const nr=He;function qe(i,r,t,e,n){var a=[];if(i.length){for(var l=[],c=[],f=0,g=i.length;f<g;f++){var m=i[f];l.push(m[1]),c.push(m[0])}c=c.reverse(),(0,p.S6)([l,c],function(x,b){var A=[],E=e.parsePoints(x),D=E[0];1===l.length&&1===c.length?A=0===b?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(r&&E.push({x:D.x,y:D.y}),A=t?ws(E,!1,n):co(E,!1),b>0&&(A[0][0]="L")),a=a.concat(A)}),a.push(["Z"])}return a}function Ye(i,r,t,e,n){for(var a=Or(i,r,!r,"lineWidth"),c=i.isInCircle,m=Ps(i.points,i.connectNulls,i.showSinglePoint),x=[],b=0,A=m.length;b<A;b++)x=x.concat(qe(m[b],c,t,e,n));return a.path=x,a}function vr(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}bn("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0;return((0,p.kJ)(i.y)?i.y:[t,i.y]).map(function(n){return{x:r,y:n}})}}),Ar("area","area",{draw:function(i,r){var t=Ye(i,!1,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(i){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:i.color,fillOpacity:1}}}});var Hr=function(i){function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,l=t.sortable,c=void 0!==l&&l,f=t.showSinglePoint,g=void 0!==f&&f;return e.startOnZero=void 0===n||n,e.sortable=c,e.showSinglePoint=g,e}return(0,w.ZT)(r,i),r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,l=t.length;a<l;a++){var c=t[a];e.push(c.points),n.push(c[pt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){return this.startOnZero?i.prototype.getYMinValue.call(this):this.getYScale().min},r}(nr);const be=Hr;bn("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return en(i)}}),Ar("edge","line",{draw:function(i,r){var t=Or(i,!0,!1,"lineWidth"),e=co(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Je=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return(0,w.ZT)(r,i),r}(tn);const Xe=Je;var Qe=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return(0,w.ZT)(r,i),r.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var a=t[n],l=this.prepareRange(a),c=this.prepareSize(),f=(0,p.U2)(this.styleOption,["cfg","shadowBlur"]);(0,p.hj)(f)||(f=c/2),this.prepareGreyScaleBlurredCircle(c,f),this.drawWithRange(a,l,c,f)}},r.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var n=this.getAttribute("color").getFields()[0],a=1/0,l=-1/0;return t.forEach(function(c){var f=c[pt][n];f>l&&(l=f),f<a&&(a=f)}),a===l&&(a=l-1),[a,l]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,p.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,l=n.getContext("2d");n.width=n.height=2*a,l.clearRect(0,0,n.width,n.height),l.shadowOffsetX=l.shadowOffsetY=2*a,l.shadowBlur=e,l.shadowColor="black",l.beginPath(),l.arc(-a,-a,t,0,2*Math.PI,!0),l.closePath(),l.fill()},r.prototype.drawWithRange=function(t,e,n,a){var l,c,f=this.coordinate,g=f.start,m=f.end,x=this.coordinate.getWidth(),b=this.coordinate.getHeight(),E=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var D=this.getShadowCanvasCtx();e&&(t=t.filter(function(xe){return xe[pt][E]<=e[1]&&xe[pt][E]>=e[0]}));var z=this.scales[E];try{for(var Y=(0,w.XA)(t),it=Y.next();!it.done;it=Y.next()){var at=it.value,ct=this.getDrawCfg(at),Mt=ct.x,Xt=ct.y,jt=z.scale(at[pt][E]);this.drawGrayScaleBlurredCircle(Mt-g.x,Xt-m.y,n+a,jt,D)}}catch(xe){l={error:xe}}finally{try{it&&!it.done&&(c=Y.return)&&c.call(Y)}finally{if(l)throw l.error}}var ne=D.getImageData(0,0,x,b);this.clearShadowCanvasCtx(),this.colorize(ne),D.putImageData(ne,0,0);var ye=this.getImageShape();ye.attr("x",g.x),ye.attr("y",m.y),ye.attr("width",x),ye.attr("height",b),ye.attr("img",D.canvas),ye.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,l){var c=this.getGrayScaleBlurredCanvas();l.globalAlpha=a,l.drawImage(c,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,l=3;l<n.length;l+=4){var c=n[l];if((0,p.hj)(c)){var f=a[c]?a[c]:dr.Z.rgb2arr(e.gradient(c/256));n[l-3]=f[0],n[l-2]=f[1],n[l-1]=f[2],n[l]=c}}},r.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map(function(a){return a[pt]});return(0,w.pi)((0,w.pi)({},e),{mappingData:t,data:n})},r}(tn);const hr=Qe;function fr(i){var r,t,c,f,g,m,e=i.x,n=i.y,a=i.y0,l=i.size;(0,p.kJ)(n)?(c=(r=(0,w.CR)(n,2))[0],f=r[1]):(c=a,f=n),(0,p.kJ)(e)?(g=(t=(0,w.CR)(e,2))[0],m=t[1]):(g=e-l/2,m=e+l/2);var x=[{x:g,y:c},{x:g,y:f}];return x.push({x:m,y:f},{x:m,y:c}),x}function ir(i,r){void 0===r&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function lr(i,r){var t=0,e=0,n=0,a=0;return(0,p.kJ)(i)?1===i.length?t=e=n=a=i[0]:2===i.length?(t=n=i[0],e=a=i[1]):3===i.length?(t=i[0],e=a=i[1],n=i[2]):(t=i[0],e=i[1],n=i[2],a=i[3]):t=e=n=a=i,t+e>r&&(e=r-(t=t?r/(1+e/t):0)),n+a>r&&(a=r-(n=n?r/(1+a/n):0)),[t||0,e||0,n||0,a||0]}function Er(i,r,t){var e=[];if(t.isRect){var n=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},l=(0,p.U2)(i,["background","style","radius"]);if(l){var c=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,f=t.isTransposed?t.getWidth():t.getHeight(),g=(0,w.CR)(lr(l,Math.min(c,f)),4),m=g[0],x=g[1],b=g[2],A=g[3],E=t.isTransposed&&t.isReflect("y"),D=E?0:1,z=function(Xt){return E?-Xt:Xt};e.push(["M",n.x,a.y+z(m)]),0!==m&&e.push(["A",m,m,0,0,D,n.x+m,a.y]),e.push(["L",a.x-x,a.y]),0!==x&&e.push(["A",x,x,0,0,D,a.x,a.y+z(x)]),e.push(["L",a.x,n.y-z(b)]),0!==b&&e.push(["A",b,b,0,0,D,a.x-b,n.y]),e.push(["L",n.x+A,n.y]),0!==A&&e.push(["A",A,A,0,0,D,n.x,n.y-z(A)])}else e.push(["M",n.x,n.y]),e.push(["L",a.x,n.y]),e.push(["L",a.x,a.y]),e.push(["L",n.x,a.y]),e.push(["L",n.x,n.y]);e.push(["z"])}if(t.isPolar){var Y=t.getCenter(),it=Ca(i,t),at=it.startAngle,ct=it.endAngle;if("theta"===t.type||t.isTransposed){var Mt=function(ne){return Math.pow(ne,2)};m=Math.sqrt(Mt(Y.x-r[0].x)+Mt(Y.y-r[0].y)),x=Math.sqrt(Mt(Y.x-r[2].x)+Mt(Y.y-r[2].y)),e=Ki(Y.x,Y.y,m,t.startAngle,t.endAngle,x)}else e=Ki(Y.x,Y.y,t.getRadius(),at,ct)}return e}function Nr(i,r,t){var e=[];return(0,p.UM)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",(i[2].x+i[3].x)/2,(i[2].y+i[3].y)/2],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}function Oi(i,r){return[r,i]}function Cg(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,l=n.length,c=lo(i.coordinate),f=i.intervalPadding,g=i.dodgePadding,m=i.maxColumnWidth||r.maxColumnWidth,x=i.minColumnWidth||r.minColumnWidth,b=i.columnWidthRatio||r.columnWidthRatio,A=i.multiplePieWidthRatio||r.multiplePieWidthRatio,E=i.roseWidthRatio||r.roseWidthRatio;if(e.isLinear&&n.length>1){n.sort();var D=function Lo(i,r){var t=i.length,e=i;(0,p.HD)(e[0])&&(e=i.map(function(c){return r.translate(c)}));for(var n=e[1]-e[0],a=2;a<t;a++){var l=e[a]-e[a-1];n>l&&(n=l)}return n}(n,e);n.length>(l=(e.max-e.min)/D)&&(l=n.length)}var z=e.range,Y=1/l,it=1;if(t.isPolar?it=t.isTransposed&&l>1?A:E:(e.isLinear&&(Y*=z[1]-z[0]),it=b),!(0,p.UM)(f)&&f>=0?Y=(1-f/c*(l-1))/l:Y*=it,i.getAdjust("dodge")){var Xt=function um(i,r){if(r){var t=(0,p.xH)(i);return(0,p.I)(t,r).length}return i.length}(a,i.getAdjust("dodge").dodgeBy);!(0,p.UM)(g)&&g>=0?Y=(Y-g/c*(Xt-1))/Xt:(!(0,p.UM)(f)&&f>=0&&(Y*=it),Y/=Xt),Y=Y>=0?Y:0}if(!(0,p.UM)(m)&&m>=0){var ne=m/c;Y>ne&&(Y=ne)}if(!(0,p.UM)(x)&&x>=0){var ye=x/c;Y<ye&&(Y=ye)}return Y}bn("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return fr(i)}}),Ar("interval","rect",{draw:function(i,r){var c,t=Or(i,!1,!0),e=r,n=i?.background;if(n){e=r.addGroup({name:"interval-group"});var a=Oh(i),l=Er(i,this.parsePoints(i.points),this.coordinate);e.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},a),{path:l}),capture:!1,zIndex:-1,name:Hl})}c=t.radius&&this.coordinate.isRect?function Io(i,r,t){var e,n,a,l,c,f,g,m=(0,w.CR)((0,w.ev)([],(0,w.CR)(i),!1),4),x=m[0],b=m[1],A=m[2],E=m[3],D=(0,w.CR)("number"==typeof t?Array(4).fill(t):t,4),z=D[0],Y=D[1],it=D[2],at=D[3];r.isTransposed&&(b=(e=(0,w.CR)(Oi(b,E),2))[0],E=e[1]),r.isReflect("y")&&(x=(n=(0,w.CR)(Oi(x,b),2))[0],b=n[1],A=(a=(0,w.CR)(Oi(A,E),2))[0],E=a[1]),r.isReflect("x")&&(x=(l=(0,w.CR)(Oi(x,E),2))[0],E=l[1],b=(c=(0,w.CR)(Oi(b,A),2))[0],A=c[1]);var ct=[],Mt=function(Xt){return Math.abs(Xt)};return z=(f=(0,w.CR)(lr([z,Y,it,at],Math.min(Mt(E.x-x.x),Mt(b.y-x.y))).map(function(Xt){return Mt(Xt)}),4))[0],Y=f[1],it=f[2],at=f[3],r.isTransposed&&(z=(g=(0,w.CR)([at,z,Y,it],4))[0],Y=g[1],it=g[2],at=g[3]),x.y<b.y?(ct.push(["M",E.x,E.y+it]),0!==it&&ct.push(["A",it,it,0,0,0,E.x-it,E.y]),ct.push(["L",x.x+at,x.y]),0!==at&&ct.push(["A",at,at,0,0,0,x.x,x.y+at]),ct.push(["L",b.x,b.y-z]),0!==z&&ct.push(["A",z,z,0,0,0,b.x+z,b.y]),ct.push(["L",A.x-Y,A.y]),0!==Y&&ct.push(["A",Y,Y,0,0,0,A.x,A.y-Y]),ct.push(["L",E.x,E.y+it]),ct.push(["z"])):E.x<x.x?(ct.push(["M",A.x+Y,A.y]),0!==Y&&ct.push(["A",Y,Y,0,0,0,A.x,A.y+Y]),ct.push(["L",E.x,E.y-it]),0!==it&&ct.push(["A",it,it,0,0,0,E.x+it,E.y]),ct.push(["L",x.x-at,x.y]),0!==at&&ct.push(["A",at,at,0,0,0,x.x,x.y-at]),ct.push(["L",b.x,b.y+z]),0!==z&&ct.push(["A",z,z,0,0,0,b.x-z,b.y]),ct.push(["L",A.x+Y,A.y]),ct.push(["z"])):(ct.push(["M",b.x,b.y+z]),0!==z&&ct.push(["A",z,z,0,0,1,b.x+z,b.y]),ct.push(["L",A.x-Y,A.y]),0!==Y&&ct.push(["A",Y,Y,0,0,1,A.x,A.y+Y]),ct.push(["L",E.x,E.y-it]),0!==it&&ct.push(["A",it,it,0,0,1,E.x-it,E.y]),ct.push(["L",x.x+at,x.y]),0!==at&&ct.push(["A",at,at,0,0,1,x.x,x.y-at]),ct.push(["L",b.x,b.y+z]),ct.push(["z"])),ct}(this.parsePoints(i.points),this.coordinate,t.radius):this.parsePath(function zr(i,r,t){var e=t.getWidth(),n=t.getHeight(),l=[],c=(i[2].x-i[1].x)/2,f=t.isTransposed?c*n/e:c*e/n;return"round"===r?("rect"===t.type?(l.push(["M",i[0].x,i[0].y+f]),l.push(["L",i[1].x,i[1].y-f]),l.push(["A",c,c,0,0,1,i[2].x,i[2].y-f]),l.push(["L",i[3].x,i[3].y+f]),l.push(["A",c,c,0,0,1,i[0].x,i[0].y+f])):(l.push(["M",i[0].x,i[0].y]),l.push(["L",i[1].x,i[1].y]),l.push(["A",c,c,0,0,1,i[2].x,i[2].y]),l.push(["L",i[3].x,i[3].y]),l.push(["A",c,c,0,0,1,i[0].x,i[0].y])),l.push(["z"])):l=ir(i),l}(i.points,t.lineCap,this.coordinate));var f=e.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:c}),name:"interval"});return n?e:f},getMarker:function(i){var r=i.color;return i.isInPolar?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var cm=function(i){function r(t){var e=i.call(this,t)||this;return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e.background=t.background,e}return(0,w.ZT)(r,i),r.prototype.createShapePointsCfg=function(t){var n,e=i.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(n=this.getAttributeValues(a,t)[0],n/=lo(this.coordinate)):(this.defaultSize||(this.defaultSize=Cg(this)),n=this.defaultSize),e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:Mp(t)});else{var e=this.scaleDefs,n=t.field,l=t.max;"time"!==t.type&&(t.min>0&&!(0,p.U2)(e,[n,"min"])&&t.change({min:0}),l<=0&&!(0,p.U2)(e,[n,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return e.background=this.background,e},r}(tn);const hm=cm;var fm=function(i){function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable;return e.sortable=void 0!==n&&n,e}return(0,w.ZT)(r,i),r}(nr);const vm=fm;var ry=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function bg(i,r,t,e,n){var a,l,c=Or(r,n,!n,"r"),f=i.parsePoints(r.points),g=f[0];if(r.isStack)g=f[1];else if(f.length>1){var m=t.addGroup();try{for(var x=(0,w.XA)(f),b=x.next();!b.done;b=x.next()){var A=b.value;m.addShape({type:"marker",attrs:(0,w.pi)((0,w.pi)((0,w.pi)({},c),{symbol:En[e]||e}),A)})}}catch(E){a={error:E}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(a)throw a.error}}return m}return t.addShape({type:"marker",attrs:(0,w.pi)((0,w.pi)((0,w.pi)({},c),{symbol:En[e]||e}),g)})}bn("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return en(i)}}),(0,p.S6)(ry,function(i){Ar("point","hollow-".concat(i),{draw:function(r,t){return bg(this,r,t,i,!0)},getMarker:function(r){return{symbol:En[i]||i,style:{r:4.5,stroke:r.color,fill:null}}}})});var dm=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return(0,w.ZT)(r,i),r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,w.pi)((0,w.pi)({},e),{isStack:!!this.getAdjust("stack")})},r}(tn);const gm=dm;bn("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,p.S6)(i.x,function(t,e){r.push({x:t,y:i.y[e]})}),r}}),Ar("polygon","polygon",{draw:function(i,r){if(!(0,p.xb)(i.points)){var t=Or(i,!0,!0),e=this.parsePath(function ym(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,p.Xy)((0,p.Z$)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){return{symbol:"square",style:{r:4,fill:i.color}}}});var mm=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return(0,w.ZT)(r,i),r.prototype.createShapePointsCfg=function(t){var l,e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y;if(!(0,p.kJ)(n)||!(0,p.kJ)(a)){var c=this.getXScale(),f=this.getYScale(),x=.5/c.values.length,b=.5/f.values.length;c.isCategory&&f.isCategory?(n=[n-x,n-x,n+x,n+x],a=[a-b,a+b,a+b,a-b]):(0,p.kJ)(n)?(n=[(l=n)[0],l[0],l[1],l[1]],a=[a-b/2,a+b/2,a+b/2,a-b/2]):(0,p.kJ)(a)&&(a=[(l=a)[0],l[1],l[1],l[0]],n=[n-x/2,n-x/2,n+x/2,n+x/2]),e.x=n,e.y=a}return e},r}(tn);const xm=mm;bn("schema",{defaultShapeType:""});var wm=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return(0,w.ZT)(r,i),r.prototype.createShapePointsCfg=function(t){var n,e=i.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(n=this.getAttributeValues(a,t)[0],n/=lo(this.coordinate)):(this.defaultSize||(this.defaultSize=Cg(this)),n=this.defaultSize),e.size=n,e},r}(tn);const Mm=wm;bn("violin",{defaultShapeType:"violin",getDefaultPoints:function(i){var r=i.size/2,t=[],e=function Sm(i){if(!(0,p.kJ)(i))return[];var r=(0,p.Fp)(i);return(0,p.UI)(i,function(t){return t/r})}(i._size);return(0,p.S6)(i.y,function(n,a){var l=e[a]*r,c=0===a,f=a===i.y.length-1;t.push({isMin:c,isMax:f,x:i.x-l,y:n}),t.unshift({isMin:c,isMax:f,x:i.x+l,y:n})}),t}}),Ar("violin","violin",{draw:function(i,r){var t=Or(i,!0,!0),e=this.parsePath(jl(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e}),name:"violin"})},getMarker:function(i){return{symbol:"circle",style:{r:4,fill:i.color}}}});var Cm=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return(0,w.ZT)(r,i),r.prototype.createShapePointsCfg=function(t){var n,e=i.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(n=this.getAttributeValues(a,t)[0],n/=lo(this.coordinate)):(this.defaultSize||(this.defaultSize=Cg(this)),n=this.defaultSize),e.size=n,e._size=(0,p.U2)(t[pt],[this._sizeField]),e},r.prototype.initAttributes=function(){var t=this.attributeOption;this._sizeField=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size",delete t.size,i.prototype.initAttributes.call(this)},r}(tn);const bm=Cm;function Ag(i,r){return["C",1*i.x/2+1*r.x/2,i.y,1*i.x/2+1*r.x/2,r.y,r.x,r.y]}function Tg(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,p.S6)(t,function(n){e.push(n.x,n.y)}),e}Ar("area","line",{draw:function(i,r){var t=Ye(i,!0,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(i){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:i.color,fill:null}}}}),Ar("area","smooth",{draw:function(i,r){var e=Ye(i,!1,!0,this,vr(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(i){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:i.color,fillOpacity:1}}}}),Ar("area","smooth-line",{draw:function(i,r){var e=Ye(i,!0,!0,this,vr(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(i){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:i.color,fill:null}}}}),Ar("edge","arc",{draw:function(i,r){var a,t=Or(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal";if(i.isInCircle){var l={x:0,y:1};return"normal"===n?a=function Am(i,r,t){var e=Tg(r,t),n=[["M",i.x,i.y]];return n.push(e),n}(e[0],e[1],l):(t.fill=t.stroke,a=function Tm(i,r){var t=Tg(i[1],r),e=Tg(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}(e,l)),a=this.parsePath(a),r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:a})})}if("normal"===n)return a=Al(((e=this.parsePoints(e))[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,2*Math.PI),r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:a})});var c=Ag(e[1],e[3]),f=Ag(e[2],e[0]);return a=this.parsePath(a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],c,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],f,["Z"]]),t.fill=t.stroke,r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:a})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Ar("edge","smooth",{draw:function(i,r){var t=Or(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(function Em(i,r){var t=Ag(i,r),e=[["M",i.x,i.y]];return e.push(t),e}(e[0],e[1]));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var mf=1/3;Ar("edge","vhv",{draw:function(i,r){var t=Or(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(function Fm(i,r){var t=[];t.push({x:i.x,y:i.y*(1-mf)+r.y*mf}),t.push({x:r.x,y:i.y*(1-mf)+r.y*mf}),t.push(r);var e=[["M",i.x,i.y]];return(0,p.S6)(t,function(n){e.push(["L",n.x,n.y])}),e}(e[0],e[1]));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Ar("interval","funnel",{getPoints:function(i){return i.size=2*i.size,fr(i)},draw:function(i,r){var t=Or(i,!1,!0),e=this.parsePath(Nr(i.points,i.nextPoints,!1));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e}),name:"interval"})},getMarker:function(i){return{symbol:"square",style:{r:4,fill:i.color}}}}),Ar("interval","hollow-rect",{draw:function(i,r){var t=Or(i,!0,!1),e=r,n=i?.background;if(n){e=r.addGroup();var a=Oh(i),l=Er(i,this.parsePoints(i.points),this.coordinate);e.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},a),{path:l}),capture:!1,zIndex:-1,name:Hl})}var c=this.parsePath(ir(i.points)),f=e.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:c}),name:"interval"});return n?e:f},getMarker:function(i){var r=i.color;return i.isInPolar?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}}),Ar("interval","line",{getPoints:function(i){return function Im(i){var r=i.x,t=i.y,e=i.y0;return(0,p.kJ)(t)?t.map(function(n,a){return{x:(0,p.kJ)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}(i)},draw:function(i,r){var t=Or(i,!0,!1,"lineWidth"),e=vi((0,w.pi)({},t),["fill"]),n=this.parsePath(ir(i.points,!1));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},e),{path:n}),name:"interval"})},getMarker:function(i){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:i.color}}}}),Ar("interval","pyramid",{getPoints:function(i){return i.size=2*i.size,fr(i)},draw:function(i,r){var t=Or(i,!1,!0),e=this.parsePath(Nr(i.points,i.nextPoints,!0));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e}),name:"interval"})},getMarker:function(i){return{symbol:"square",style:{r:4,fill:i.color}}}}),Ar("interval","tick",{getPoints:function(i){return function Lm(i){var r,l,c,t=i.x,e=i.y,n=i.y0,a=i.size;(0,p.kJ)(e)?(l=(r=(0,w.CR)(e,2))[0],c=r[1]):(l=n,c=e);var f=t+a/2,g=t-a/2;return[{x:t,y:l},{x:t,y:c},{x:g,y:l},{x:f,y:l},{x:g,y:c},{x:f,y:c}]}(i)},draw:function(i,r){var t=Or(i,!0,!1),e=this.parsePath(function km(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e}),name:"interval"})},getMarker:function(i){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:i.color}}}});function iy(i){var r=(0,p.kJ)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t;return{min:t,max:e,min1:n,max1:r.length>3?r[3]:e,median:r.length>2?r[2]:n}}function ny(i,r,t){var n,e=t/2;if((0,p.kJ)(r)){var a=iy(r),x=i-e,b=i+e;n=[[x,c=a.max],[b,c],[i,c],[i,m=a.max1],[x,g=a.min1],[x,m],[b,m],[b,g],[i,g],[i,l=a.min],[x,l],[b,l],[x,f=a.median],[b,f]]}else{r=(0,p.UM)(r)?.5:r;var l,c,f,g,m,A=iy(i),E=r-e,D=r+e;n=[[l=A.min,E],[l,D],[l,r],[g=A.min1,r],[g,E],[g,D],[m=A.max1,D],[m,E],[m,r],[c=A.max,r],[c,E],[c,D],[f=A.median,E],[f,D]]}return n.map(function(z){return{x:z[0],y:z[1]}})}function ay(i,r,t){var e=function Rm(i){var t=((0,p.kJ)(i)?i:[i]).sort(function(e,n){return n-e});return function Lc(i,r,t){if((0,p.HD)(i))return i.padEnd(r,t);if((0,p.kJ)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}(t,4,t[t.length-1])}(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function zm(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);return r&&(n=(0,p.uZ)(r,0,Math.min(t,e))),{x:(i[0].x+i[2].x)/2-(n/=2),y:(i[0].y+i[2].y)/2-n,width:2*n,height:2*n}}(0,p.S6)(["hv","vh","hvh","vhv"],function(i){Ar("line",i,{draw:function(r,t){var e=function Bm(i,r){var t=Ps(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,p.S6)(t,function(n){var a=function Dm(i,r){var t=[];return(0,p.S6)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var l=function(i,r,t){var c,e=i.x,n=i.y,a=r.x,l=r.y;switch(t){case"hv":c=[{x:a,y:n}];break;case"vh":c=[{x:e,y:l}];break;case"hvh":var f=(a+e)/2;c=[{x:f,y:n},{x:f,y:l}];break;case"vhv":var g=(n+l)/2;c=[{x:e,y:g},{x:a,y:g}]}return c}(e,a,r);t=t.concat(l)}}),t}(n,r);e=e.concat(function Om(i){return i.map(function(r,t){return 0===t?["M",r.x,r.y]:["L",r.x,r.y]})}(a))}),(0,w.pi)((0,w.pi)({},Or(i,!0,!1,"lineWidth")),{path:e})}(r,i);return t.addShape({type:"path",attrs:e,name:"line"})},getMarker:function(r){return Bh(r,i)}})}),(0,p.S6)(["cross","tick","plus","hyphen","line"],function(i){Ar("point",i,{draw:function(r,t){return bg(this,r,t,i,!0)},getMarker:function(r){return{symbol:En[i],style:{r:4.5,stroke:r.color,fill:null}}}})}),Ar("point","image",{draw:function(i,r){var t,e,n=Or(i,!1,!1,"r").r,a=this.parsePoints(i.points),l=a[0];if(i.isStack)l=a[1];else if(a.length>1){var c=r.addGroup();try{for(var f=(0,w.XA)(a),g=f.next();!g.done;g=f.next()){var m=g.value;c.addShape("image",{attrs:{x:m.x-n/2,y:m.y-n,width:n,height:n,img:i.shape[1]}})}}catch(x){t={error:x}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}return c}return r.addShape("image",{attrs:{x:l.x-n/2,y:l.y-n,width:n,height:n,img:i.shape[1]}})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),(0,p.S6)(ry,function(i){Ar("point",i,{draw:function(r,t){return bg(this,r,t,i,!1)},getMarker:function(r){return{symbol:En[i]||i,style:{r:4.5,fill:r.color}}}})}),Ar("schema","box",{getPoints:function(i){return ny(i.x,i.y,i.size)},draw:function(i,r){var t=Or(i,!0,!1),e=this.parsePath(function _m(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e,name:"schema"})})},getMarker:function(i){return{symbol:function(t,e,n){var l=ny(t,[e-6,e-3,e,e+3,e+6],n);return[["M",l[0].x+1,l[0].y],["L",l[1].x-1,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["M",l[4].x,l[4].y],["L",l[5].x,l[5].y],["L",l[6].x,l[6].y],["L",l[7].x,l[7].y],["L",l[4].x,l[4].y],["Z"],["M",l[8].x,l[8].y],["L",l[9].x,l[9].y],["M",l[10].x+1,l[10].y],["L",l[11].x-1,l[11].y],["M",l[12].x,l[12].y],["L",l[13].x,l[13].y]]},style:{r:6,lineWidth:1,stroke:i.color}}}}),Ar("schema","candle",{getPoints:function(i){return ay(i.x,i.y,i.size)},draw:function(i,r){var t=Or(i,!0,!0),e=this.parsePath(function Nm(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e,name:"schema"})})},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var l=ay(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["L",l[4].x,l[4].y],["L",l[5].x,l[5].y],["Z"],["M",l[6].x,l[6].y],["L",l[7].x,l[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}}),Ar("polygon","square",{draw:function(i,r){if(!(0,p.xb)(i.points)){var t=Or(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,w.pi)((0,w.pi)({},t),zm(e,i.size)),name:"polygon"})}},getMarker:function(i){return{symbol:"square",style:{r:4,fill:i.color}}}}),Ar("violin","smooth",{draw:function(i,r){var t=Or(i,!0,!0),e=this.parsePath(ql(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{stroke:null,r:4,fill:i.color}}}}),Ar("violin","hollow",{draw:function(i,r){var t=Or(i,!0,!1),e=this.parsePath(jl(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4,fill:null,stroke:i.color}}}}),Ar("violin","hollow-smooth",{draw:function(i,r){var t=Or(i,!0,!1),e=this.parsePath(ql(i.points));return r.addShape("path",{attrs:(0,w.pi)((0,w.pi)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4,fill:null,stroke:i.color}}}});var Vm=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getLabelValueDir=function(t){var n=t.points;return n[0].y<=n[2].y?1:-1},r.prototype.getLabelOffsetPoint=function(t,e,n,a){var l,c=i.prototype.getLabelOffsetPoint.call(this,t,e,n),f=this.getCoordinate(),m=f.isTransposed?"x":"y",x=this.getLabelValueDir(t.mappingData);return c=(0,w.pi)((0,w.pi)({},c),((l={})[m]=c[m]*x,l)),f.isReflect("x")&&(c=(0,w.pi)((0,w.pi)({},c),{x:-1*c.x})),f.isReflect("y")&&(c=(0,w.pi)((0,w.pi)({},c),{y:-1*c.y})),c},r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg();return(0,p.b$)({},n,e.theme.labels,"middle"===t.position?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,e,n,a){var b,A,E,D,l=this.getCoordinate(),c=l.isTransposed,f=e.points,g=l.convert(f[0]),m=l.convert(f[2]),x=this.getLabelValueDir(e),z=(0,p.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===z||"pyramid"===z){var Y=(0,p.U2)(e,"nextPoints"),it=(0,p.U2)(e,"points");if(Y){var at=l.convert(it[0]),ct=l.convert(it[1]),Mt=l.convert(Y[0]),Xt=l.convert(Y[1]);c?(b=Math.min(Mt.y,at.y),E=Math.max(Mt.y,at.y),A=(ct.x+Xt.x)/2,D=(at.x+Mt.x)/2):(b=Math.min((ct.y+Xt.y)/2,(at.y+Mt.y)/2),E=Math.max((ct.y+Xt.y)/2,(at.y+Mt.y)/2),A=Xt.x,D=at.x)}else b=Math.min(m.y,g.y),E=Math.max(m.y,g.y),A=m.x,D=g.x}else b=Math.min(m.y,g.y),E=Math.max(m.y,g.y),A=m.x,D=g.x;switch(a){case"right":t.x=A,t.y=(b+E)/2,t.textAlign=(0,p.U2)(t,"textAlign",x>0?"left":"right");break;case"left":t.x=D,t.y=(b+E)/2,t.textAlign=(0,p.U2)(t,"textAlign",x>0?"left":"right");break;case"bottom":c&&(t.x=(A+D)/2),t.y=E,t.textAlign=(0,p.U2)(t,"textAlign","center"),t.textBaseline=(0,p.U2)(t,"textBaseline",x>0?"bottom":"top");break;case"middle":c&&(t.x=(A+D)/2),t.y=(b+E)/2,t.textAlign=(0,p.U2)(t,"textAlign","center"),t.textBaseline=(0,p.U2)(t,"textBaseline","middle");break;case"top":c&&(t.x=(A+D)/2),t.y=b,t.textAlign=(0,p.U2)(t,"textAlign","center"),t.textBaseline=(0,p.U2)(t,"textBaseline",x>0?"bottom":"top")}},r}(Ls);const Um=Vm;var xf=Math.PI/2,Gm=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if((0,p.hj)(t))n=t;else if((0,p.HD)(t)&&-1!==t.indexOf("%")){var a=e.getRadius();e.innerRadius>0&&(a*=1-e.innerRadius),n=.01*parseFloat(t)*a}return n},r.prototype.getLabelItems=function(t){var e=i.prototype.getLabelItems.call(this,t),n=this.geometry.getYScale();return(0,p.UI)(e,function(a){if(a&&n){var l=n.scale((0,p.U2)(a.data,n.field));return(0,w.pi)((0,w.pi)({},a),{percent:l})}return a})},r.prototype.getLabelAlign=function(t){var n,e=this.getCoordinate();if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(e.isTransposed){var a=e.getCenter(),l=t.offset;n=Math.abs(t.x-a.x)<1?"center":t.angle>Math.PI||t.angle<=0?l>0?"left":"right":l>0?"right":"left"}else n="center";return n},r.prototype.getLabelPoint=function(t,e,n){var l,a=1,c=t.content[n];this.isToMiddle(e)?l=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(a=-1),l=this.getArcPoint(e,n));var f=t.offset*a,g=this.getPointAngle(l),m=t.labelEmit,x=this.getCirclePoint(g,f,l,m);return 0===x.r?x.content="":(x.content=c,x.angle=g,x.color=e.color),x.rotate=t.autoRotate?this.getLabelRotate(g,f,m):t.rotate,x.start={x:l.x,y:l.y},x},r.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,p.kJ)(t.x)||(0,p.kJ)(t.y)?{x:(0,p.kJ)(t.x)?t.x[e]:t.x,y:(0,p.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},r.prototype.getPointAngle=function(t){return ba(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var l=this.getCoordinate(),c=l.getCenter(),f=ds(l,n);if(0===f)return(0,w.pi)((0,w.pi)({},c),{r:f});var g=t;return l.isTransposed&&f>e&&!a?g=t+2*Math.asin(e/(2*f)):f+=e,{x:c.x+f*Math.cos(g),y:c.y+f*Math.sin(g),r:f}},r.prototype.getLabelRotate=function(t,e,n){var a=t+xf;return n&&(a-=xf),a&&(a>xf?a-=Math.PI:a<-xf&&(a+=Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,p.S6)(t,function(l){a.x+=l.x,a.y+=l.y}),a.x/=n,a.y/=n,a=e.convert(a)},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Ls);const oy=Gm;var Hm=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return(0,w.ZT)(r,i),r.prototype.getDefaultLabelCfg=function(t,e){var n=i.prototype.getDefaultLabelCfg.call(this,t,e);return(0,p.b$)({},n,(0,p.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return i.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&((a=t)>Math.PI/2&&(a-=Math.PI),a<-Math.PI/2&&(a+=Math.PI)),a},r.prototype.getLabelAlign=function(t){var a,n=this.getCoordinate().getCenter();return a=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(a="right"===a?"left":"right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var l,e=this.getCoordinate(),n={x:(0,p.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,p.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},c=ba(e,n);if(t.points&&t.points[0].y===t.points[1].y)l=c;else{var f=ba(e,a);c>=f&&(f+=2*Math.PI),l=c+(f-c)/2}return l},r.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),a=n.getCenter(),l=n.getRadius()+e;return(0,w.pi)((0,w.pi)({},Lr(a.x,a.y,l,t)),{angle:t,r:l})},r}(oy);const Ym=Hm;function ly(i,r,t){var e=i.filter(function(E){return!E.invisible});e.sort(function(E,D){return E.y-D.y});var f,n=!0,a=t.minY,c=Math.abs(a-t.maxY),g=0,m=Number.MIN_VALUE,x=e.map(function(E){return E.y>g&&(g=E.y),E.y<m&&(m=E.y),{content:E.content,size:r,targets:[E.y-a],pos:null}});for(m-=a,g-a>c&&(c=g-a);n;)for(x.forEach(function(E){var D=(Math.min.apply(m,E.targets)+Math.max.apply(m,E.targets))/2;E.pos=Math.min(Math.max(m,D-E.size/2),c-E.size),E.pos=Math.max(0,E.pos)}),n=!1,f=x.length;f--;)if(f>0){var b=x[f-1],A=x[f];b.pos+b.size>A.pos&&(b.size+=A.size,b.targets=b.targets.concat(A.targets),b.pos+b.size>c&&(b.pos=c-b.size),x.splice(f,1),n=!0)}f=0,x.forEach(function(E){var D=a+r/2;E.targets.forEach(function(){e[f].y=E.pos+D,D+=r,f++})})}var hy=function(){function i(r){void 0===r&&(r={}),this.bitmap={};var t=r.xGap,n=r.yGap,a=void 0===n?8:n;this.xGap=void 0===t?1:t,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),l=Math.round(r.minY),c=Math.round(r.maxY),f=n;f<=a;f+=1)if(e[f]){if(f===n||f===a){for(var g=l;g<=c;g++)if(e[f][g]){t=!1;break}}else if(e[f][l]||e[f][c]){t=!1;break}}else e[f]={};return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),l=Math.round(r.maxY),c=e;c<=n;c+=1)t[c]||(t[c]={});for(c=e;c<=n;c+=this.xGap){for(var f=a;f<=l;f+=this.yGap)t[c][f]=!0;t[c][l]=!0}if(1!==this.yGap)for(c=a;c<=l;c+=1)t[e][c]=!0,t[n][c]=!0;if(1!==this.xGap)for(c=e;c<=n;c+=1)t[c][a]=!0,t[c][l]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function rx(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,l=n.height,c={x:r,y:t,textAlign:"center"};switch(e){case 0:c.y-=l+1,c.x+=1,c.textAlign="left";break;case 1:c.y-=l+1,c.x-=1,c.textAlign="right";break;case 2:c.y+=l+1,c.x-=1,c.textAlign="right";break;case 3:c.y+=l+1,c.x+=1,c.textAlign="left";break;case 5:c.y-=2*l+2;break;case 6:c.y+=2*l+2;break;case 7:c.x+=a+1,c.textAlign="left";break;case 8:c.x-=a+1,c.textAlign="right"}return i.attr(c),i.getCanvasBBox()}function fy(i){if(i.length>4)return[];var r=function(n,a){return[a.x-n.x,a.y-n.y]};return[r(i[0],i[1]),r(i[1],i[2])]}function wf(i,r,t){void 0===r&&(r=0),void 0===t&&(t={x:0,y:0});var e=i.x,n=i.y;return{x:(e-t.x)*Math.cos(-r)+(n-t.y)*Math.sin(-r)+t.x,y:(t.x-e)*Math.sin(-r)+(n-t.y)*Math.cos(-r)+t.y}}function vy(i){var r=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],t=i.rotation;return t?[wf(r[0],t,r[0]),wf(r[1],t,r[0]),wf(r[2],t,r[0]),wf(r[3],t,r[0])]:r}function py(i,r){if(i.length>4)return{min:0,max:0};var t=[];return i.forEach(function(e){t.push(function ax(i,r){return(i[0]||0)*(r[0]||0)+(i[1]||0)*(r[1]||0)+(i[2]||0)*(r[2]||0)}([e.x,e.y],r))}),{min:Math.min.apply(Math,(0,w.ev)([],(0,w.CR)(t),!1)),max:Math.max.apply(Math,(0,w.ev)([],(0,w.CR)(t),!1))}}function ox(i,r){return i.max>r.min&&i.min<r.max}function dy(i){return["x","y","width","height"].every(function(r){return function sx(i){return"number"==typeof i&&!Number.isNaN(i)&&i!==1/0&&i!==-1/0}(i[r])})}function ux(i,r,t){if(void 0===t&&(t=0),!dy(i)||!dy(r))return!1;if(!i.rotation&&!r.rotation)return function lx(i,r,t){return void 0===t&&(t=0),!(r.x>i.x+i.width+t||r.x+r.width<i.x-t||r.y>i.y+i.height+t||r.y+r.height<i.y-t)}(i,r,t);for(var e=vy(i),n=vy(r),a=fy(e).concat(fy(n)),l=0;l<a.length;l++){var c=a[l];if(!ox(py(e,c),py(n,c)))return!1}return!0}var Lg,cx=function(){function i(r){var t=this;this.queue=[],this.worker=new Worker(r),this.worker.onmessage=function(e){var n;null===(n=t.queue.shift())||void 0===n||n.resolve(e)},this.worker.onmessageerror=function(e){var n;console.warn("[AntV G2] Web worker is not available"),null===(n=t.queue.shift())||void 0===n||n.reject(e)}}return i.prototype.post=function(r,t){var e=this;return new Promise(function(n,a){e.queue.push({resolve:n,reject:a});try{e.worker.postMessage(r)}catch{console.warn("[AntV G2] Web worker is not available"),(0,p.mf)(t)&&t()}})},i.prototype.destroy=function(){this.worker.terminate()},i}(),vx="\n   self.onmessage = ".concat(function(i){var t=function r(){function m(at){if(at.length>4)return[];var ct=function(jt,ne){return[ne.x-jt.x,ne.y-jt.y]};return[ct(at[0],at[1]),ct(at[1],at[2])]}function x(at,ct,Mt){void 0===ct&&(ct=0),void 0===Mt&&(Mt={x:0,y:0});var Xt=at.x,jt=at.y;return{x:(Xt-Mt.x)*Math.cos(-ct)+(jt-Mt.y)*Math.sin(-ct)+Mt.x,y:(Mt.x-Xt)*Math.sin(-ct)+(jt-Mt.y)*Math.cos(-ct)+Mt.y}}function b(at){var ct=[{x:at.x,y:at.y},{x:at.x+at.width,y:at.y},{x:at.x+at.width,y:at.y+at.height},{x:at.x,y:at.y+at.height}],Mt=at.rotation;return Mt?[x(ct[0],Mt,ct[0]),x(ct[1],Mt,ct[0]),x(ct[2],Mt,ct[0]),x(ct[3],Mt,ct[0])]:ct}function A(at,ct){if(at.length>4)return{min:0,max:0};var Mt=[];return at.forEach(function(Xt){Mt.push(function g(at,ct){return(at[0]||0)*(ct[0]||0)+(at[1]||0)*(ct[1]||0)+(at[2]||0)*(ct[2]||0)}([Xt.x,Xt.y],ct))}),{min:Math.min.apply(null,Mt),max:Math.max.apply(null,Mt)}}function E(at,ct){return at.max>ct.min&&at.min<ct.max}function z(at){return["x","y","width","height"].every(function(ct){return function D(at){return"number"==typeof at&&!Number.isNaN(at)&&at!==1/0&&at!==-1/0}(at[ct])})}return{intersect:function it(at,ct,Mt){if(void 0===Mt&&(Mt=0),!z(at)||!z(ct))return!1;if(!at.rotation&&!ct.rotation)return function Y(at,ct,Mt){return void 0===Mt&&(Mt=0),!(ct.x>at.x+at.width+Mt||ct.x+ct.width<at.x-Mt||ct.y>at.y+at.height+Mt||ct.y+ct.height<at.y-Mt)}(at,ct,Mt);for(var Xt=b(at),jt=b(ct),ne=m(Xt).concat(m(jt)),ye=0;ye<ne.length;ye++){var xe=ne[ye];if(!E(A(Xt,xe),A(jt,xe)))return!1}return!0}}}().intersect,n={"hide-overlap":function e(g){for(var m=g.slice(),x=0;x<m.length;x++){var b=m[x];if(b.visible)for(var A=x+1;A<m.length;A++){var E=m[A];b!==E&&E.visible&&t(b,E)&&(E.visible=!1)}}return m}};try{var a=JSON.parse(i.data);if(!a||!a.type||!n[a.type])return;var f=n[a.type](a.items);self.postMessage(f)}catch(g){throw g}}.toString(),"\n"),Fg=function(i){for(var r=i.slice(),t=0;t<r.length;t++){var e=r[t];if(e.visible)for(var n=t+1;n<r.length;n++){var a=r[n];e!==a&&a.visible&&ux(e,a)&&(a.visible=!1)}}return r},Ig=new Map,gy=function hx(i){if(!(typeof window>"u")){var r;try{r=new Blob([i.toString()],{type:"application/javascript"})}catch{(r=new window.BlobBuilder).append(i.toString()),r=r.getBlob()}return new cx(URL.createObjectURL(r))}}(vx),yy={"#5B8FF9":!0};function my(i,r,t){return i.some(function(e){return t(e,r)})}function xy(i,r){return my(i,r,function(t,e){var n=Tn(t),a=Tn(e);return function bx(i,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t))*Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t))}(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function wy(i,r,t){return i.some(function(e){return t(e,r)})}function My(i,r){return wy(i,r,function(t,e){var n=Tn(t),a=Tn(e);return function Ex(i,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t))*Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t))}(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}var Mf=(0,p.HP)(function(i,r){void 0===r&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,l=r.fontVariant,c=function Ix(){return Lg||(Lg=document.createElement("canvas").getContext("2d")),Lg}();return c.font=[a,l,n,"".concat(t,"px"),e].join(" "),c.measureText((0,p.HD)(i)?i:"").width},function(i,r){return void 0===r&&(r={}),(0,w.ev)([i],(0,w.CR)((0,p.VO)(r)),!1).join("")});function kg(i,r,t,e,n){var g,m,a=t.start,l=t.end,c=t.getWidth(),f=t.getHeight();"y"===n?(g=a.x+c/2,m=e.y<a.y?e.y:a.y):"x"===n?(g=e.x>a.x?e.x:a.x,m=a.y+f/2):"xy"===n&&(t.isPolar?(g=t.getCenter().x,m=t.getCenter().y):(g=(a.x+l.x)/2,m=(a.y+l.y)/2));var x=function Ox(i,r,t){var e,n=(0,w.CR)(r,2),a=n[0],l=n[1];return i.applyToMatrix([a,l,1]),"x"===t?(i.setMatrix(Mr.vs(i.getMatrix(),[["t",-a,-l],["s",.01,1],["t",a,l]])),e=Mr.vs(i.getMatrix(),[["t",-a,-l],["s",100,1],["t",a,l]])):"y"===t?(i.setMatrix(Mr.vs(i.getMatrix(),[["t",-a,-l],["s",1,.01],["t",a,l]])),e=Mr.vs(i.getMatrix(),[["t",-a,-l],["s",1,100],["t",a,l]])):"xy"===t&&(i.setMatrix(Mr.vs(i.getMatrix(),[["t",-a,-l],["s",.01,.01],["t",a,l]])),e=Mr.vs(i.getMatrix(),[["t",-a,-l],["s",100,100],["t",a,l]])),e}(i,[g,m],n);i.animate({matrix:x},r)}function Sy(i,r){var t,e=Bs(i,r),n=e.startAngle,a=e.endAngle;return!(0,p.vQ)(n,.5*-Math.PI)&&n<.5*-Math.PI&&(n+=2*Math.PI),!(0,p.vQ)(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),0===r[5]&&(n=(t=(0,w.CR)([a,n],2))[0],a=t[1]),(0,p.vQ)(n,1.5*Math.PI)&&(n=-.5*Math.PI),(0,p.vQ)(a,-.5*Math.PI)&&!(0,p.vQ)(n,a)&&(a=1.5*Math.PI),{startAngle:n,endAngle:a}}function Cy(i){var r;return"M"===i[0]||"L"===i[0]?r=[i[1],i[2]]:("a"===i[0]||"A"===i[0]||"C"===i[0])&&(r=[i[i.length-2],i[i.length-1]]),r}function by(i){var r,t,e,n=i.filter(function(at){return"A"===at[0]||"a"===at[0]});if(0===n.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=n[0],l=n.length>1?n[1]:n[0],c=i.indexOf(a),f=i.indexOf(l),g=Cy(i[c-1]),m=Cy(i[f-1]),x=Sy(g,a),b=x.startAngle,A=x.endAngle,E=Sy(m,l),D=E.startAngle,z=E.endAngle;(0,p.vQ)(b,D)&&(0,p.vQ)(A,z)?(t=b,e=A):(t=Math.min(b,D),e=Math.max(A,z));var Y=a[1],it=n[n.length-1][1];return Y<it?(Y=(r=(0,w.CR)([it,Y],2))[0],it=r[1]):Y===it&&(it=0),{startAngle:t,endAngle:e,radius:Y,innerRadius:it}}function Pg(i,r,t){if(i.isGroup())(0,p.S6)(i.getChildren(),function(c){Pg(c,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),"zoomIn"===t){var l=Mr.vs(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(l),i.animate({matrix:Mr.vs(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:Mr.vs(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,w.pi)((0,w.pi)({},r),{callback:function(){i.remove(!0),(0,p.mf)(r.callback)&&r.callback()}}))}}function jn(i){return[Q.TOP,Q.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Q.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Q.TOP?"bottom":"top"}}:[Q.LEFT,Q.RIGHT].includes(i)?{offsetX:i===Q.LEFT?-8:8,offsetY:0,style:{textAlign:i===Q.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Dg(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var Wx=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var l=2*Math.PI/t,c=-1*Math.PI/2+l*e,f=.5/(1+1/Math.sin(l/2)),g=Dg({x:.5,y:.5},.5-f,c),m=5*Math.PI/4,x=1*Math.PI/4;return{start:Dg(g,f,m),end:Dg(g,f,x)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,l=n.type,f=(0,w.CR)(n.fields,1)[0];if(!f)throw new Error("No `fields` specified!");var g=this.getFieldValues(t,f),m=g.length,x=[];return g.forEach(function(b,A){var D=(0,p.hX)(t,e.getFacetDataFilter([{field:f,value:b,values:g}])),z={type:l,data:D,region:e.getRegion(m,A),columnValue:b,columnField:f,columnIndex:A,columnValuesLength:m,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};x.push(z)}),x},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e){var n=e.columnValue,a=e.view,l=(0,p.U2)(t.cfg.title,"formatter"),c=(0,p.b$)({position:["50%","0%"],content:l?l(n):n},jn(Q.TOP),t.cfg.title);a.annotation().text(c)})},r}(Xn);const Zx=Wx;var $x=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,a=this.cfg.cols,c=(0,w.CR)(this.cfg.fields,1)[0];if(!c)throw new Error("No `fields` specified!");var f=this.getFieldValues(t,c),g=f.length,m=this.getPageCount(g,a=a||g),x=[];return f.forEach(function(b,A){var E=e.getRowCol(A,a),D=E.row,z=E.col,it=(0,p.hX)(t,e.getFacetDataFilter([{field:c,value:b,values:f}])),at={type:e.cfg.type,data:it,region:e.getRegion(m,a,z,D),columnValue:b,rowValue:b,columnField:c,rowField:null,columnIndex:z,rowIndex:D,columnValuesLength:a,rowValuesLength:m,total:g};x.push(at)}),x},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,w.pi)((0,w.pi)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e){var n=e.columnValue,a=e.view,l=(0,p.U2)(t.cfg.title,"formatter"),c=(0,p.b$)({position:["50%","0%"],content:l?l(n):n},jn(Q.TOP),t.cfg.title);a.annotation().text(c)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},r}(Xn);const jx=$x;var qx=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,w.pi)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,w.pi)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,l=n.length,c=l,f=[],g=0;g<c;g++)for(var m=n[g],x=0;x<l;x++){var b=n[x],A={type:a,data:t,region:this.getRegion(l,c,g,x),columnValue:m,rowValue:b,columnField:m,rowField:b,columnIndex:g,rowIndex:x,columnValuesLength:c,rowValuesLength:l};f.push(A)}return f},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,w.pi)((0,w.pi)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e,n){var a=e.columnIndex,c=e.columnValuesLength,g=e.columnValue,m=e.rowValue,x=e.view;if(0===e.rowIndex){var b=(0,p.U2)(t.cfg.columnTitle,"formatter"),A=(0,p.b$)({position:["50%","0%"],content:b?b(g):g},jn(Q.TOP),t.cfg.columnTitle);x.annotation().text(A)}a===c-1&&(b=(0,p.U2)(t.cfg.rowTitle,"formatter"),A=(0,p.b$)({position:["100%","50%"],content:b?b(m):m},jn(Q.RIGHT),t.cfg.rowTitle),x.annotation().text(A))})},r}(Xn);const Kx=qx;var Jx=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var x,b,e=this,a=(0,w.CR)(this.cfg.fields,1)[0],l=[],c=1,f=1,g=[""],m=[""];return this.cfg.transpose?(g=this.getFieldValues(t,x=a).slice(0,2),c=g.length):(m=this.getFieldValues(t,b=a).slice(0,2),f=m.length),g.forEach(function(A,E){m.forEach(function(D,z){var it=(0,p.hX)(t,e.getFacetDataFilter([{field:x,value:A,values:g},{field:b,value:D,values:m}])),at={type:e.cfg.type,data:it,region:e.getRegion(f,c,E,z),columnValue:A,rowValue:D,columnField:x,rowField:b,columnIndex:E,rowIndex:z,columnValuesLength:c,rowValuesLength:f};l.push(at)})}),l},r.prototype.getXAxisOption=function(t,e,n,a){return 1===a.columnIndex||1===a.rowIndex?(0,w.pi)((0,w.pi)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e,n){var a=e.columnValue,l=e.rowValue,c=e.view,f=(0,p.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var g=(0,p.b$)({position:["50%","0%"],content:f?f(a):a},jn(Q.TOP),t.cfg.title);c.annotation().text(g)}else g=(0,p.b$)({position:["100%","50%"],content:f?f(l):l},jn(Q.RIGHT),t.cfg.title),c.annotation().text(g)})},r}(Xn);const Qx=Jx;var t1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,w.pi)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,w.pi)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=(0,w.CR)(this.cfg.fields,2),a=n[0],l=n[1],c=[],f=1,g=1,m=[""],x=[""];return a&&(m=this.getFieldValues(t,a),f=m.length),l&&(x=this.getFieldValues(t,l),g=x.length),m.forEach(function(b,A){x.forEach(function(E,D){var Y=(0,p.hX)(t,e.getFacetDataFilter([{field:a,value:b,values:m},{field:l,value:E,values:x}])),it={type:e.cfg.type,data:Y,region:e.getRegion(g,f,A,D),columnValue:b,rowValue:E,columnField:a,rowField:l,columnIndex:A,rowIndex:D,columnValuesLength:f,rowValuesLength:g};c.push(it)})}),c},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e,n){var a=e.columnIndex,c=e.columnValuesLength,f=e.columnValue,g=e.rowValue,m=e.view;if(0===e.rowIndex){var x=(0,p.U2)(t.cfg.columnTitle,"formatter"),b=(0,p.b$)({position:["50%","0%"],content:x?x(f):f},jn(Q.TOP),t.cfg.columnTitle);m.annotation().text(b)}a===c-1&&(x=(0,p.U2)(t.cfg.rowTitle,"formatter"),b=(0,p.b$)({position:["100%","50%"],content:x?x(g):g},jn(Q.RIGHT),t.cfg.rowTitle),m.annotation().text(b))})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,w.pi)((0,w.pi)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.columnIndex?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,w.pi)((0,w.pi)({},n),{title:null}):n},r}(Xn);const e1=t1;var r1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return(0,w.ZT)(r,i),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(Tt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,p.b$)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var l=1/e,c=1/t,f={x:l*n,y:c*a};return{start:f,end:{x:f.x+l,y:f.y+2*c/3}}},r.prototype.forceColIndex=function(t){var e,n,a=this,l=[],c=0;t.forEach(function(E){a.isLeaf(E)&&(l.push(E),E.columnIndex=c,c++)}),l.forEach(function(E){E.columnValuesLength=l.length});for(var g=this.cfg.fields.length-1;g>=0;g--){var m=this.getFacetsByLevel(t,g);try{for(var x=(e=void 0,(0,w.XA)(m)),b=x.next();!b.done;b=x.next()){var A=b.value;this.isLeaf(A)||(A.originColIndex=A.columnIndex,A.columnIndex=this.getRegionIndex(A.children),A.columnValuesLength=l.length)}}catch(E){e={error:E}}finally{try{b&&!b.done&&(n=x.return)&&n.call(x)}finally{if(e)throw e.error}}}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,l=this.cfg.fields;if(!(l.length<e)){var f=[],g=l[e-1],m=this.getFieldValues(t,g);return m.forEach(function(x,b){var E=t.filter(a.getFacetDataFilter([{field:g,value:x,values:m}]));if(E.length){var D={type:a.cfg.type,data:E,region:null,columnValue:x,rowValue:"",columnField:g,rowField:"",columnIndex:b,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(E,e+1,n)};f.push(D),n.push(D)}}),f}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,p.S6)(this.facets,function(e){var n=e.columnValue,a=e.view,l=(0,p.U2)(t.cfg.title,"formatter"),c=(0,p.b$)({position:["50%","0%"],content:l?l(n):n},jn(Q.TOP),t.cfg.title);a.annotation().text(c)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){e.isLeaf(n)||e.addFacetLines(n,n.children)})},r.prototype.addFacetLines=function(t,e){var n=this,l=t.view.coordinateBBox,c={x:l.x+l.width/2,y:l.y+l.height};e.forEach(function(f){var g=f.view.coordinateBBox,m={x:g.bl.x+(g.tr.x-g.bl.x)/2,y:g.tr.y},x={x:c.x,y:c.y+(m.y-c.y)/2};n.drawLine([c,x,{x:m.x,y:x.y},m])})},r.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,l){e.push(0===l?["M",a.x,a.y]:["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t);this.container.addShape("path",{attrs:(0,p.f0)({path:e},this.cfg.line.style)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return 0!==a.originColIndex&&0!==a.columnIndex?(0,w.pi)((0,w.pi)({},n),{title:null,label:null}):n},r}(Xn);const i1=r1;function Sf(i,r){if(!r)return null;var t;switch(i){case"start":return 0;case"center":return.5;case"end":return 1;case"median":t=function Ay(i){var r=(0,w.ev)([],(0,w.CR)(i),!1);r.sort(function(e,n){return e-n});var t=r.length;return 0===t?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}(r.isCategory?r.values.map(function(e,n){return n}):r.values);break;case"mean":t=r.isCategory?(r.values.length-1)/2:function n1(i){var r=(0,p.u4)(i,function(t,e){return t+(isNaN(e)||!(0,p.hj)(e)?0:e)},0);return 0===i.length?0:r/i.length}(r.values);break;case"min":t=r.isCategory?0:r[i];break;case"max":t=r.isCategory?r.values.length-1:r[i];break;default:t=i}return r.scale(t)}var Cf=["regionFilter","shape"],a1=function(i){function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(st.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(st.BG).addGroup(),e.option=[],e}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var n=new Map;(0,p.S6)(t.option,function(a){if((0,p.q9)(Cf,a.type)){var l=t.updateOrCreate(a);l&&n.set(t.getCacheKey(a),l)}}),t.cache=t.syncCache(n)});var e=new Map;(0,p.S6)(this.option,function(n){if(!(0,p.q9)(Cf,n.type)){var a=t.updateOrCreate(n);a&&e.set(t.getCacheKey(n),a)}}),this.cache=this.syncCache(e)},r.prototype.clear=function(t){void 0===t&&(t=!1),i.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(n){n.animateOption&&(n.once(xt.AFTER_DRAW_ANIMATE,function(){t()}),e=!0)}),e||this.view.getRootView().once(Tt.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var e=t.type,n=ft[(0,p.jC)(e)];if(n){var a=this.getAnnotationTheme(e),l=this.getAnnotationCfg(e,t,a);return l?{component:new n(l),layer:this.isTop(l)?st.FORE:st.BG,direction:Q.NONE,type:Gt.ANNOTATION,extra:t}:null}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,w.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,w.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,w.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,w.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,w.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,w.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,w.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,w.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,w.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,w.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var e,n,a=this.view.getXScale(),l=this.view.getScalesByDim("y"),c=(0,p.mf)(t)?t.call(null,a,l):t,f=0,g=0;if((0,p.kJ)(c)){var m=(0,w.CR)(c,2),x=m[0],b=m[1];if((0,p.HD)(x)&&-1!==x.indexOf("%")&&!isNaN(x.slice(0,-1)))return this.parsePercentPosition(c);f=Sf(x,a),g=Sf(b,Object.values(l)[0])}else if(!(0,p.UM)(c))try{for(var A=(0,w.XA)((0,p.XP)(c)),E=A.next();!E.done;E=A.next()){var D=E.value,z=c[D];D===a.field&&(f=Sf(z,a)),l[D]&&(g=Sf(z,l[D]))}}catch(Y){e={error:Y}}finally{try{E&&!E.done&&(n=A.return)&&n.call(A)}finally{if(e)throw e.error}}return isNaN(f)||isNaN(g)?null:this.view.getCoordinate().convert({x:f,y:g})},r.prototype.getRegionPoints=function(t,e){var A,n=this,a=this.view.getXScale(),l=this.view.getScalesByDim("y"),c=Object.values(l)[0],f=a.field,g=this.view.getData(),m=(0,p.kJ)(t)?t[0]:t[f],x=(0,p.kJ)(e)?e[0]:e[f],b=[];return(0,p.S6)(g,function(E,D){if(E[f]===m&&(A=D),D>=A){var z=n.parsePosition([E[f],E[c.field]]);z&&b.push(z)}if(E[f]===x)return!1}),b},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),l=a.start,c=a.end,f_x=Math.min(l.x,c.x),f_y=Math.min(l.y,c.y);return{x:a.getWidth()*e+f_x,y:a.getHeight()*n+f_y}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),l=t.getHeight(),c={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:c.x,y:c.y,minX:c.x,minY:c.y,maxX:c.x+a,maxY:c.y+l,width:a,height:l}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this,l=this.view.getCoordinate(),c=this.view.getCanvas(),f={};if((0,p.UM)(e))return null;var m=e.end,x=e.position,b=this.parsePosition(e.start),A=this.parsePosition(m),E=this.parsePosition(x);if(["arc","image","line","region","regionFilter"].includes(t)&&(!b||!A))return null;if(["text","dataMarker","html"].includes(t)&&!E)return null;if("arc"===t){var it=(0,w._T)(e,["start","end"]),at=ba(l,b),ct=ba(l,A);at>ct&&(ct=2*Math.PI+ct),f=(0,w.pi)((0,w.pi)({},it),{center:l.getCenter(),radius:ds(l,b),startAngle:at,endAngle:ct})}else if("image"===t)it=(0,w._T)(e,["start","end"]),f=(0,w.pi)((0,w.pi)({},it),{start:b,end:A,src:e.src});else if("line"===t)it=(0,w._T)(e,["start","end"]),f=(0,w.pi)((0,w.pi)({},it),{start:b,end:A,text:(0,p.U2)(e,"text",null)});else if("region"===t)it=(0,w._T)(e,["start","end"]),f=(0,w.pi)((0,w.pi)({},it),{start:b,end:A});else if("text"===t){var ur=this.view.getData(),Xr=e.content,pi=(it=(0,w._T)(e,["position","content"]),Xr);(0,p.mf)(Xr)&&(pi=Xr(ur)),f=(0,w.pi)((0,w.pi)((0,w.pi)({},E),it),{content:pi})}else if("dataMarker"===t){var Oo=e.point,xu=e.line,wu=e.text,uM=e.autoAdjust,cM=e.direction;it=(0,w._T)(e,["position","point","line","text","autoAdjust","direction"]),f=(0,w.pi)((0,w.pi)((0,w.pi)({},it),E),{coordinateBBox:this.getCoordinateBBox(),point:Oo,line:xu,text:wu,autoAdjust:uM,direction:cM})}else if("dataRegion"===t){var hM=e.start,fM=e.end,vM=e.region,pM=(wu=e.text,e.lineLength);it=(0,w._T)(e,["start","end","region","text","lineLength"]),f=(0,w.pi)((0,w.pi)({},it),{points:this.getRegionPoints(hM,fM),region:vM,text:wu,lineLength:pM})}else if("regionFilter"===t){var am=e.apply,dM=e.color,om=(it=(0,w._T)(e,["start","end","apply","color"]),[]),$g=function(In){In&&(In.isGroup()?In.getChildren().forEach(function(Su){return $g(Su)}):om.push(In))};(0,p.S6)(this.view.geometries,function(In){am?(0,p.FX)(am,In.type)&&(0,p.S6)(In.elements,function(Su){$g(Su.shape)}):(0,p.S6)(In.elements,function(Su){$g(Su.shape)})}),f=(0,w.pi)((0,w.pi)({},it),{color:dM,shapes:om,start:b,end:A})}else if("shape"===t){var yM=e.render,jg=(0,w._T)(e,["render"]);f=(0,w.pi)((0,w.pi)({},jg),{render:function(wM){if((0,p.mf)(e.render))return yM(wM,a.view,{parsePosition:a.parsePosition.bind(a)})}})}else if("html"===t){var Kg=e.html;jg=(0,w._T)(e,["html","position"]),f=(0,w.pi)((0,w.pi)((0,w.pi)({},jg),E),{parent:c.get("el").parentNode,html:function(In){return(0,p.mf)(Kg)?Kg(In,a.view):Kg}})}var Ra=(0,p.b$)({},n,(0,w.pi)((0,w.pi)({},f),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(Ra.container=this.getComponentContainer(Ra)),Ra.animate=this.view.getOptions().animate&&Ra.animate&&(0,p.U2)(e,"animate",Ra.animate),Ra.animateOption=(0,p.b$)({},Ea,Ra.animateOption,e.animateOption),Ra},r.prototype.isTop=function(t){return(0,p.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,p.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,a=this.getAnnotationTheme(n),l=this.getAnnotationCfg(n,t,a);l&&vi(l,["container"]),e.component.update((0,w.pi)((0,w.pi)({},l||{}),{visible:!!l})),(0,p.q9)(Cf,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,p.q9)(Cf,t.type)&&e.component.render());return e},r.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach(function(a,l){n.set(l,a)}),n.forEach(function(a,l){(0,p.sE)(e.option,function(c){return l===e.getCacheKey(c)})||(a.component.destroy(),n.delete(l))}),n},r.prototype.getCacheKey=function(t){return t},r}($n);const o1=a1;function Ty(i,r){var t=(0,p.b$)({},(0,p.U2)(i,["components","axis","common"]),(0,p.U2)(i,["components","axis",r]));return(0,p.U2)(t,["grid"],{})}function bf(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(l,c,f){var g=c.value;if(e)n.push({points:[i.convert("y"===t?{x:0,y:g}:{x:g,y:0}),i.convert("y"===t?{x:1,y:g}:{x:g,y:1})]});else if(f){var x=(l.value+g)/2;n.push({points:[i.convert("y"===t?{x:0,y:x}:{x,y:0}),i.convert("y"===t?{x:1,y:x}:{x,y:1})]})}return c},a[0]),n}function Og(i,r,t,e,n){var a=r.values.length,l=[],c=t.getTicks();return c.reduce(function(f,g){var x=g.value,b=((f?f.value:g.value)+x)/2;return l.push("x"===n?{points:[i.convert({x:e?x:b,y:0}),i.convert({x:e?x:b,y:1})]}:{points:(0,p.UI)(Array(a+1),function(A,E){return i.convert({x:E/a,y:e?x:b})})}),g},c[0]),l}function Ey(i,r){var t=(0,p.U2)(r,"grid");if(null===t)return!1;var e=(0,p.U2)(i,"grid");return!(void 0===t&&null===e)}var Ba=["container"],Fy=(0,w.pi)((0,w.pi)({},Ea),{appear:null}),s1=function(i){function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(st.BG).addGroup(),e.gridForeContainer=e.view.getLayer(st.FORE).addGroup(),e.axisContainer=e.view.getLayer(st.BG).addGroup(),e.axisForeContainer=e.view.getLayer(st.FORE).addGroup(),e}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,p.S6)(this.getComponents(),function(n){var b,a=n.component,l=n.direction,c=n.type,f=n.extra,g=f.dim,m=f.scale,x=f.alignTick;c===Gt.AXIS?e.isPolar?"x"===g?b=e.isTransposed?gs(e,l):El(e):"y"===g&&(b=e.isTransposed?El(e):gs(e,l)):b=gs(e,l):c===Gt.GRID&&(b=e.isPolar?{items:e.isTransposed?"x"===g?Og(e,t.view.getYScales()[0],m,x,g):bf(e,m,g,x):"x"===g?bf(e,m,g,x):Og(e,t.view.getXScale(),m,x,g),center:t.view.getCoordinate().getCenter()}:{items:bf(e,m,g,x)}),a.update(b)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=ms(this.option,e.field);if(!1!==n){var a=Cp(n,Q.BOTTOM),l=st.BG,c="x",f=this.view.getCoordinate(),g=this.getId("axis",e.field),m=this.getId("grid",e.field);if(f.isRect)(x=this.cache.get(g))?(vi(b=this.getLineAxisCfg(e,n,a),Ba),x.component.update(b),t.set(g,x)):(x=this.createLineAxis(e,n,l,a,c),this.cache.set(g,x),t.set(g,x)),(A=this.cache.get(m))?(vi(b=this.getLineGridCfg(e,n,a,c),Ba),A.component.update(b),t.set(m,A)):(A=this.createLineGrid(e,n,l,a,c))&&(this.cache.set(m,A),t.set(m,A));else if(f.isPolar){var x,A;if(x=this.cache.get(g))vi(b=f.isTransposed?this.getLineAxisCfg(e,n,Q.RADIUS):this.getCircleAxisCfg(e,n,a),Ba),x.component.update(b),t.set(g,x);else{if(f.isTransposed){if((0,p.o8)(n))return;x=this.createLineAxis(e,n,l,Q.RADIUS,c)}else x=this.createCircleAxis(e,n,l,a,c);this.cache.set(g,x),t.set(g,x)}if(A=this.cache.get(m)){var b;vi(b=f.isTransposed?this.getCircleGridCfg(e,n,Q.RADIUS,c):this.getLineGridCfg(e,n,Q.CIRCLE,c),Ba),A.component.update(b),t.set(m,A)}else{if(f.isTransposed){if((0,p.o8)(n))return;A=this.createCircleGrid(e,n,l,Q.RADIUS,c)}else A=this.createLineGrid(e,n,l,Q.CIRCLE,c);A&&(this.cache.set(m,A),t.set(m,A))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,p.S6)(n,function(a,l){if(a&&!a.isIdentity){var c=a.field,f=ms(e.option,c);if(!1!==f){var g=st.BG,m="y",x=e.getId("axis",c),b=e.getId("grid",c),A=e.view.getCoordinate();if(A.isRect){var E=Cp(f,0===l?Q.LEFT:Q.RIGHT);(D=e.cache.get(x))?(vi(z=e.getLineAxisCfg(a,f,E),Ba),D.component.update(z),t.set(x,D)):(D=e.createLineAxis(a,f,g,E,m),e.cache.set(x,D),t.set(x,D)),(Y=e.cache.get(b))?(vi(z=e.getLineGridCfg(a,f,E,m),Ba),Y.component.update(z),t.set(b,Y)):(Y=e.createLineGrid(a,f,g,E,m))&&(e.cache.set(b,Y),t.set(b,Y))}else if(A.isPolar){var D,Y;if(D=e.cache.get(x))vi(z=A.isTransposed?e.getCircleAxisCfg(a,f,Q.CIRCLE):e.getLineAxisCfg(a,f,Q.RADIUS),Ba),D.component.update(z),t.set(x,D);else{if(A.isTransposed){if((0,p.o8)(f))return;D=e.createCircleAxis(a,f,g,Q.CIRCLE,m)}else D=e.createLineAxis(a,f,g,Q.RADIUS,m);e.cache.set(x,D),t.set(x,D)}if(Y=e.cache.get(b)){var z;vi(z=A.isTransposed?e.getLineGridCfg(a,f,Q.CIRCLE,m):e.getCircleGridCfg(a,f,Q.RADIUS,m),Ba),Y.component.update(z),t.set(b,Y)}else{if(A.isTransposed){if((0,p.o8)(f))return;Y=e.createLineGrid(a,f,g,Q.CIRCLE,m)}else Y=e.createCircleGrid(a,f,g,Q.RADIUS,m);Y&&(e.cache.set(b,Y),t.set(b,Y))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,l){var c={component:new Ac(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===Q.RADIUS?Q.NONE:a,type:Gt.AXIS,extra:{dim:l,scale:t}};return c.component.set("field",t.field),c.component.init(),c},r.prototype.createLineGrid=function(t,e,n,a,l){var c=this.getLineGridCfg(t,e,a,l);if(c){var f={component:new B0(c),layer:n,direction:Q.NONE,type:Gt.GRID,extra:{dim:l,scale:t,alignTick:(0,p.U2)(c,"alignTick",!0)}};return f.component.init(),f}},r.prototype.createCircleAxis=function(t,e,n,a,l){var c={component:new Tc(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Gt.AXIS,extra:{dim:l,scale:t}};return c.component.set("field",t.field),c.component.init(),c},r.prototype.createCircleGrid=function(t,e,n,a,l){var c=this.getCircleGridCfg(t,e,a,l);if(c){var f={component:new xi(c),layer:n,direction:Q.NONE,type:Gt.GRID,extra:{dim:l,scale:t,alignTick:(0,p.U2)(c,"alignTick",!0)}};return f.component.init(),f}},r.prototype.getLineAxisCfg=function(t,e,n){var a=(0,p.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,l=this.view.getCoordinate(),c=gs(l,n),f=_c(t,e),g=ys(this.view.getTheme(),n),m=(0,p.U2)(e,["title"])?(0,p.b$)({title:{style:{text:f}}},{title:Bc(this.view.getTheme(),n,e.title)},e):e,x=(0,p.b$)((0,w.pi)((0,w.pi)({container:a},c),{ticks:t.getTicks().map(function(at){return{id:"".concat(at.tickValue),name:at.text,value:at.value}}),verticalFactor:l.isPolar?-1*Oc(c,l.getCenter()):Oc(c,l.getCenter()),theme:g}),g,m),b=this.getAnimateCfg(x),A=b.animate;x.animateOption=b.animateOption,x.animate=A;var D=Dc(c),z=(0,p.U2)(x,"verticalLimitLength",D?1/3:.5);if(z<=1){var Y=this.view.getCanvas().get("width"),it=this.view.getCanvas().get("height");x.verticalLimitLength=z*(D?Y:it)}return x},r.prototype.getLineGridCfg=function(t,e,n,a){if(Ey(ys(this.view.getTheme(),n),e)){var l=Ty(this.view.getTheme(),n),c=(0,p.b$)({container:(0,p.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},l,(0,p.U2)(e,"grid"),this.getAnimateCfg(e));return c.items=bf(this.view.getCoordinate(),t,a,(0,p.U2)(c,"alignTick",!0)),c}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=(0,p.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,l=this.view.getCoordinate(),c=t.getTicks().map(function(D){return{id:"".concat(D.tickValue),name:D.text,value:D.value}});!t.isCategory&&Math.abs(l.endAngle-l.startAngle)===2*Math.PI&&c.length&&(c[c.length-1].name="");var f=_c(t,e),g=ys(this.view.getTheme(),Q.CIRCLE),m=(0,p.U2)(e,["title"])?(0,p.b$)({title:{style:{text:f}}},{title:Bc(this.view.getTheme(),n,e.title)},e):e,x=(0,p.b$)((0,w.pi)((0,w.pi)({container:a},El(this.view.getCoordinate())),{ticks:c,verticalFactor:1,theme:g}),g,m),b=this.getAnimateCfg(x),E=b.animateOption;return x.animate=b.animate,x.animateOption=E,x},r.prototype.getCircleGridCfg=function(t,e,n,a){if(Ey(ys(this.view.getTheme(),n),e)){var l=Ty(this.view.getTheme(),Q.RADIUS),c=(0,p.b$)({container:(0,p.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},l,(0,p.U2)(e,"grid"),this.getAnimateCfg(e)),f=(0,p.U2)(c,"alignTick",!0),g="x"===a?this.view.getYScales()[0]:this.view.getXScale();return c.items=Og(this.view.getCoordinate(),g,t,f,a),c}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,p.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,p.b$)({},Fy,t.animateOption):Fy}},r}($n);const l1=s1;function _a(i,r,t){return t===Q.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===Q.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===Q.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===Q.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===Q.TOP_LEFT||t===Q.LEFT_TOP?[i.tl.x,i.tl.y]:t===Q.TOP_RIGHT||t===Q.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===Q.BOTTOM_LEFT||t===Q.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===Q.BOTTOM_RIGHT||t===Q.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function ky(i,r){return(0,p.jn)(i)?!1!==i&&{}:(0,p.U2)(i,[r],i)}function Af(i){return(0,p.U2)(i,"position",Q.BOTTOM)}var f1=function(i){function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(st.FORE).addGroup(),e}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,p.S6)(this.components,function(e){var n=e.component,a=e.direction,l=ks(a),c=n.get("maxWidthRatio"),f=n.get("maxHeightRatio"),g=t.getCategoryLegendSizeCfg(l,c,f),m=n.get("maxWidth"),x=n.get("maxHeight");n.update({maxWidth:Math.min(g.maxWidth,m||0),maxHeight:Math.min(g.maxHeight,x||0)});var b=n.get("padding"),A=n.getLayoutBBox(),E=new ei(A.x,A.y,A.width,A.height).expand(b),D=(0,w.CR)(_a(t.view.viewBBox,E,a),2),z=D[0],Y=D[1],it=(0,w.CR)(_a(t.layoutBBox,E,a),2),at=it[0],ct=it[1],Mt=0,Xt=0;a.startsWith("top")||a.startsWith("bottom")?(Mt=z,Xt=ct):(Mt=at,Xt=Y),n.setLocation({x:Mt+b[3],y:Xt+b[0]}),t.layoutBBox=t.layoutBBox.cut(E,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,p.U2)(this.option,"custom")){var a="global-custom",l=this.getComponentById(a);if(l){var c=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);vi(c,["container"]),l.component.update(c),e[a]=!0}else{var f=this.createCustomLegend(void 0,void 0,void 0,this.option);if(f){f.init();var g=st.FORE,m=Af(this.option);this.components.push({id:a,component:f,layer:g,direction:m,type:Gt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(function(b,A,E){var D=t.getId(E.field),z=t.getComponentById(D);if(z){var Y=void 0,it=ky(t.option,E.field);!1!==it&&((0,p.U2)(it,"custom")?Y=t.getCategoryCfg(b,A,E,it,!0):E.isLinear?Y=t.getContinuousCfg(b,A,E,it):E.isCategory&&(Y=t.getCategoryCfg(b,A,E,it))),Y&&(vi(Y,["container"]),z.direction=Af(it),z.component.update(Y),e[D]=!0)}else{var at=t.createFieldLegend(b,A,E);at&&(at.component.init(),t.components.push(at),e[D]=!0)}});var x=[];(0,p.S6)(this.getComponents(),function(b){e[b.id]?x.push(b):b.component.destroy()}),this.components=x},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,p.S6)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var n=this.getGeometries(this.view),a={};(0,p.S6)(n,function(l){var c=l.getGroupAttributes();(0,p.S6)(c,function(f){var g=f.getScale(f.type);!g||"identity"===g.type||a[g.field]||(t(l,f,g),a[g.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,l=ky(this.option,n.field),c=st.FORE,f=Af(l);if(!1!==l&&((0,p.U2)(l,"custom")?a=this.createCustomLegend(t,e,n,l):n.isLinear?a=this.createContinuousLegend(t,e,n,l):n.isCategory&&(a=this.createCategoryLegend(t,e,n,l))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:c,direction:f,type:Gt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var l=this.getCategoryCfg(t,e,n,a,!0);return new fi(l)},r.prototype.createContinuousLegend=function(t,e,n,a){var l=this.getContinuousCfg(t,e,n,vi(a,["value"]));return new Ec(l)},r.prototype.createCategoryLegend=function(t,e,n,a){var l=this.getCategoryCfg(t,e,n,a);return new fi(l)},r.prototype.getContinuousCfg=function(t,e,n,a){var l=n.getTicks(),c=(0,p.sE)(l,function(D){return 0===D.value}),f=(0,p.sE)(l,function(D){return 1===D.value}),g=l.map(function(D){var z=D.value,Y=D.tickValue,it=e.mapping(n.invert(z)).join("");return{value:Y,attrValue:it,color:it,scaleValue:z}});c||g.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),f||g.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),g.sort(function(D,z){return D.value-z.value});var m={min:(0,p.YM)(g).value,max:(0,p.Z$)(g).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(m.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(m.colors=g.map(function(D){return D.attrValue}));var x=this.container,A=ks(Af(a)),E=(0,p.U2)(a,"title");return E&&(E=(0,p.b$)({text:uo(n)},E)),m.container=x,m.layout=A,m.title=E,m.animateOption=Ea,this.mergeLegendCfg(m,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,l){var c=this.container,f=(0,p.U2)(a,"position",Q.BOTTOM),g=wd(this.view.getTheme(),f),m=(0,p.U2)(g,["marker"]),x=(0,p.U2)(a,"marker"),b=ks(f),A=(0,p.U2)(g,["pageNavigator"]),E=(0,p.U2)(a,"pageNavigator"),D=l?function xd(i,r,t){return t.map(function(e,n){var a=r;(0,p.mf)(a)&&(a=a(e.name,n,(0,p.b$)({},i,e)));var l=(0,p.mf)(e.marker)?e.marker(e.name,n,(0,p.b$)({},i,e)):e.marker,c=(0,p.b$)({},i,a,l);return kh(c),e.marker=c,e})}(m,x,a.items):Ph(this.view,t,e,m,x),z=(0,p.U2)(a,"title");z&&(z=(0,p.b$)({text:n?uo(n):""},z));var Y=(0,p.U2)(a,"maxWidthRatio"),it=(0,p.U2)(a,"maxHeightRatio"),at=this.getCategoryLegendSizeCfg(b,Y,it);at.container=c,at.layout=b,at.items=D,at.title=z,at.animateOption=Ea,at.pageNavigator=(0,p.b$)({},A,E);var ct=this.mergeLegendCfg(at,a,f);ct.reversed&&ct.items.reverse();var Mt=(0,p.U2)(ct,"maxItemWidth");return Mt&&Mt<=1&&(ct.maxItemWidth=this.view.viewBBox.width*Mt),ct},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],l=wd(this.view.getTheme(),a);return(0,p.b$)({},l,t,e)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,p.sE)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var a=this.view.viewBBox,l=a.width,c=a.height;return"vertical"===t?{maxWidth:l*e,maxHeight:c}:{maxWidth:l,maxHeight:c*n}},r}($n);const v1=f1;var p1=function(i){function r(t){var e=i.call(this,t)||this;return e.onChangeFn=p.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(n){var a=(0,w.CR)(n,2),l=a[0],c=a[1];e.start=l,e.end=c,e.changeViewData(l,c)},e.container=e.view.getLayer(st.FORE).addGroup(),e.onChangeFn=(0,p.P2)(e.onValueChange,20,{leading:!0}),e.width=0,e.view.on(Tt.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(Tt.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.view.off(Tt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Tt.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;(0,p.UM)(this.start)&&(this.start=e,this.end=n);var a=this.view.getOptions().data;this.option&&!(0,p.xb)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),a=(0,w.CR)(n,4),l=a[0],g=a[3],m=this.slider.component.getLayoutBBox(),x=new ei(m.x,m.y,Math.min(m.width,e),m.height).expand(n),b=this.getMinMaxText(this.start,this.end),A=b.minText,E=b.maxText,Y=(0,w.CR)(_a(this.view.viewBBox,x,Q.BOTTOM),2)[1],at=(0,w.CR)(_a(this.view.coordinateBBox,x,Q.BOTTOM),2)[0];this.slider.component.update((0,w.pi)((0,w.pi)({},this.getSliderCfg()),{x:at+g,y:Y+l,width:this.width,start:this.start,end:this.end,minText:A,maxText:E})),this.view.viewBBox=this.view.viewBBox.cut(x,Q.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new cp((0,w.pi)({container:this.container},t));return e.init(),{component:e,layer:st.FORE,direction:Q.BOTTOM,type:Gt.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,a=e.maxText;t=(0,w.pi)((0,w.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,p.Kn)(this.option)){var e=(0,w.pi)({data:this.getData()},(0,p.U2)(this.option,"trendCfg",{}));t=(0,p.b$)({},t,this.getThemeOptions(),this.option),t=(0,w.pi)((0,w.pi)({},t),{trendCfg:e})}return t.start=(0,p.uZ)(Math.min((0,p.UM)(t.start)?0:t.start,(0,p.UM)(t.end)?1:t.end),0,1),t.end=(0,p.uZ)(Math.max((0,p.UM)(t.start)?0:t.start,(0,p.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,n=(0,w.CR)(this.view.getYScales(),1)[0],a=this.view.getGroupScales();if(a.length){var l=a[0],c=l.field,f=l.ticks;return t.reduce(function(g,m){return m[c]===f[0]&&g.push(m[n.field]),g},[])}return t.map(function(g){return g[n.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,p.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),c=(0,p.I)(n,a.field);a.isLinear&&(c=c.sort());var f=c,g=(0,p.dp)(n);if(!a||!g)return{};var m=(0,p.dp)(f),x=Math.round(t*(m-1)),b=Math.round(e*(m-1)),A=(0,p.U2)(f,[x]),E=(0,p.U2)(f,[b]),D=this.getSliderCfg().formatter;return D&&(A=D(A,n[x],x),E=D(E,n[b],b)),{minText:A,maxText:E}},r.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),l=(0,p.dp)(n);if(a&&l){var f=(0,p.I)(n,a.field),m=this.view.getXScale().isLinear?f.sort(function(E,D){return Number(E)-Number(D)}):f,x=(0,p.dp)(m),b=Math.round(t*(x-1)),A=Math.round(e*(x-1));this.view.filter(a.field,function(E,D){var z=m.indexOf(E);return!(z>-1)||Yn(z,b,A)}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}($n);const d1=p1;var m1=function(i){function r(t){var e=i.call(this,t)||this;return e.onChangeFn=p.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(n){var a=n.ratio,l=e.getValidScrollbarCfg().animate;e.ratio=(0,p.uZ)(a,0,1);var c=e.view.getOptions().animate;l||e.view.animate(!1),e.changeViewData(e.getScrollRange(),!0),e.view.animate(c)},e.container=e.view.getLayer(st.FORE).addGroup(),e.onChangeFn=(0,p.P2)(e.onValueChange,20,{leading:!0}),e.trackLen=0,e.thumbLen=0,e.ratio=0,e.view.on(Tt.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(Tt.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return(0,w.ZT)(r,i),Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.view.off(Tt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Tt.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),l=new ei(a.x,a.y,Math.min(a.width,e),a.height).expand(n),c=this.getScrollbarComponentCfg(),f=void 0,g=void 0;if(c.isHorizontal){var b=(0,w.CR)(_a(this.view.viewBBox,l,Q.BOTTOM),2)[1];f=(0,w.CR)(_a(this.view.coordinateBBox,l,Q.BOTTOM),2)[0],g=b}else{f=(b=(0,w.CR)(_a(this.view.viewBBox,l,Q.RIGHT),2)[1],(0,w.CR)(_a(this.view.viewBBox,l,Q.RIGHT),2))[0],g=b}f+=n[3],g+=n[0],this.scrollbar.component.update((0,w.pi)((0,w.pi)({},c),this.trackLen?{x:f,y:g,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}:{x:f,y:g})),this.view.viewBBox=this.view.viewBBox.cut(l,c.isHorizontal?Q.BOTTOM:Q.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,p.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var e=(0,p.U2)(this.view.getTheme(),["components","scrollbar"]),n=t||{},a=n.thumbHighlightColor,l=(0,w._T)(n,["thumbHighlightColor"]);return{default:(0,p.b$)({},(0,p.U2)(e,["default","style"],{}),l),hover:(0,p.b$)({},(0,p.U2)(e,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),l=n.thumbLen;this.trackLen=n.trackLen,this.thumbLen=l,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,p.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},r.prototype.changeViewData=function(t,e){var n=this,a=(0,w.CR)(t,2),l=a[0],c=a[1],g="vertical"!==this.getValidScrollbarCfg().type,m=(0,p.I)(this.data,this.xScaleCfg.field),x=this.view.getXScale().isLinear?m.sort(function(A,E){return Number(A)-Number(E)}):m,b=g?x:x.reverse();this.yScalesCfg.forEach(function(A){n.view.scale(A.field,{formatter:A.formatter,type:A.type,min:A.min,max:A.max,tickMethod:A.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(A){var E=b.indexOf(A);return!(E>-1)||Yn(E,l,c)}),this.view.render(!0)},r.prototype.createScrollbar=function(){var e="vertical"!==this.getValidScrollbarCfg().type,n=new fp((0,w.pi)((0,w.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return n.init(),{component:n,layer:st.FORE,direction:e?Q.BOTTOM:Q.RIGHT,type:Gt.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,w.pi)((0,w.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,w.pi)({},t);return this.scrollbar.component.update(e),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg();return Math.floor(("vertical"!==e.type?t.width:t.height)/e.categorySize)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=(0,p.I)(e,t.field);return(0,p.dp)(n)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,a=this.getValidScrollbarCfg(),f=a.width,g=a.height,m=a.style,x="vertical"!==a.type,b=(0,w.CR)(a.padding,4),A=b[0],E=b[1],D=b[2],z=b[3],Y=x?{x:e.minX+z,y:n.maxY-g-D}:{x:n.maxX-f-E,y:e.minY+A},it=this.getStep(),at=this.getCnt(),ct=x?e.width-z-E:e.height-A-D,Mt=Math.max(ct*(0,p.uZ)(it/at,0,1),20);return(0,w.pi)((0,w.pi)({},this.getThemeOptions()),{x:Y.x,y:Y.y,size:x?g:f,isHorizontal:x,trackLen:ct,thumbLen:Mt,thumbOffset:0,theme:this.getScrollbarTheme(m)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,p.Kn)(this.option)&&(t=(0,w.pi)((0,w.pi)({},t),this.option)),(!(0,p.Kn)(this.option)||!this.option.padding)&&(t.padding=[0,0,0,0]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=(0,w.ev)([],(0,w.CR)(n),!1).reverse()),n},r}($n);const x1=m1;var w1={fill:"#CCD6EC",opacity:.3};var S1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.show=function(t){var e=this.context.view,n=this.context.event,a=e.getController("tooltip").getTooltipCfg(),l=function M1(i,r,t){var e,n,a,l,c,f,g=function Qp(i,r,t){var e,n,a=Nl(i,r,t);try{for(var l=(0,w.XA)(i.views),c=l.next();!c.done;c=l.next())a=a.concat(Nl(c.value,r,t))}catch(g){e={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a}(i,r,t);if(g.length){g=(0,p.xH)(g);try{for(var m=(0,w.XA)(g),x=m.next();!x.done;x=m.next()){var b=x.value;try{for(var A=(a=void 0,(0,w.XA)(b)),E=A.next();!E.done;E=A.next()){var D=E.value,z=D.mappingData,Y=z.x,it=z.y;D.x=(0,p.kJ)(Y)?Y[Y.length-1]:Y,D.y=(0,p.kJ)(it)?it[it.length-1]:it}}catch(xe){a={error:xe}}finally{try{E&&!E.done&&(l=A.return)&&l.call(A)}finally{if(a)throw a.error}}}}catch(xe){e={error:xe}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}if(!1===t.shared&&g.length>1){var ct=g[0],Mt=Math.abs(r.y-ct[0].y);try{for(var Xt=(0,w.XA)(g),jt=Xt.next();!jt.done;jt=Xt.next()){var ne=jt.value,ye=Math.abs(r.y-ne[0].y);ye<=Mt&&(ct=ne,Mt=ye)}}catch(xe){c={error:xe}}finally{try{jt&&!jt.done&&(f=Xt.return)&&f.call(Xt)}finally{if(c)throw c.error}}g=[ct]}return(0,p.jj)((0,p.xH)(g))}return[]}(e,{x:n.x,y:n.y},a);if(!(0,p.Xy)(l,this.items)&&(this.items=l,l.length)){var c=e.getXScale().field,f=l[0].data[c],g=[];if((0,p.S6)(e.geometries,function(pi){if("interval"===pi.type||"schema"===pi.type){var Tr=pi.getElementsBy(function(Ci){return Ci.getData()[c]===f});g=g.concat(Tr)}}),g.length){var x=e.getCoordinate(),b=g[0].shape.getCanvasBBox(),A=g[0].shape.getCanvasBBox(),E=b;(0,p.S6)(g,function(pi){var Tr=pi.shape.getCanvasBBox();x.isTransposed?(Tr.minY<b.minY&&(b=Tr),Tr.maxY>A.maxY&&(A=Tr)):(Tr.minX<b.minX&&(b=Tr),Tr.maxX>A.maxX&&(A=Tr)),E.x=Math.min(Tr.minX,E.minX),E.y=Math.min(Tr.minY,E.minY),E.width=Math.max(Tr.maxX,E.maxX)-E.x,E.height=Math.max(Tr.maxY,E.maxY)-E.y});var D=e.backgroundGroup,z=e.coordinateBBox,Y=void 0;if(x.isRect){var it=e.getXScale(),at=t||{},ct=at.appendRatio,Mt=at.appendWidth;(0,p.UM)(Mt)&&(ct=(0,p.UM)(ct)?it.isLinear?0:.25:ct,Mt=x.isTransposed?ct*A.height:ct*b.width);var Xt=void 0,jt=void 0,ne=void 0,ye=void 0;x.isTransposed?(Xt=z.minX,jt=Math.min(A.minY,b.minY)-Mt,ne=z.width,ye=E.height+2*Mt):(Xt=Math.min(b.minX,A.minX)-Mt,jt=z.minY,ne=E.width+2*Mt,ye=z.height),Y=[["M",Xt,jt],["L",Xt+ne,jt],["L",Xt+ne,jt+ye],["L",Xt,jt+ye],["Z"]]}else{var xe=(0,p.YM)(g),Ve=(0,p.Z$)(g),ze=Ca(xe.getModel(),x).startAngle,er=Ca(Ve.getModel(),x).endAngle,ur=x.getCenter(),wr=x.getRadius();Y=Ki(ur.x,ur.y,wr,ze,er,x.innerRadius*wr)}if(this.regionPath)this.regionPath.attr("path",Y),this.regionPath.show();else{var Xr=(0,p.U2)(t,"style",w1);this.regionPath=D.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,w.pi)((0,w.pi)({},Xr),{path:Y})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(Dr);const C1=S1;var b1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,w.ZT)(r,i),r.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var l=this.timeStamp,c=+new Date;if(c-l>(0,p.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var g=this.location,m={x:e.x,y:e.y};(!g||!(0,p.Xy)(g,m))&&this.showTooltip(n,m),this.timeStamp=c,this.location=m}}},r.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event;e.isCursorEntered({x:n.clientX,y:n.clientY})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Dr);const Dy=b1;var A1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.showTooltip=function(t,e){var n=Ji(t);(0,p.S6)(n,function(a){var l=go(t,a,e);a.showTooltip(l)})},r.prototype.hideTooltip=function(t){var e=Ji(t);(0,p.S6)(e,function(n){n.hideTooltip()})},r}(Dy);const T1=A1;var E1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,w.ZT)(r,i),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var e=this.context.event,n=this.timeStamp,a=+new Date;if(a-n>16){var l=this.location,c={x:e.x,y:e.y};(!l||!(0,p.Xy)(l,c))&&this.showTooltip(c),this.timeStamp=a,this.location=c}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var a=this.context.event.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var l=a.get("tip");this.tooltip.update((0,w.pi)({title:l},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},l=e.getTheme(),c=(0,p.U2)(l,["components","tooltip","domStyles"],{}),f=new ps({parent:n.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:(0,w.pi)({},(0,p.b$)({},c,(t={},t[$i]={"max-width":"50%"},t[Vi]={"word-break":"break-all"},t)))});f.init(),f.setCapture(!1),this.tooltip=f},r}(Dr);const F1=E1;var I1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="",t}return(0,w.ZT)(r,i),r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){this.clearViewState(this.context.view)},r.prototype.clearViewState=function(t){var e=this,n=Np(t,this.stateName);(0,p.S6)(n,function(a){e.setElementState(a,!1)})},r}(Dr);const Bg=I1;function Oy(i){return(0,p.U2)(i.get("delegateObject"),"item")}var L1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return(0,w.ZT)(r,i),r.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter(function(l){return e.hasState(t,l)}).length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,l=t.get("field"),c=Gr(a);this.setElementsStateByItem(c,l,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var l=cn(this.context.view,e),c=Li(t,e);return!(0,p.UM)(c)&&n.name===l.getText(c)},r.prototype.setElementsStateByItem=function(t,e,n,a){var l=this;(0,p.S6)(t,function(c){l.isMathItem(c,e,n)&&c.setState(l.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Cn(this.context);if(e)jc(this.context)&&this.setStateByElement(e,t);else{var n=Wn(this.context);if(ho(n)){var a=n.item,l=n.component;if(a&&l&&!this.isItemIgnore(a,l)){var c=this.context.event.gEvent;if(c&&c.fromShape&&c.toShape&&Oy(c.fromShape)===Oy(c.toShape))return;this.setStateByComponent(l,a,t)}}}},r.prototype.toggle=function(){var t=Cn(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Bg);const _g=L1;var k1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.active=function(){this.setState()},r}(_g);const P1=k1;var D1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.cache={},t}return(0,w.ZT)(r,i),r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},r.prototype.getLinkPath=function(t,e){var a=this.context.view.getCoordinate().isTransposed,l=t.shape.getCanvasBBox(),c=e.shape.getCanvasBBox();return a?[["M",l.minX,l.minY],["L",c.minX,c.maxY],["L",c.maxX,c.maxY],["L",l.maxX,l.minY],["Z"]]:[["M",l.maxX,l.minY],["L",c.minX,c.minY],["L",c.minX,c.maxY],["L",l.maxX,l.maxY],["Z"]]},r.prototype.addLinkShape=function(t,e,n,a){var l={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,w.pi)((0,w.pi)({},(0,p.b$)({},l,(0,p.mf)(a)?a(l,e):a)),{path:this.getLinkPath(e,n)})})},r.prototype.linkByElement=function(t,e){var n=this,a=this.context.view,l=this.getColorScale(a,t);if(l){var c=Li(t,l.field);if(!this.cache[c]){var f=function Rp(i,r,t){return Gr(i).filter(function(n){return Li(n,r)===t})}(a,l.field,c),m=this.linkGroup.addGroup();this.cache[c]=m;var x=f.length;(0,p.S6)(f,function(b,A){A<x-1&&n.addLinkShape(m,b,f[A+1],e)})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=Li(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=Cn(e);n&&this.linkByElement(n,t?.style)},r.prototype.unlink=function(){var t=Cn(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Dr);const O1=D1;var B1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return(0,w.ZT)(r,i),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Ms(this.context))t=Il(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=fo(this.context.view,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Gr(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,l=Ji(a),c=t.map(function(m){return m.getModel().data}),f=a.getXScale().field,g=a.getYScales()[0].field;(0,p.S6)(l,function(m){var x=Gr(m),b=x.filter(function(A){var E=A.getModel().data;return rh(c,E,f,g)});n.setElementsState(b,e,x)})},r.prototype.setSiblingsState=function(t){var e=this,a=Ji(this.context.view);Ms(this.context)&&(0,p.S6)(a,function(l){var c=Gr(l),f=Kc(e.context,l,10);f&&f.length?e.setElementsState(f,t,c):e.clearViewState(l)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,p.S6)(n,function(l){t.includes(l)?a.setElementState(l,e):a.setElementState(l,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Ji(e);(0,p.S6)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(Bg);const Rg=B1;var _1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.active=function(){this.setState()},r}(Rg);const R1=_1;var N1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.setStateEnable=function(t){var e=Cn(this.context);if(e){if(!jc(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Cn(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Bg);const Ng=N1;var z1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.active=function(){this.setState()},r}(Ng);const V1=z1;var gu="inactive",yu="active";function zg(i){var r=Gr(i);(0,p.S6)(r,function(t){t.hasState(yu)&&t.setState(yu,!1),t.hasState(gu)&&t.setState(gu,!1)})}function By(i,r,t){(0,p.S6)(i,function(e){r(e)?(e.hasState(gu)&&e.setState(gu,!1),e.setState(yu,t)):(e.hasState(yu)&&e.setState(yu,!1),e.setState(gu,t))})}var ko=V.INACTIVE,qn=V.ACTIVE,U1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName=qn,t}return(0,w.ZT)(r,i),r.prototype.setElementsStateByItem=function(t,e,n,a){var l=this;this.setHighlightBy(t,function(f){return l.isMathItem(f,e,n)},a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(ko)&&t.setState(ko,!1),t.setState(qn,!0)):t.hasState(qn)||t.setState(ko,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,p.S6)(t,function(f){a.setElementHighlight(f,e)});else{var l=Np(this.context.view,qn),c=!0;(0,p.S6)(l,function(f){if(!e(f))return c=!1,!1}),c?this.clear():(0,p.S6)(t,function(f){e(f)&&(f.hasState(qn)&&f.setState(qn,!1),f.setState(ko,!0))})}},r.prototype.setElementState=function(t,e){var a=Gr(this.context.view);this.setHighlightBy(a,function(l){return t===l},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){zg(this.context.view)},r}(_g);const Vg=U1;var G1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(a){var l=n.getScaleByField(a.getFields()[0]),c=Li(t,l.field),f=Gr(n),g=f.filter(function(m){return Li(m,l.field)===c});this.setHighlightBy(f,function(m){return g.includes(m)},e)}},r}(Vg);const H1=G1;var Y1=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(ko)&&t.setState(ko,!1),t.setState(qn,!0)):(t.setState(ko,!0),t.hasState(qn)&&t.setState(qn,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),l=Li(t,a.field),c=Gr(n),f=c.filter(function(g){return Li(g,a.field)===l});this.setHighlightBy(c,function(g){return f.includes(g)},e)},r.prototype.toggle=function(){var t=Cn(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Vg);const X1=Y1;var Si=(()=>((Si=Si||{}).BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",Si.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",Si.BEFORE_CLEAR="element-range-highlight:beforeclear",Si.AFTER_CLEAR="element-range-highlight:afterclear",Si))(),W1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.clearViewState=function(t){zg(t)},r.prototype.highlight=function(){var t=this.context,e=t.view,l={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(Si.BEFORE_HIGHLIGHT,qr.fromData(e,Si.BEFORE_HIGHLIGHT,l)),this.setState(),e.emit(Si.AFTER_HIGHLIGHT,qr.fromData(e,Si.AFTER_HIGHLIGHT,l))},r.prototype.clear=function(){var t=this.context.view;t.emit(Si.BEFORE_CLEAR,qr.fromData(t,Si.BEFORE_CLEAR,{})),i.prototype.clear.call(this),t.emit(Si.AFTER_CLEAR,qr.fromData(t,Si.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,e,n){By(n,function(a){return t.indexOf(a)>=0},e)},r}(Rg);const _y=W1;var Z1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){By(Gr(this.context.view),function(l){return t===l},e)},r.prototype.clear=function(){zg(this.context.view)},r}(Ng);const $1=Z1;var j1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="selected",t}return(0,w.ZT)(r,i),r.prototype.selected=function(){this.setState()},r}(Rg);const q1=j1;var K1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="selected",t}return(0,w.ZT)(r,i),r.prototype.selected=function(){this.setState()},r}(_g);const J1=K1;var Q1=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="selected",t}return(0,w.ZT)(r,i),r.prototype.selected=function(){this.setState()},r}(Ng);const tw=Q1;var ew=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return(0,w.ZT)(r,i),r.prototype.getTriggerListInfo=function(){var t=Wn(this.context),e=null;return ho(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,n=th(this.context.view),a=[];return(0,p.S6)(n,function(l){l.isList()&&t.allowSetStateByElement(l)&&a.push(l)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,p.S6)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var l=cn(this.context.view,e);return l&&l.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;return!n.length||0===n.filter(function(l){return e.hasState(t,l)}).length},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),c=cn(this.context.view,a),f=Li(e,a),g=c.getText(f);this.setItemsState(t,g,n)},r.prototype.setStateEnable=function(t){var e=this,n=Cn(this.context);if(n){var a=this.getAllowComponents();(0,p.S6)(a,function(g){e.setStateByElement(g,n,t)})}else{var l=Wn(this.context);if(ho(l)){var c=l.item,f=l.component;this.allowSetStateByElement(f)&&this.allowSetStateByItem(c,f)&&this.setItemState(f,c,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,l=t.getItems();(0,p.S6)(l,function(c){c.name===e&&a.setItemState(t,c,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Dr);const Po=ew;var rw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="active",t}return(0,w.ZT)(r,i),r.prototype.active=function(){this.setState()},r}(Po);const iw=rw;var Ry="inactive",mu="inactive",Do="active",aw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName=Do,t.ignoreItemStates=["unchecked"],t}return(0,w.ZT)(r,i),r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){t.getItems(),this.setHighlightBy(t,function(l){return l===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,p.S6)(a,function(f){e(f)?(t.hasState(f,mu)&&t.setItemState(f,mu,!1),t.setItemState(f,Do,!0)):t.hasState(f,Do)||t.setItemState(f,mu,!0)});else{var l=t.getItemsByState(Do),c=!0;(0,p.S6)(l,function(f){if(!e(f))return c=!1,!1}),c?this.clear():(0,p.S6)(a,function(f){e(f)&&(t.hasState(f,Do)&&t.setItemState(f,Do,!1),t.setItemState(f,mu,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function nw(i){var r=i.getItems();(0,p.S6)(r,function(t){i.hasState(t,"active")&&i.setItemState(t,"active",!1),i.hasState(t,Ry)&&i.setItemState(t,Ry,!1)})}(t.list);else{var e=this.getAllowComponents();(0,p.S6)(e,function(n){n.clearItemsState(Do),n.clearItemsState(mu)})}},r}(Po);const Ug=aw;var ow=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="selected",t}return(0,w.ZT)(r,i),r.prototype.selected=function(){this.setState()},r}(Po);const sw=ow;var lw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return(0,w.ZT)(r,i),r.prototype.unchecked=function(){this.setState()},r}(Po);const uw=lw;var js="unchecked",Ef="checked",cw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.stateName=Ef,t}return(0,w.ZT)(r,i),r.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,function(a){return a===e},n)},r.prototype.setCheckedBy=function(t,e,n){var a=t.getItems();n&&(0,p.S6)(a,function(l){e(l)?(t.hasState(l,js)&&t.setItemState(l,js,!1),t.setItemState(l,Ef,!0)):t.hasState(l,Ef)||t.setItemState(l,js,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item;!(0,p.G)(e.getItems(),function(l){return e.hasState(l,js)})||e.hasState(n,js)?this.setItemState(e,n,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,p.S6)(t,function(e){e.clearItemsState(Ef),e.clearItemsState(js)})},r}(Po);const hw=cw;var qs="unchecked",fw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.toggle=function(){var t,e,n,a,l,c,f,g,m=this.getTriggerListInfo();if(m?.item){var x=m.list,b=m.item,A=x.getItems(),E=A.filter(function(xe){return!x.hasState(xe,qs)}),D=A.filter(function(xe){return x.hasState(xe,qs)}),z=E[0];if(A.length===E.length)try{for(var Y=(0,w.XA)(A),it=Y.next();!it.done;it=Y.next())x.setItemState(at=it.value,qs,at.id!==b.id)}catch(xe){t={error:xe}}finally{try{it&&!it.done&&(e=Y.return)&&e.call(Y)}finally{if(t)throw t.error}}else if(A.length-D.length==1)if(z.id===b.id)try{for(var ct=(0,w.XA)(A),Mt=ct.next();!Mt.done;Mt=ct.next())x.setItemState(at=Mt.value,qs,!1)}catch(xe){n={error:xe}}finally{try{Mt&&!Mt.done&&(a=ct.return)&&a.call(ct)}finally{if(n)throw n.error}}else try{for(var Xt=(0,w.XA)(A),jt=Xt.next();!jt.done;jt=Xt.next())x.setItemState(at=jt.value,qs,at.id!==b.id)}catch(xe){l={error:xe}}finally{try{jt&&!jt.done&&(c=Xt.return)&&c.call(Xt)}finally{if(l)throw l.error}}else try{for(var ne=(0,w.XA)(A),ye=ne.next();!ye.done;ye=ne.next()){var at;x.setItemState(at=ye.value,qs,at.id!==b.id)}}catch(xe){f={error:xe}}finally{try{ye&&!ye.done&&(g=ne.return)&&g.call(ne)}finally{if(f)throw f.error}}}},r}(Po);const vw=fw;var zy="showRadio",Gg="legend-radio-tip",pw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,w.ZT)(r,i),r.prototype.show=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,zy,!0)},r.prototype.hide=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,zy,!1)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var e=this.context.event,n=this.timeStamp,a=+new Date;if(a-n>16&&"legend-item-radio"===this.context.event.target.get("name")){var c=this.location,f={x:e.x,y:e.y};this.timeStamp=a,this.location=f,(!c||!(0,p.Xy)(c,f))&&this.showTooltip(f)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,a=e.event.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var l=e.view.getCanvas().get("el").getBoundingClientRect(),c=l.x,f=l.y;this.tooltip.update((0,w.pi)((0,w.pi)({title:a.get("tip")},t),{x:t.x+c,y:t.y+f})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=((t={})[$i]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Vi]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Gg)&&document.body.removeChild(document.getElementById(Gg));var n=new ps({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:Gg});n.init(),n.setCapture(!1),this.tooltip=n},r}(Po);const dw=pw;var gw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return(0,w.ZT)(r,i),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:".concat(t),a=this.context.event;this.context.view.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,w.pi)({fill:"#C5D4EB",opacity:.3},e)})},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y;(0,p.S6)(this.points,function(c){c.x+=n,c.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var e=(0,p.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(Dr);const Hg=gw;function Vy(i){var r=(0,p.Z$)(i),t=0,e=0,n=0;if(i.length){var a=i[0];t=Ll(a,r)/2,e=(r.x+a.x)/2,n=(r.y+a.y)/2}return{x:e,y:n,r:t}}var yw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return(0,w.ZT)(r,i),r.prototype.getMaskAttrs=function(){return Vy(this.points)},r}(Hg);const mw=yw;function Uy(i){return{start:(0,p.YM)(i),end:(0,p.Z$)(i)}}function Gy(i,r){return{x:Math.min(i.x,r.x),y:Math.min(i.y,r.y),width:Math.abs(r.x-i.x),height:Math.abs(r.y-i.y)}}var xw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,w.ZT)(r,i),r.prototype.getRegion=function(){return Uy(this.points)},r.prototype.getMaskAttrs=function(){var t=this.getRegion();return Gy(t.start,t.end)},r}(Hg);const Hy=xw;function Yy(i){i.x=(0,p.uZ)(i.x,0,1),i.y=(0,p.uZ)(i.y,0,1)}function Xy(i,r,t,e){var n=null,a=null,l=e.invert((0,p.YM)(i)),c=e.invert((0,p.Z$)(i));return t&&(Yy(l),Yy(c)),"x"===r?(n=e.convert({x:l.x,y:0}),a=e.convert({x:c.x,y:1})):(n=e.convert({x:0,y:l.y}),a=e.convert({x:1,y:c.y})),{start:n,end:a}}var ww=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,w.ZT)(r,i),r.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return Xy(this.points,this.dim,this.inPlot,t)},r}(Hy);const Wy=ww;function Yg(i){var r=[];return i.length&&((0,p.S6)(i,function(t,e){r.push(0===e?["M",t.x,t.y]:["L",t.x,t.y])}),r.push(["L",i[0].x,i[0].y])),r}function Zy(i){return{path:Yg(i)}}var Mw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getMaskPath=function(){return Yg(this.points)},r.prototype.getMaskAttrs=function(){return Zy(this.points)},r.prototype.addPoint=function(){this.resize()},r}(Hg);const $y=Mw;function Xg(i){return function zp(i,r){if(i.length<=2)return co(i,!1);var t=i[0],e=[];(0,p.S6)(i,function(a){e.push(a.x),e.push(a.y)});var n=Gc(e,r,null);return n.unshift(["M",t.x,t.y]),n}(i,!0)}function jy(i){return{path:Xg(i)}}var Sw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.getMaskPath=function(){return Xg(this.points)},r.prototype.getMaskAttrs=function(){return jy(this.points)},r}($y);const Cw=Sw;var bw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return(0,w.ZT)(r,i),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="".concat(this.maskType,":").concat(t),a=this.context.event,l={type:this.shapeType,name:this.maskType,get:function(c){return l.hasOwnProperty(c)?l[c]:void 0}};this.context.view.emit(e,{target:l,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:a.x,y:a.y})},r.prototype.createMask=function(t){var e=this.context.view,a=this.getMaskAttrs(this.recordPoints[t]),l=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,w.pi)({fill:"#C5D4EB",opacity:.3},a)});this.maskShapes.push(l)},r.prototype.getMaskPath=function(t){return[]},r.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},r.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1,this.createMask(this.recordPoints.length-1),this.updateShapesCapture(!1),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},r.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,l=this.getCurMaskShapeIndex();l>-1&&(this.recordPoints[l].forEach(function(c){c.x+=n,c.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},r.prototype.updateMask=function(t){var e=this;this.recordPoints.forEach(function(n,a){var l=(0,p.b$)({},e.getMaskAttrs(n),t);e.maskShapes[a].attr(l)})},r.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},r.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},r.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},r.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},r.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach(function(e){return e.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},r.prototype.destroy=function(){this.clear(),i.prototype.destroy.call(this)},r.prototype.getRecordPoints=function(){var t;return(0,w.ev)([],(0,w.CR)(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},r.prototype.recordPointStart=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint();this.recordPoints=(0,w.ev)((0,w.ev)([],(0,w.CR)(t),!1),[[e]],!1)},r.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(e),this.recordPoints=(0,w.ev)((0,w.ev)([],(0,w.CR)(t),!1),[n],!1)},r.prototype.recordPointClear=function(){this.recordPoints=[]},r.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(e){return e.set("capture",t)})},r.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(e){var n=e.attrs;return!(0===n.width||0===n.height||0===n.r)&&e.isHit(t.x,t.y)})},r}(Dr);const Wg=bw;var Aw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,w.ZT)(r,i),r.prototype.getRegion=function(t){return Uy(t)},r.prototype.getMaskAttrs=function(t){var e=this.getRegion(t);return Gy(e.start,e.end)},r}(Wg);const qy=Aw;var Tw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,w.ZT)(r,i),r.prototype.getRegion=function(t){var e=this.context.view.getCoordinate();return Xy(t,this.dim,this.inPlot,e)},r}(qy);const Ky=Tw;var Ew=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=Vy,t}return(0,w.ZT)(r,i),r}(Wg);const Fw=Ew;var Iw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.getMaskPath=Yg,t.getMaskAttrs=Zy,t}return(0,w.ZT)(r,i),r.prototype.addPoint=function(){this.resize()},r}(Wg);const Jy=Iw;var Lw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.getMaskPath=Xg,t.getMaskAttrs=jy,t}return(0,w.ZT)(r,i),r}(Jy);const kw=Lw;var Pw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r.prototype.zoomIn=function(){this.setCursor("zoom-in")},r.prototype.zoomOut=function(){this.setCursor("zoom-out")},r}(Dr);const Dw=Pw;var Ow=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,p.S6)(t.views,function(l){a.filterView(l,e,n)})},r.prototype.filter=function(){var t=Wn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ho(t)){if(a){var l=n.getItemsByState("unchecked"),c=cn(e,a),f=l.map(function(A){return A.name});this.filterView(e,a,f.length?function(A){var E=c.getText(A);return!f.includes(E)}:null),e.render(!0)}}else if(qc(t)){var g=n.getValue(),m=(0,w.CR)(g,2),x=m[0],b=m[1];this.filterView(e,a,function(A){return A>=x&&A<=b}),e.render(!0)}}},r}(Dr);const Bw=Ow;function Qy(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),l=(0,w.CR)(i.range,2),c=l[0],f=l[1];if(n<c&&(n=c),a>f&&(a=f),n===f&&a===f)return null;var g=i.invert(n),m=i.invert(a);if(i.isCategory){var x=i.values.indexOf(g),b=i.values.indexOf(m),A=i.values.slice(x,b+1);return function(E){return A.includes(E)}}return function(E){return E>=g&&E<=m}}var Yr=(()=>((Yr=Yr||{}).FILTER="brush-filter-processing",Yr.RESET="brush-filter-reset",Yr.BEFORE_FILTER="brush-filter:beforefilter",Yr.AFTER_FILTER="brush-filter:afterfilter",Yr.BEFORE_RESET="brush-filter:beforereset",Yr.AFTER_RESET="brush-filter:afterreset",Yr))(),_w=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return(0,w.ZT)(r,i),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Ms(this.context)){var a=this.context.event.target.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var l=this.context,c=l.view,g={view:c,event:l.event,dims:this.dims};c.emit(Yr.BEFORE_FILTER,qr.fromData(c,Yr.BEFORE_FILTER,g));var m=c.getCoordinate(),x=m.invert(e),b=m.invert(t);if(this.hasDim("x")){var A=c.getXScale(),E=Qy(A,"x",x,b);this.filterView(c,A.field,E)}if(this.hasDim("y")){var D=c.getYScales()[0];E=Qy(D,"y",x,b),this.filterView(c,D.field,E)}this.reRender(c,{source:Yr.FILTER}),c.emit(Yr.AFTER_FILTER,qr.fromData(c,Yr.AFTER_FILTER,g))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(Yr.BEFORE_RESET,qr.fromData(t,Yr.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:Yr.RESET}),t.emit(Yr.AFTER_RESET,qr.fromData(t,Yr.AFTER_RESET,{}))},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t,e){t.render(!0,e)},r}(Dr);const Ff=_w;var Rw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.filterView=function(t,e,n){var a=Ji(t);(0,p.S6)(a,function(l){l.filter(e,n)})},r.prototype.reRender=function(t){var e=Ji(t);(0,p.S6)(e,function(n){n.render(!0)})},r}(Ff);const Zg=Rw;var Nw=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.filter=function(){var t=Wn(this.context),e=this.context.view,n=Gr(e);if(Ms(this.context)){var a=Il(this.context,10);a&&(0,p.S6)(n,function(D){a.includes(D)?D.show():D.hide()})}else if(t){var l=t.component,c=l.get("field");if(ho(t)){if(c){var f=l.getItemsByState("unchecked"),g=cn(e,c),m=f.map(function(D){return D.name});(0,p.S6)(n,function(D){var z=Li(D,c),Y=g.getText(z);m.indexOf(Y)>=0?D.hide():D.show()})}}else if(qc(t)){var x=l.getValue(),b=(0,w.CR)(x,2),A=b[0],E=b[1];(0,p.S6)(n,function(D){var z=Li(D,c);z>=A&&z<=E?D.show():D.hide()})}}},r.prototype.clear=function(){var t=Gr(this.context.view);(0,p.S6)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(Dr);const zw=Nw;var Vw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return(0,w.ZT)(r,i),r.prototype.filter=function(){Ms(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Il(this.context,10);if(e){var n=t.getXScale().field,a=t.getYScales()[0].field,l=e.map(function(f){return f.getModel().data}),c=Ji(t);(0,p.S6)(c,function(f){var g=Gr(f);(0,p.S6)(g,function(m){var x=m.getModel().data;rh(l,x,n,a)?m.show():m.hide()})})}},r.prototype.filterByBBox=function(){var t=this,n=Ji(this.context.view);(0,p.S6)(n,function(a){var l=Kc(t.context,a,10),c=Gr(a);l&&(0,p.S6)(c,function(f){l.includes(f)?f.show():f.hide()})})},r.prototype.reset=function(){var t=Ji(this.context.view);(0,p.S6)(t,function(e){var n=Gr(e);(0,p.S6)(n,function(a){a.show()})})},r}(Dr);const tm=Vw;var Hw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return(0,w.ZT)(r,i),r.prototype.getButtonCfg=function(){return(0,p.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),a=e.addShape({type:"text",name:"button-text",attrs:(0,w.pi)({text:t.text},t.textStyle)}).getBBox(),l=zl(t.padding),c=e.addShape({type:"rect",name:"button-rect",attrs:(0,w.pi)({x:a.x-l[3],y:a.y-l[0],width:a.width+l[1]+l[3],height:a.height+l[0]+l[2]},t.style)});c.toBack(),e.on("mouseenter",function(){c.attr(t.activeStyle)}),e.on("mouseleave",function(){c.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var n=this.context.view.getCoordinate().convert({x:1,y:1}),a=this.buttonGroup,l=a.getBBox(),c=Mr.vs(null,[["t",n.x-l.width-10,n.y+l.height+5]]);a.setMatrix(c)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(Dr);const Yw=Hw;var Ww=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return(0,w.ZT)(r,i),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Ll(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var e=this.context.event;this.context.view.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(Dr);const Zw=Ww;var jw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return(0,w.ZT)(r,i),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(Ll(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,l=Mr.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(l),a.foregroundGroup.setMatrix(l),a.middleGroup.setMatrix(l)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Dr);const qw=jw;var Kw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return(0,w.ZT)(r,i),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},r}(Dr);const im=Kw;var Jw=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return(0,w.ZT)(r,i),r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,(0,p.S6)(this.dims,function(n){var a=t.getScale(n);t.startCache[n]={min:a.min,max:a.max,values:a.values}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),l=n.invert(e),c=n.invert(a),f=c.x-l.x,g=c.y-l.y,m=this.context.view;(0,p.S6)(this.dims,function(b){t.translateDim(b,{x:-1*f,y:-1*g})}),m.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,l=this.startCache[t],c=l.min,f=l.max,m=n[t]*(f-c);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:c,max:f}),a.scale(e.field,{nice:!1,min:c+m,max:f+m})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(im);const Qw=Jw;var tM=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return(0,w.ZT)(r,i),r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this;(0,p.S6)(this.dims,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var l=this.cacheScaleDefs[t],c=l.max-l.min,f=e.min,g=e.max,m=n*c,x=f-m,b=g+m,E=(b-x)/c;b>x&&E<100&&E>.01&&a.scale(e.field,{nice:!1,min:f-m,max:g+m})},r}(im);const eM=tM;var nM=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.scroll=function(t){var e=this.context,n=e.view,a=e.event;if(n.getOptions().scrollbar){var l=t?.wheelDelta||1,c=n.getController("scrollbar"),f=n.getXScale(),g=n.getOptions().data,m=(0,p.dp)((0,p.I)(g,f.field)),x=(0,p.dp)(f.values),b=c.getValue(),E=Math.floor((m-x)*b)+(function rM(i){return i.gEvent.originalEvent.deltaY>0}(a)?l:-l),z=(0,p.uZ)(E/(m-x)+l/(m-x)/1e4,0,1);c.setValue(z)}},r}(Dr);const aM=nM;var sM=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,w.ZT)(r,i),r.prototype.show=function(){var t=this.context,n=Wn(t).axis.cfg.title,a=n.description,l=n.text,c=n.descriptionTooltipStyle,f=t.event,g=f.x,m=f.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:l||"",customContent:function(){return'\n          <div class="'.concat($i,'" style={').concat(c,'}>\n            <div class="').concat(Vi,'">\n              \u5b57\u6bb5\u8bf4\u660e\uff1a').concat(a,"\n            </div>\n          </div>\n        ")},x:g,y:m}),this.tooltip.show()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},l=new ps({parent:n.get("el").parentNode,region:a,visible:!1,containerId:"aixs-description-tooltip",domStyles:(0,w.pi)({},(0,p.b$)({},(t={},t[$i]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Vi]={"word-break":"break-all","margin-bottom":"3px"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},r}(Dr);const lM=sM;function Kn(i){return i.isInPlot()}function nm(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}(function Kp(i,r){Bl[(0,p.vl)(i)]=Cs(r)})("dark",oh(Jl)),Vt("canvas",ve),Vt("svg",pe),Qi("Polygon",xm),Qi("Interval",hm),Qi("Schema",Mm),Qi("Path",nr),Qi("Point",gm),Qi("Line",vm),Qi("Area",be),Qi("Edge",Xe),Qi("Heatmap",hr),Qi("Violin",bm),Ia("base",Ls),Ia("interval",Um),Ia("pie",Ym),Ia("polar",oy),ri("overlap",function nx(i,r,t,e){var n=new hy;(0,p.S6)(r,function(a){for(var l=a.find(function(A){return"text"===A.get("type")}),c=l.attr(),f=c.x,g=c.y,m=!1,x=0;x<=8;x++){var b=rx(l,f,g,x);if(n.hasGap(b)){n.fillGap(b),m=!0;break}}m||a.remove(!0)}),n.destroy()}),ri("distribute",function Wm(i,r,t,e){if(i.length&&r.length){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),l=a.getRadius(),c=a.getCenter();if(n>0){var m=2*(l+n)+28,x={start:a.start,end:a.end},b=[[],[]];i.forEach(function(A){A&&("right"===A.textAlign?b[0].push(A):b[1].push(A))}),b.forEach(function(A,E){var D=m/14;A.length>D&&(A.sort(function(z,Y){return Y["..percent"]-z["..percent"]}),A.splice(D,A.length-D)),A.sort(function(z,Y){return z.y-Y.y}),function Xm(i,r,t,e,n,a){var l,c,A,f=!0,g=e.start,m=e.end,x=Math.min(g.y,m.y),b=Math.abs(g.y-m.y),E=0,D=Number.MIN_VALUE,z=r.map(function(jt){return jt.y>E&&(E=jt.y),jt.y<D&&(D=jt.y),{size:t,targets:[jt.y-x]}});for(D-=x,E-x>b&&(b=E-x);f;)for(z.forEach(function(jt){var ne=(Math.min.apply(D,jt.targets)+Math.max.apply(D,jt.targets))/2;jt.pos=Math.min(Math.max(D,ne-jt.size/2),b-jt.size)}),f=!1,A=z.length;A--;)if(A>0){var Y=z[A-1],it=z[A];Y.pos+Y.size>it.pos&&(Y.size+=it.size,Y.targets=Y.targets.concat(it.targets),Y.pos+Y.size>b&&(Y.pos=b-Y.size),z.splice(A,1),f=!0)}A=0,z.forEach(function(jt){var ne=x+t/2;jt.targets.forEach(function(){r[A].y=jt.pos+ne,ne+=t,A++})});var at={};try{for(var ct=(0,w.XA)(i),Mt=ct.next();!Mt.done;Mt=ct.next()){var Xt=Mt.value;at[Xt.get("id")]=Xt}}catch(jt){l={error:jt}}finally{try{Mt&&!Mt.done&&(c=ct.return)&&c.call(ct)}finally{if(l)throw l.error}}r.forEach(function(jt){var ne=jt.r*jt.r,ye=Math.pow(Math.abs(jt.y-n.y),2);if(ne<ye)jt.x=n.x;else{var xe=Math.sqrt(ne-ye);jt.x=a?n.x+xe:n.x-xe}var Ve=at[jt.id];Ve.attr("x",jt.x),Ve.attr("y",jt.y);var ze=(0,p.sE)(Ve.getChildren(),function(er){return"text"===er.get("type")});ze&&(ze.attr("y",jt.y),ze.attr("x",jt.x))})}(r,A,14,x,c,E)})}(0,p.S6)(i,function(A){if(A&&A.labelLine){var E=A.offset,D=A.angle,z=Lr(c.x,c.y,l,D),Y=Lr(c.x,c.y,l+E/2,D),it=A.x+(0,p.U2)(A,"offsetX",0),at=A.y+(0,p.U2)(A,"offsetY",0),ct={x:it-4*Math.cos(D),y:at-4*Math.sin(D)};(0,p.Kn)(A.labelLine)||(A.labelLine={}),A.labelLine.path=["M ".concat(z.x),"".concat(z.y," Q").concat(Y.x),"".concat(Y.y," ").concat(ct.x),ct.y].join(",")}})}}),ri("fixed-overlap",function ix(i,r,t,e){var n=new hy;(0,p.S6)(r,function(a){(function ex(i,r,t){void 0===t&&(t=100);var g,it,n=i.attr(),a=n.x,l=n.y,c=i.getCanvasBBox(),f=Math.sqrt(c.width*c.width+c.height*c.height),m=1,x=0,b=0;if(r.hasGap(c))return r.fillGap(c),!0;for(var E=!1,D=0,z={};Math.min(Math.abs(x),Math.abs(b))<f&&D<t;)if(void 0,b=~~(g=[(it=.1*(m+=-1))*Math.cos(it),it*Math.sin(it)])[1],((x=~~g[0])||b)&&!z["".concat(x,"-").concat(b)]&&(i.attr({x:a+x,y:l+b}),x+b<0&&i.attr("textAlign","right"),D++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),E=!0,z["".concat(x,"-").concat(b)]=!0;break}return E})(a.find(function(c){return"text"===c.get("type")}),n)||a.remove(!0)}),n.destroy()}),ri("hide-overlap",function px(i,r,t,e){return(0,w.mG)(this,void 0,void 0,function(){var n,a,l,c,f,g;return(0,w.Jh)(this,function(m){switch(m.label){case 0:return n=r.map(function(x,b){return(0,w.pi)((0,w.pi)({},Fh(x,i[b],(0,p.U2)(i[b],"background.padding"))),{visible:!0})}),a=JSON.stringify(n),l=function(x){return Ig.set(a,x),(0,p.S6)(x,function(b,A){var D=r[A];b.visible?D?.show():D?.hide()}),x},Ig.get(a)?(l(Ig.get(a)),[3,7]):[3,1];case 1:if(!gy)return[3,6];m.label=2;case 2:return m.trys.push([2,4,,5]),c=JSON.stringify({type:"hide-overlap",items:n}),[4,gy.post(c,function(){return l(Fg(n))})];case 3:return f=m.sent(),l(Array.isArray(f.data)?f.data:[]),[3,5];case 4:return g=m.sent(),console.error(g),l(Fg(n)),[3,5];case 5:return[3,7];case 6:l(Fg(n)),m.label=7;case 7:return[2]}})})}),ri("limit-in-shape",function Qm(i,r,t,e){(0,p.S6)(r,function(n,a){var l=n.getCanvasBBox(),c=t[a].getBBox();(l.minX<c.minX||l.minY<c.minY||l.maxX>c.maxX||l.maxY>c.maxY)&&n.remove(!0)})}),ri("limit-in-canvas",function Jm(i,r,t,e){(0,p.S6)(r,function(n){var a=e.minX,l=e.minY,c=e.maxX,f=e.maxY,g=n.getCanvasBBox(),m=g.minX,x=g.minY,b=g.maxX,A=g.maxY,E=g.x,D=g.y,it=E,at=D;(m<a||b<a)&&(it=a),(x<l||A<l)&&(at=l),m>c?it=c-g.width:b>c&&(it-=b-c),x>f?at=f-g.height:A>f&&(at-=A-f),(it!==E||at!==D)&&An(n,it-E,at-D)})}),ri("limit-in-plot",function kx(i,r,t,e,n){if(!(r.length<=0)){var a=n?.direction||["top","right","bottom","left"],l=n?.action||"translate",c=n?.margin||0,f=r[0].get("coordinate");if(f){var g=function yp(i,r){void 0===r&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight(),l=Math.min(t.x,e.x),c=Math.min(t.y,e.y);return ei.fromRange(l-r,c-r,l+n+r,c+a+r)}(f,c),m=g.minX,x=g.minY,b=g.maxX,A=g.maxY;(0,p.S6)(r,function(E){var D=E.getCanvasBBox(),z=D.minX,Y=D.minY,it=D.maxX,at=D.maxY,ct=D.x,Mt=D.y,Xt=D.width,jt=D.height,ne=ct,ye=Mt;if(a.indexOf("left")>=0&&(z<m||it<m)&&(ne=m),a.indexOf("top")>=0&&(Y<x||at<x)&&(ye=x),a.indexOf("right")>=0&&(z>b?ne=b-Xt:it>b&&(ne-=it-b)),a.indexOf("bottom")>=0&&(Y>A?ye=A-jt:at>A&&(ye-=at-A)),ne!==ct||ye!==Mt){var xe=ne-ct;"translate"===l?An(E,xe,ye-Mt):"ellipsis"===l?E.findAll(function(ze){return"text"===ze.get("type")}).forEach(function(ze){var er=(0,p.ei)(ze.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),ur=ze.getCanvasBBox(),wr=function(i,r,t){var a,n=Mf("...",t);a=(0,p.HD)(i)?i:(0,p.BB)(i);var f,g,l=r,c=[];if(Mf(i,t)<=r)return i;for(;f=a.substr(0,16),!((g=Mf(f,t))+n>l&&g>l);)if(c.push(f),l-=g,!(a=a.substr(16)))return c.join("");for(;f=a.substr(0,1),!((g=Mf(f,t))+n>l);)if(c.push(f),l-=g,!(a=a.substr(1)))return c.join("");return"".concat(c.join(""),"...")}(ze.attr("text"),ur.width-Math.abs(xe),er);ze.attr("text",wr)}):E.hide()}})}}}),ri("pie-outer",function $m(i,r,t,e){var n,a,l=(0,p.hX)(i,function(ne){return!(0,p.UM)(ne)}),c=r[0]&&r[0].get("coordinate");if(c){var f=c.getCenter(),g=c.getRadius(),m={};try{for(var x=(0,w.XA)(r),b=x.next();!b.done;b=x.next()){var A=b.value;m[A.get("id")]=A}}catch(ne){n={error:ne}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}var E=(0,p.U2)(l[0],"labelHeight",14),D=(0,p.U2)(l[0],"offset",0);if(!(D<=0)){var Y="right",it=(0,p.vM)(l,function(ne){return ne.x<f.x?"left":Y}),at=c.start,ct=c.end,Mt=Math.min(2*(g+D+E),c.getHeight()),Xt=Mt/2,jt={minX:at.x,maxX:ct.x,minY:f.y-Xt,maxY:f.y+Xt};(0,p.S6)(it,function(ne,ye){var xe=Math.floor(Mt/E);ne.length>xe&&(ne.sort(function(Ve,ze){return ze.percent-Ve.percent}),(0,p.S6)(ne,function(Ve,ze){ze+1>xe&&(m[Ve.id].set("visible",!1),Ve.invisible=!0)})),ly(ne,E,jt)}),(0,p.S6)(it,function(ne,ye){(0,p.S6)(ne,function(xe){var Ve=ye===Y,er=m[xe.id].getChildByIndex(0);if(er){var ur=g+D,wr=xe.y-f.y,ni=Math.pow(ur,2),Xr=Math.pow(wr,2),Tr=Math.sqrt(ni-Xr>0?ni-Xr:0),Ci=Math.abs(Math.cos(xe.angle)*ur);xe.x=Ve?f.x+Math.max(Tr,Ci):f.x-Math.max(Tr,Ci)}er&&(er.attr("y",xe.y),er.attr("x",xe.x)),function Zm(i,r){var t=r.getCenter(),e=r.getRadius();if(i&&i.labelLine){var n=i.angle,a=i.offset,l=Lr(t.x,t.y,e,n),c=i.x+(0,p.U2)(i,"offsetX",0)*(Math.cos(n)>0?1:-1),f=i.y+(0,p.U2)(i,"offsetY",0)*(Math.sin(n)>0?1:-1),g={x:c-4*Math.cos(n),y:f-4*Math.sin(n)},m=i.labelLine.smooth,x=[],b=g.x-t.x,E=Math.atan((g.y-t.y)/b);if(b<0&&(E+=Math.PI),!1===m){(0,p.Kn)(i.labelLine)||(i.labelLine={});var D=0;(n<0&&n>-Math.PI/2||n>1.5*Math.PI)&&g.y>l.y&&(D=1),n>=0&&n<Math.PI/2&&g.y>l.y&&(D=1),n>=Math.PI/2&&n<Math.PI&&l.y>g.y&&(D=1),(n<-Math.PI/2||n>=Math.PI&&n<1.5*Math.PI)&&l.y>g.y&&(D=1);var z=a/2>4?4:Math.max(a/2-1,0),Y=Lr(t.x,t.y,e+z,n),it=Lr(t.x,t.y,e+a/2,E);x.push("M ".concat(l.x," ").concat(l.y)),x.push("L ".concat(Y.x," ").concat(Y.y)),x.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(0," ").concat(D," ").concat(it.x," ").concat(it.y)),x.push("L ".concat(g.x," ").concat(g.y))}else{Y=Lr(t.x,t.y,e+(a/2>4?4:Math.max(a/2-1,0)),n);var ct=l.x<t.x?1:-1;x.push("M ".concat(g.x," ").concat(g.y)),Math.abs((l.y-t.y)/(l.x-t.x)-(g.y-t.y)/(g.x-t.x))>Math.pow(Math.E,-16)&&x.push.apply(x,["C",g.x+4*ct,g.y,2*Y.x-l.x,2*Y.y-l.y,l.x,l.y]),x.push("L ".concat(l.x," ").concat(l.y))}i.labelLine.path=x.join(" ")}}(xe,c)})})}}}),ri("adjust-color",function gx(i,r,t){if(0!==t.length){var n=t[0].get("element").geometry.theme,a=n.labels||{},l=a.fillColorLight,c=a.fillColorDark;t.forEach(function(f,g){var x=r[g].find(function(Y){return"text"===Y.get("type")}),b=ei.fromObject(f.getBBox()),A=ei.fromObject(x.getCanvasBBox()),E=!b.contains(A),z=function(i){var r=dr.Z.toRGB(i).toUpperCase();if(yy[r])return yy[r];var t=(0,w.CR)(dr.Z.rgb2arr(r),3);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(f.attr("fill"));E?x.attr(n.overflowLabels.style):z?l&&x.attr("fill",l):c&&x.attr("fill",c)})}}),ri("interval-adjust-position",function wx(i,r,t){var e;if(0!==t.length){var n=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=n?.geometry;a&&"interval"===a.type&&function mx(i,r,t){return!!i.getAdjust("stack")||r.every(function(n,a){return function yx(i,r,t){var e=i.coordinate,n=Tn(r),a=ei.fromObject(n.getCanvasBBox()),l=ei.fromObject(t.getBBox());return e.isTransposed?l.height>=a.height:l.width>=a.width}(i,n,t[a])})}(a,r,t)&&t.forEach(function(c,f){!function xx(i,r,t){var e=i.coordinate,n=ei.fromObject(t.getBBox());Tn(r).attr(e.isTransposed?{x:n.minX+n.width/2,textAlign:"center"}:{y:n.minY+n.height/2,textBaseline:"middle"})}(a,r[f],c)})}}),ri("interval-hide-overlap",function Sx(i,r,t){var e;if(0!==t.length){var n=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=n?.geometry;if(a&&"interval"===a.type){var A,l=function Mx(i){var t=[],e=Math.max(Math.floor(i.length/500),1);return(0,p.S6)(i,function(n,a){a%e==0?t.push(n):n.set("visible",!1)}),t}(r),f=(0,w.CR)(a.getXYFields(),1)[0],g=[],m=[],x=(0,p.vM)(l,function(z){return z.get("data")[f]}),b=(0,p.jj)((0,p.UI)(l,function(z){return z.get("data")[f]}));l.forEach(function(z){z.set("visible",!0)});var E=function(z){z&&(z.length&&m.push(z.pop()),m.push.apply(m,(0,w.ev)([],(0,w.CR)(z),!1)))};for((0,p.dp)(b)>0&&(A=b.shift(),E(x[A])),(0,p.dp)(b)>0&&(A=b.pop(),E(x[A])),(0,p.S6)(b.reverse(),function(z){E(x[z])});m.length>0;){var D=m.shift();D.get("visible")&&(gd(D,g)?D.set("visible",!1):g.push(D))}}}}),ri("point-adjust-position",function Ax(i,r,t,e,n){var a,l;if(0!==t.length){var c=null===(a=t[0])||void 0===a?void 0:a.get("element"),f=c?.geometry;if(f&&"point"===f.type){var g=(0,w.CR)(f.getXYFields(),2),m=g[0],x=g[1],b=(0,p.vM)(r,function(D){return D.get("data")[m]}),A=[],E=n&&n.offset||(null===(l=i[0])||void 0===l?void 0:l.offset)||12;(0,p.UI)((0,p.XP)(b).reverse(),function(D){for(var z=function Cx(i,r){var t=i.getXYFields()[1],e=[],n=r.sort(function(a,l){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&e.push(n.shift()),n.length>0&&e.push(n.pop()),e.push.apply(e,(0,w.ev)([],(0,w.CR)(n),!1)),e}(f,b[D]);z.length;){var Y=z.shift(),it=Tn(Y);if(my(A,Y,function(Mt,Xt){return Mt.get("data")[m]===Xt.get("data")[m]&&Mt.get("data")[x]===Xt.get("data")[x]}))it.set("visible",!1);else{var ct=!1;xy(A,Y)&&(it.attr("y",it.attr("y")+2*E),ct=xy(A,Y)),ct?it.set("visible",!1):A.push(Y)}}})}}}),ri("pie-spider",function Km(i,r,t,e){var n,a,l=r[0]&&r[0].get("coordinate");if(l){var c=l.getCenter(),f=l.getRadius(),g={};try{for(var m=(0,w.XA)(r),x=m.next();!x.done;x=m.next()){var b=x.value;g[b.get("id")]=b}}catch(ne){n={error:ne}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}var A=(0,p.U2)(i[0],"labelHeight",14),E=Math.max((0,p.U2)(i[0],"offset",0),4);(0,p.S6)(i,function(ne){if(ne&&(0,p.U2)(g,[ne.id])){var xe=ne.x>c.x||ne.x===c.x&&ne.y>c.y,Ve=(0,p.UM)(ne.offsetX)?4:ne.offsetX,ze=Lr(c.x,c.y,f+4,ne.angle);ne.x=c.x+(xe?1:-1)*(f+(E+Ve)),ne.y=ze.y}});var D=l.start,z=l.end,at=(0,p.vM)(i,function(ne){return ne.x<c.x?"left":"right"}),ct=2*(f+E)+A;(0,p.S6)(at,function(ne){var ye=ne.length*A;ye>ct&&(ct=Math.min(ye,Math.abs(D.y-z.y)))});var Mt={minX:D.x,maxX:z.x,minY:c.y-ct/2,maxY:c.y+ct/2};(0,p.S6)(at,function(ne,ye){var xe=ct/A;ne.length>xe&&(ne.sort(function(Ve,ze){return ze.percent-Ve.percent}),(0,p.S6)(ne,function(Ve,ze){ze>xe&&(g[Ve.id].set("visible",!1),Ve.invisible=!0)})),ly(ne,A,Mt)});var Xt=Mt.minY,jt=Mt.maxY;(0,p.S6)(at,function(ne,ye){var xe="right"===ye;(0,p.S6)(ne,function(Ve){var ze=(0,p.U2)(g,Ve&&[Ve.id]);if(ze){if(Ve.y<Xt||Ve.y>jt)return void ze.set("visible",!1);var er=ze.getChildByIndex(0),ur=er.getCanvasBBox(),wr={x:xe?ur.x:ur.maxX,y:ur.y+ur.height/2};An(er,Ve.x-wr.x,Ve.y-wr.y),Ve.labelLine&&function qm(i,r,t){var m,e=r.getCenter(),n=r.getRadius(),a={x:i.x-(t?4:-4),y:i.y},l=Lr(e.x,e.y,n+4,i.angle),c={x:a.x,y:a.y},f={x:l.x,y:l.y},g=Lr(e.x,e.y,n,i.angle);if(a.y!==l.y){var x=t?4:-4;c.y=a.y,i.angle<0&&i.angle>=-Math.PI/2&&(c.x=Math.max(l.x,a.x-x),a.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-x))),i.angle>0&&i.angle<Math.PI/2&&(c.x=Math.max(l.x,a.x-x),a.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-x))),i.angle>Math.PI/2&&(c.x=Math.min(l.x,a.x-x),a.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-x))),i.angle<-Math.PI/2&&(c.x=Math.min(l.x,a.x-x),a.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-x)))}m=["M ".concat(a.x,",").concat(a.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(f.x,",").concat(f.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(g.x,",").concat(g.y)].join(" "),i.labelLine=(0,p.b$)({},i.labelLine,{path:m})}(Ve,l,xe)}})})}}),ri("path-adjust-position",function Fx(i,r,t,e,n){var a,l;if(0!==t.length){var c=null===(a=t[0])||void 0===a?void 0:a.get("element"),f=c?.geometry;if(f&&!(["path","line","area"].indexOf(f.type)<0)){var g=(0,w.CR)(f.getXYFields(),2),m=g[0],x=g[1],b=(0,p.vM)(r,function(D){return D.get("data")[m]}),A=[],E=n&&n.offset||(null===(l=i[0])||void 0===l?void 0:l.offset)||12;(0,p.UI)((0,p.XP)(b).reverse(),function(D){for(var z=function Tx(i,r){var t=i.getXYFields()[1],e=[],n=r.sort(function(a,l){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&e.push(n.shift()),n.length>0&&e.push(n.pop()),e.push.apply(e,(0,w.ev)([],(0,w.CR)(n),!1)),e}(f,b[D]);z.length;){var Y=z.shift(),it=Tn(Y);if(wy(A,Y,function(Mt,Xt){return Mt.get("data")[m]===Xt.get("data")[m]&&Mt.get("data")[x]===Xt.get("data")[x]}))it.set("visible",!1);else{var ct=!1;My(A,Y)&&(it.attr("y",it.attr("y")+2*E),ct=My(A,Y)),ct?it.set("visible",!1):A.push(Y)}}})}}}),wi("fade-in",function Px(i,r,t){var e={fillOpacity:(0,p.UM)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,p.UM)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,p.UM)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}),wi("fade-out",function Dx(i,r,t){i.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r.duration,r.easing,function(){i.remove(!0)},r.delay)}),wi("grow-in-x",function Bx(i,r,t){kg(i,r,t.coordinate,t.minYPoint,"x")}),wi("grow-in-xy",function Rx(i,r,t){kg(i,r,t.coordinate,t.minYPoint,"xy")}),wi("grow-in-y",function _x(i,r,t){kg(i,r,t.coordinate,t.minYPoint,"y")}),wi("scale-in-x",function Vx(i,r,t){var e=i.getBBox(),a=i.get("origin").mappingData.points,l=a[0].y-a[1].y>0?e.maxX:e.minX,c=(e.minY+e.maxY)/2;i.applyToMatrix([l,c,1]);var f=Mr.vs(i.getMatrix(),[["t",-l,-c],["s",.01,1],["t",l,c]]);i.setMatrix(f),i.animate({matrix:Mr.vs(i.getMatrix(),[["t",-l,-c],["s",100,1],["t",l,c]])},r)}),wi("scale-in-y",function Ux(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,l=n.points,c=l[0].y-l[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,c,1]);var f=Mr.vs(i.getMatrix(),[["t",-a,-c],["s",1,.01],["t",a,c]]);i.setMatrix(f),i.animate({matrix:Mr.vs(i.getMatrix(),[["t",-a,-c],["s",1,100],["t",a,c]])},r)}),wi("wave-in",function Hx(i,r,t){var e=Tl(t.coordinate,20),l=e.endState,c=i.setClip({type:e.type,attrs:e.startState});t.toAttrs&&i.attr(t.toAttrs),c.animate(l,(0,w.pi)((0,w.pi)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),c.remove(!0),(0,p.mf)(r.callback)&&r.callback()}}))}),wi("zoom-in",function Yx(i,r,t){Pg(i,r,"zoomIn")}),wi("zoom-out",function Xx(i,r,t){Pg(i,r,"zoomOut")}),wi("position-update",function zx(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}),wi("sector-path-update",function Gx(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path||[],l=a.map(function(it){return it[0]});if(!(a.length<1)){var c=by(a),f=c.startAngle,g=c.endAngle,m=c.radius,x=c.innerRadius,b=by(i.attr("path")),A=b.startAngle,E=b.endAngle,D=n.getCenter(),z=f-A,Y=g-E;if(0===z&&0===Y)return void i.attr("path",a);i.animate(function(it){var at=A+it*z,ct=E+it*Y;return(0,w.pi)((0,w.pi)({},e),{path:(0,p.Xy)(l,["M","A","A","Z"])?Al(D.x,D.y,m,at,ct):Ki(D.x,D.y,m,at,ct,x)})},(0,w.pi)((0,w.pi)({},r),{callback:function(){i.attr("path",a),(0,p.mf)(r.callback)&&r.callback()}}))}}),wi("path-in",function Nx(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}),Aa("rect",e1),Aa("mirror",Qx),Aa("list",jx),Aa("matrix",Kx),Aa("circle",Zx),Aa("tree",i1),Zn("axis",l1),Zn("legend",v1),Zn("tooltip",yh),Zn("annotation",o1),Zn("slider",d1),Zn("scrollbar",x1),je("tooltip",Dy),je("sibling-tooltip",T1),je("ellipsis-text",F1),je("element-active",P1),je("element-single-active",V1),je("element-range-active",R1),je("element-highlight",Vg),je("element-highlight-by-x",X1),je("element-highlight-by-color",H1),je("element-single-highlight",$1),je("element-range-highlight",_y),je("element-sibling-highlight",_y,{effectSiblings:!0,effectByRecord:!0}),je("element-selected",J1),je("element-single-selected",tw),je("element-range-selected",q1),je("element-link-by-color",O1),je("active-region",C1),je("list-active",iw),je("list-selected",sw),je("list-highlight",Ug),je("list-unchecked",uw),je("list-checked",hw),je("list-focus",vw),je("list-radio",dw),je("legend-item-highlight",Ug,{componentNames:["legend"]}),je("axis-label-highlight",Ug,{componentNames:["axis"]}),je("axis-description",lM),je("rect-mask",Hy),je("x-rect-mask",Wy,{dim:"x"}),je("y-rect-mask",Wy,{dim:"y"}),je("circle-mask",mw),je("path-mask",$y),je("smooth-path-mask",Cw),je("rect-multi-mask",qy),je("x-rect-multi-mask",Ky,{dim:"x"}),je("y-rect-multi-mask",Ky,{dim:"y"}),je("circle-multi-mask",Fw),je("path-multi-mask",Jy),je("smooth-path-multi-mask",kw),je("cursor",Dw),je("data-filter",Bw),je("brush",Ff),je("brush-x",Ff,{dims:["x"]}),je("brush-y",Ff,{dims:["y"]}),je("sibling-filter",Zg),je("sibling-x-filter",Zg,{dims:"x"}),je("sibling-y-filter",Zg,{dims:"y"}),je("element-filter",zw),je("element-sibling-filter",tm),je("element-sibling-filter-record",tm,{byRecord:!0}),je("view-drag",Zw),je("view-move",qw),je("scale-translate",Qw),je("scale-zoom",eM),je("reset-button",Yw,{name:"reset-button",text:"reset"}),je("mousewheel-scroll",aM),br("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),br("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),br("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),br("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),br("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),br("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),br("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),br("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),br("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),br("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),br("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),br("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),br("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Kn,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Kn,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Kn,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),br("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),br("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Kn,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Kn,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Kn,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),br("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Kn,action:"path-mask:start"},{trigger:"mousedown",isEnable:Kn,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),br("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Kn,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(i){return!Ss(i)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),br("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),br("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(i){return!i.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),br("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),br("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),br("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),br("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),br("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),br("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return nm(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!nm(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),br("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),br("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]})},8292:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{aC:()=>Qo,Kj:()=>Lp,by:()=>Vf,Ex:()=>Hf,Fk:()=>Xc,TZ:()=>Wf,m:()=>$u,cQ:()=>hl,kB:()=>Sg});var ee={};mt.r(ee),mt.d(ee,{cluster:()=>H0,hierarchy:()=>xa,pack:()=>yc,packEnclose:()=>vc,packSiblings:()=>gc,partition:()=>_l,stratify:()=>nd,tree:()=>Y0,treemap:()=>gh,treemapBinary:()=>yh,treemapDice:()=>xo,treemapResquarify:()=>xh,treemapSlice:()=>Fs,treemapSliceDice:()=>mh,treemapSquarify:()=>dh});var ft=mt(1188),B=mt(655),P=mt(8250),Jt=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Nt=(()=>((Nt=Nt||{}).ERROR="error",Nt.WARN="warn",Nt.INFO="log",Nt))(),Yt="AntV/G2Plot";function Lt(o){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];var h=0;return"".concat(Yt,": ").concat(o.replace(/%s/g,function(){return"".concat(s[h++])}))}function ve(o,s,u){for(var h=[],v=3;v<arguments.length;v++)h[v-3]=arguments[v];s||console[o](Lt.apply(void 0,(0,B.ev)([u],h,!1)))}function zt(o,s){var u={};return null!==o&&"object"==typeof o&&s.forEach(function(h){var v=o[h];void 0!==v&&(u[h]=v)}),u}function pe(o,s){if(!o)return{};var u=o.filter(function(d){var y=(0,P.U2)(d,[s]);return(0,P.hj)(y)&&!isNaN(y)}),h=u.every(function(d){return(0,P.U2)(d,[s])>=0}),v=u.every(function(d){return(0,P.U2)(d,[s])<=0});return h?{min:0}:v?{max:0}:{}}function w(o,s,u,h,v){if(void 0===v&&(v=[]),!Array.isArray(o))return{nodes:[],links:[]};var d=[],y={},M=-1;return o.forEach(function(S){var C=S[s],T=S[u],I=S[h],F=zt(S,v);y[C]||(y[C]=(0,B.pi)({id:++M,name:C},F)),y[T]||(y[T]=(0,B.pi)({id:++M,name:T},F)),d.push((0,B.pi)({source:y[C].id,target:y[T].id,value:I},F))}),{nodes:Object.values(y).sort(function(S,C){return S.id-C.id}),links:d}}function p(o,s){var u=(0,P.hX)(o,function(h){var v=h[s];return null===v||"number"==typeof v&&!isNaN(v)});return ve(Nt.WARN,u.length===o.length,"illegal data existed in chart data."),u}var Vt,Q={}.toString,Gt=function(o,s){return Q.call(o)==="[object "+s+"]"},_t=function(o){return Gt(o,"Array")},xt=function(o){if(!function(o){return"object"==typeof o&&null!==o}(o)||!Gt(o,"Object"))return!1;for(var s=o;null!==Object.getPrototypeOf(s);)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(o)===s},tt=function(o,s,u,h){for(var v in u=u||0,h=h||5,s)if(Object.prototype.hasOwnProperty.call(s,v)){var d=s[v];d?xt(d)?(xt(o[v])||(o[v]={}),u<h?tt(o[v],d,u+1,h):o[v]=s[v]):_t(d)?(o[v]=[],o[v]=o[v].concat(d)):o[v]=d:o[v]=d}},V=function(o){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];for(var h=0;h<s.length;h+=1)tt(o,s[h]);return o};function It(o){if(!o)return{width:0,height:0};var s=getComputedStyle(o);return{width:(o.clientWidth||parseInt(s.width,10))-parseInt(s.paddingLeft,10)-parseInt(s.paddingRight,10),height:(o.clientHeight||parseInt(s.height,10))-parseInt(s.paddingTop,10)-parseInt(s.paddingBottom,10)}}function pt(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return function(u){return o.reduce(function(h,v){return v(h)},u)}}function re(o,s){return o.geometries.find(function(u){return u.type===s})}function me(o){return(0,P.u4)(o.geometries,function(s,u){return s.concat(u.elements)},[])}function wt(o){return(0,P.U2)(o,["views","length"],0)<=0?me(o):(0,P.u4)(o.views,function(s,u){return s.concat(wt(u))},me(o))}function Qt(o){if(!(0,P.P9)(o,"Object"))return o;var s=(0,B.pi)({},o);return s.formatter&&!s.content&&(s.content=s.formatter),s}function O(o){return"number"==typeof o&&!isNaN(o)}function Dt(o){if((0,P.hj)(o))return[o,o,o,o];if((0,P.kJ)(o)){var s=o.length;if(1===s)return[o[0],o[0],o[0],o[0]];if(2===s)return[o[0],o[1],o[0],o[1]];if(3===s)return[o[0],o[1],o[2],o[1]];if(4===s)return o}return[0,0,0,0]}function te(o,s,u){void 0===s&&(s="bottom"),void 0===u&&(u=25);var h=Dt(o),v=[s.startsWith("top")?u:0,s.startsWith("right")?u:0,s.startsWith("bottom")?u:0,s.startsWith("left")?u:0];return[h[0]+v[0],h[1]+v[1],h[2]+v[2],h[3]+v[3]]}function ae(o){var s=o.map(function(h){return Dt(h)}),u=[0,0,0,0];return s.length>0&&(u=u.map(function(h,v){return s.forEach(function(d,y){h+=s[y][v]}),h})),u}(0,P.HP)(function(o,s){void 0===s&&(s={});var u=s.fontSize,h=s.fontFamily,v=void 0===h?"sans-serif":h,d=s.fontWeight,y=s.fontStyle,M=s.fontVariant,S=function Pt(){return Vt||(Vt=document.createElement("canvas").getContext("2d")),Vt}();return S.font=[y,d,M,"".concat(u,"px"),v].join(" "),S.measureText((0,P.HD)(o)?o:"").width},function(o,s){return void 0===s&&(s={}),(0,B.ev)([o],(0,P.VO)(s),!0).join("")});var Se=mt(8235);function j(o,s,u){var h=[],v=o[0],d=null;if(o.length<=2)return function W(o,s){var u=[];if(o.length){u.push(["M",o[0].x,o[0].y]);for(var h=1,v=o.length;h<v;h+=1){var d=o[h];u.push(["L",d.x,d.y])}s&&u.push(["Z"])}return u}(o,s);for(var y=0,M=o.length;y<M;y++){var S=o[y];(!d||d.x!==S.x||d.y!==S.y)&&(h.push(S.x),h.push(S.y),d=S)}var T=function ht(o,s,u){for(var h=!!s,v=[],d=0,y=o.length;d<y;d+=2)v.push([o[d],o[d+1]]);var T,I,F,M=function(o,s,u,h){var d,y,S,C,v=[],M=!!h;if(M){S=[1/0,1/0],C=[-1/0,-1/0];for(var T=0,I=o.length;T<I;T++)S=Se.VV([0,0],S,F=o[T]),C=Se.Fp([0,0],C,F);S=Se.VV([0,0],S,h[0]),C=Se.Fp([0,0],C,h[1])}T=0;for(var k=o.length;T<k;T++){var F=o[T];if(u)d=o[T?T-1:k-1],y=o[(T+1)%k];else{if(0===T||T===k-1){v.push(F);continue}d=o[T-1],y=o[T+1]}var G=[0,0];G=Se.lu(G,y,d),G=Se.bA(G,G,s);var $=Se.TE(F,d),et=Se.TE(F,y),q=$+et;0!==q&&($/=q,et/=q);var bt=Se.bA([0,0],G,-$),Zt=Se.bA([0,0],G,et),Ut=Se.IH([0,0],F,bt),Ht=Se.IH([0,0],F,Zt);M&&(Ut=Se.Fp([0,0],Ut,S),Ut=Se.VV([0,0],Ut,C),Ht=Se.Fp([0,0],Ht,S),Ht=Se.VV([0,0],Ht,C)),v.push(Ut),v.push(Ht)}return u&&v.push(v.shift()),v}(v,.4,h,u),S=v.length,C=[];for(d=0;d<S-1;d++)C.push(["C",(T=M[2*d])[0],T[1],(I=M[2*d+1])[0],I[1],(F=v[d+1])[0],F[1]]);return h&&C.push(["C",(T=M[S])[0],T[1],(I=M[S+1])[0],I[1],(F=v[0])[0],F[1]]),C}(h,s,u||[[0,0],[1,1]]);return T.unshift(["M",v.x,v.y]),T}function St(o){return o?o.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(u){return u.toLowerCase()}).join("-"):o}function Ft(o){var s={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},u=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,P.U2)(o,"fill")&&(s.color=o.fill);var h=zt(o,u),d=h.shadowBlur,y=void 0===d?0:d,M=h.shadowOffsetX,C=h.shadowOffsetY,T=void 0===C?0:C;s["text-shadow"]="".concat([h.shadowColor,"".concat(void 0===M?0:M,"px"),"".concat(T,"px"),"".concat(y,"px")].join(" "));var I=zt(o,u),F=I.stroke,k=I.lineWidth;return s["-webkit-text-stroke"]="".concat(["".concat(void 0===k?0:k,"px"),F].join(" ")),(0,P.S6)(o,function($,et){["fontSize"].includes(et)&&(0,P.hj)($)?s[St(et)]="".concat($,"px"):et&&!u.includes(et)&&(s[St(et)]="".concat($))}),s}function U(o,s){o.style["pointer-events"]="none",(0,P.S6)(s,function(u,h){h&&u&&(o.style[h]=u)})}var H=function(o,s,u){var h=s.statistic,v=s.plotType,d=h.title,y=h.content;[d,y].forEach(function(M,S){if(M){var C;C=0===S?y?"translate(-50%, -100%)":"translate(-50%, -50%)":d?"translate(-50%, 0)":"translate(-50%, -50%)";var T=(0,P.mf)(M.style)?M.style(u):M.style;o.annotation().html((0,B.pi)({position:["50%","50%"],html:function(I,F){var k=F.getCoordinate(),G=0;if("pie"===v||"ring-progress"===v)G=k.getRadius()*k.innerRadius*2;else if("liquid"===v){var $=(0,P.U2)(F.geometries,[0,"elements",0,"shape"]);$&&(G=$.find(function(Ut){return"wrap"===Ut.get("name")}).getCanvasBBox().width)}else G||(G=k.getWidth());U(I,(0,B.pi)({width:"".concat(G,"px"),transform:C},Ft(T)));var bt=F.getData();if(M.customHtml)return M.customHtml(I,F,u,bt);var Zt=M.content;return M.formatter&&(Zt=M.formatter(u,bt)),Zt?(0,P.HD)(Zt)?Zt:"".concat(Zt):"<div></div>"},key:"".concat(0===S?"top":"bottom","-statistic")},zt(M,["offsetX","offsetY","rotate","style","formatter"])))}})},L=function(o,s,u){var h=s.statistic;[h.title,h.content].forEach(function(y){if(y){var M=(0,P.mf)(y.style)?y.style(u):y.style;o.annotation().html((0,B.pi)({position:["50%","100%"],html:function(S,C){var T=C.getCoordinate(),I=C.views[0].getCoordinate(),F=I.getCenter(),k=I.getRadius(),G=Math.max(Math.sin(I.startAngle),Math.sin(I.endAngle))*k,$=F.y+G-T.y.start-parseFloat((0,P.U2)(M,"fontSize",0)),et=T.getRadius()*T.innerRadius*2;U(S,(0,B.pi)({width:"".concat(et,"px"),transform:"translate(-50%, ".concat($,"px)")},Ft(M)));var q=C.getData();if(y.customHtml)return y.customHtml(S,C,u,q);var bt=y.content;return y.formatter&&(bt=y.formatter(u,q)),bt?(0,P.HD)(bt)?bt:"".concat(bt):"<div></div>"}},zt(y,["offsetX","offsetY","rotate","style","formatter"])))}})};function N(o,s){return s?(0,P.u4)(s,function(u,h,v){return u.replace(new RegExp("{\\s*".concat(v,"\\s*}"),"g"),h)},o):o}function _(o,s){return o.views.find(function(u){return u.id===s})}function rt(o){var s=o.parent;return s?s.views:[]}function X(o){return rt(o).filter(function(s){return s!==o})}function dt(o,s,u){void 0===u&&(u=o.geometries),o.animate("boolean"!=typeof s||s),(0,P.S6)(u,function(h){var v;v=(0,P.mf)(s)?s(h.type||h.shapeType,h)||!0:s,h.animate(v)})}function yt(){return"object"==typeof window?window?.devicePixelRatio:2}function Rt(o,s){void 0===s&&(s=o);var u=document.createElement("canvas"),h=yt();return u.width=o*h,u.height=s*h,u.style.width="".concat(o,"px"),u.style.height="".concat(s,"px"),u.getContext("2d").scale(h,h),u}function de(o,s,u,h){void 0===h&&(h=u);var v=s.backgroundColor;o.globalAlpha=s.opacity,o.fillStyle=v,o.beginPath(),o.fillRect(0,0,u,h),o.closePath()}function se(o,s,u){var h=o+s;return u?2*h:h}function Ce(o,s){return s?[[.25*o,.25*o],[.75*o,.75*o]]:[[.5*o,.5*o]]}function we(o,s){var u=s*Math.PI/180;return{a:Math.cos(u)*(1/o),b:Math.sin(u)*(1/o),c:-Math.sin(u)*(1/o),d:Math.cos(u)*(1/o),e:0,f:0}}var ce={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function K(o,s,u,h){var v=s.size,d=s.fill,y=s.lineWidth,M=s.stroke,S=s.fillOpacity;o.beginPath(),o.globalAlpha=S,o.fillStyle=d,o.strokeStyle=M,o.lineWidth=y,o.arc(u,h,v/2,0,2*Math.PI,!1),o.fill(),y&&o.stroke(),o.closePath()}var gt={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};var le={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function ie(o,s,u,h){var v=s.stroke,d=s.size,y=s.fill,M=s.lineWidth;o.globalAlpha=s.fillOpacity,o.strokeStyle=v,o.lineWidth=M,o.fillStyle=y,o.strokeRect(u-d/2,h-d/2,d,d),o.fillRect(u-d/2,h-d/2,d,d)}function Wt(o){var h,u=o.cfg;switch(o.type){case"dot":h=function ot(o){var s=V({},ce,o),v=s.isStagger,d=s.rotation,y=se(s.size,s.padding,v),M=Ce(y,v),S=Rt(y,y),C=S.getContext("2d");de(C,s,y);for(var T=0,I=M;T<I.length;T++){var F=I[T];K(C,s,F[0],F[1])}var $=C.createPattern(S,"repeat");if($){var q=we(yt(),d);$.setTransform(q)}return $}(u);break;case"line":h=function Kt(o){var s=V({},gt,o),u=s.spacing,h=s.rotation,v=s.lineWidth,d=u+v||1,y=u+v||1,M="\n            M 0 0 L ".concat(d," 0\n            M 0 ").concat(y," L ").concat(d," ").concat(y,"\n            "),S=Rt(d,y),C=S.getContext("2d");de(C,s,d,y),function Et(o,s,u){var h=s.stroke,v=s.lineWidth,d=s.strokeOpacity,y=new Path2D(u);o.globalAlpha=d,o.lineCap="square",o.strokeStyle=v?h:"transparent",o.lineWidth=v,o.stroke(y)}(C,s,M);var T=C.createPattern(S,"repeat");if(T){var F=we(yt(),h);T.setTransform(F)}return T}(u);break;case"square":h=function oe(o){var s=V({},le,o),v=s.isStagger,d=s.rotation,y=se(s.size,s.padding,v),M=Ce(y,v),S=Rt(y,y),C=S.getContext("2d");de(C,s,y);for(var T=0,I=M;T<I.length;T++){var F=I[T];ie(C,s,F[0],F[1])}var $=C.createPattern(S,"repeat");if($){var q=we(yt(),d);$.setTransform(q)}return $}(u)}return h}function ge(o){var s=this;return function(u){var h,v=u.options,d=u.chart,y=v.pattern;return y?V({},u,{options:(h={},h[o]=function(S){for(var C,T,I,F=[],k=1;k<arguments.length;k++)F[k-1]=arguments[k];var G=d.getTheme().defaultColor,$=G,et=null===(T=null===(C=d.geometries)||void 0===C?void 0:C[0])||void 0===T?void 0:T.getAttribute("color");if(et){var q=et.getFields()[0],bt=(0,P.U2)(S,q);$=ft.Zr.getMappingValue(et,bt,(null===(I=et.values)||void 0===I?void 0:I[0])||G)}var Zt=y;"function"==typeof y&&(Zt=y.call(s,S,$)),Zt instanceof CanvasPattern||(Zt=Wt(V({},{cfg:{backgroundColor:$}},Zt)));var Ut=v[o];return(0,B.pi)((0,B.pi)({},"function"==typeof Ut?Ut.call.apply(Ut,(0,B.ev)([s,S],F,!1)):Ut||{}),{fill:Zt||$})},h)}):u}}function ue(o){var s=o.chart,u=o.options,h=u.legend,v=u.colorField,d=u.seriesField;return!1===h?s.legend(!1):(v||d)&&s.legend(v||d,h),o}function Te(o){var h=o.options.tooltip;return void 0!==h&&o.chart.tooltip(h),o}function Le(o){var s=o.chart;return(0,P.S6)(o.options.interactions,function(v){!1===v.enable?s.removeInteraction(v.type):s.interaction(v.type,v.cfg||{})}),o}function fe(o){return dt(o.chart,o.options.animation),o}function Me(o){var h=o.options.theme;return h&&o.chart.theme(h),o}function Oe(o){var h=o.options.state;return h&&(0,P.S6)(o.chart.geometries,function(v){v.state(h)}),o}function Re(o){return o.chart.option("slider",o.options.slider),o}function ke(o){return o.chart.option("scrollbar",o.options.scrollbar),o}function Be(o,s){return function(u){var h=u.chart,v=u.options,d={};return(0,P.S6)(o,function(y,M){d[M]=zt(y,Jt)}),d=V({},s,v.meta,d),h.scale(d),u}}function _e(o){return function(s){var h=s.options,v=s.chart.getController("annotation");return(0,P.S6)((0,B.ev)((0,B.ev)([],h.annotations||[],!0),o||[],!0),function(d){v.annotation(d)}),s}}function Ge(o){var s=o.chart,u=o.options,h=u.yAxis,v=u.limitInPlot,d=v;return(0,P.Kn)(h)&&(0,P.UM)(v)&&(d=!!Object.values(zt(h,["min","max","minLimit","maxLimit"])).some(function(y){return!(0,P.UM)(y)})),s.limitInPlot=d,o}function Ze(o){return void 0===o&&(o="rect"),function(s){var u=s.chart,d=Array.from(s.options.coordinate||[]).map(function(y){return"reflectX"===y.type?["reflect","x"]:"reflectY"===y.type?["reflect","y"]:"transpose"===y.type?["transpose"]:null}).filter(function(y){return!!y});return 0!==d.length&&u.coordinate({type:o,actions:d}),s}}var ar={locale:"en-US"},Cr={};function Wr(o,s){Cr[o]=s}function Pr(o){return{get:function(s,u){return N((0,P.U2)(Cr[o],s)||(0,P.U2)(Cr[ar.locale],s)||(0,P.U2)(Cr["en-US"],s)||s,u)}}}function Br(o,s){if(!1===o)return{fields:!1};var u=(0,P.U2)(o,"fields"),h=(0,P.U2)(o,"formatter");return h&&!u&&(u=s),{fields:u,formatter:h}}function li(o,s){var u=o.type,h=o.xField,v=o.yField,d=o.colorField,y=o.shapeField,M=o.sizeField,S=o.styleField,C=o.rawFields,T=[];if(C=((0,P.mf)(C)?C(u,s):C)||[],"color"===s)T=(0,B.ev)([d||h],C,!0);else if("shape"===s)T=(0,B.ev)([y||h],C,!0);else if("size"===s)T=(0,B.ev)([M||h],C,!0);else{T=(0,B.ev)([h,v,d,y,M,S],C,!0);var I=["x","y","color","shape","size","style"].indexOf(s),F=T[I];T.splice(I,1),T.unshift(F)}var k=(0,P.jj)(T.filter(function($){return!!$})),G="line"===u&&[h,v].includes(k.join("*"))?"":k.join("*");return{mappingFields:k,tileMappingField:G}}function Vr(o,s){if(s)return function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var v={};return o.forEach(function(d,y){v[d]=u[y]}),delete v.undefined,s(v)}}function dr(o){var s=o.chart,u=o.options,d=u.mapping,y=u.xField,M=u.yField,S=u.colorField,C=u.shapeField,T=u.sizeField,I=u.tooltipFields,F=u.label,k=u.state,G=u.customInfo;if(!d)return o;var $=d.color,et=d.shape,q=d.size,bt=d.style,Zt=d.tooltip,Ut=s[u.type](u.args).position("".concat(y,"*").concat(M));if((0,P.HD)($))S?Ut.color(S,$):Ut.color($);else if((0,P.mf)($)){var Ht=li(u,"color");Ut.color(Ht.tileMappingField,Vr(Ht.mappingFields,$))}else S&&Ut.color(S,$);if((0,P.HD)(et))C?Ut.shape(C,[et]):Ut.shape(et);else if((0,P.mf)(et)){var He=li(u,"shape");Ut.shape(He.tileMappingField,Vr(He.mappingFields,et))}else C&&Ut.shape(C,et);if((0,P.hj)(q))T?Ut.size(T,q):Ut.size(q);else if((0,P.mf)(q)){var nr=li(u,"size");Ut.size(nr.tileMappingField,Vr(nr.mappingFields,q))}else T&&Ut.size(T,q);if((0,P.mf)(bt)){var qe=li(u,"style");Ut.style(qe.tileMappingField,Vr(qe.mappingFields,bt))}else(0,P.Kn)(bt)&&Ut.style(bt);if(!1===I?Ut.tooltip(!1):(0,P.xb)(I)||Ut.tooltip(I.join("*"),Vr(I,Zt)),!1===F)Ut.label(!1);else if(F){var Ye=F.callback,vr=F.fields,kr=(0,B._T)(F,["callback","fields"]);Ut.label({fields:vr||[M],callback:Ye,cfg:Qt(kr)})}return k&&Ut.state(k),G&&Ut.customInfo(G),[y,M].filter(function(Fr){return Fr!==S}).forEach(function(Fr){s.legend(Fr,!1)}),(0,B.pi)((0,B.pi)({},o),{ext:{geometry:Ut}})}function di(o){var s=o.options,u=s.area,d=s.seriesField,y=s.smooth,S=s.useDeferredLabel,C=Br(s.tooltip,[s.xField,s.yField,d]);return u?dr(V({},o,{options:{type:"area",colorField:d,tooltipFields:C.fields,mapping:(0,P.b$)({shape:y?"smooth":"area",tooltip:C.formatter},u),args:{useDeferredLabel:S}}})):o}function _i(o){var s=o.options,u=s.edge,d=s.seriesField,M=s.useDeferredLabel,S=Br(s.tooltip,[s.xField,s.yField,d]);return u?dr(V({},o,{options:{type:"edge",colorField:d,tooltipFields:S.fields,mapping:(0,B.pi)({tooltip:S.formatter},u),args:{useDeferredLabel:M}}})):o}function Ir(o){var s=o.options,v=s.interval,d=s.seriesField,M=s.minColumnWidth,S=s.maxColumnWidth,C=s.columnBackground,T=s.dodgePadding,I=s.intervalPadding,F=s.useDeferredLabel,k=Br(s.tooltip,[s.xField,s.yField,d]),et=(v?dr(V({},o,{options:{type:"interval",colorField:d,tooltipFields:k.fields,mapping:(0,B.pi)({tooltip:k.formatter},v),args:{dodgePadding:T,intervalPadding:I,minColumnWidth:M,maxColumnWidth:S,background:C,useDeferredLabel:F}}})):o).ext;return function nn(o){var s=o.chart,u=o.options,h=o.ext,v=u.seriesField,y=u.isStack,M=u.marginRatio,S=u.widthRatio,T=u.theme,I=[];if(v&&(u.isGroup&&I.push({type:"dodge",dodgeBy:u.groupField||v,marginRatio:M}),y&&I.push({type:"stack",marginRatio:M})),I.length&&h?.geometry){var F=h?.geometry;F.adjust(I)}return(0,P.UM)(S)||s.theme(V({},(0,P.Kn)(T)?T:(0,ft.gh)(T),{columnWidthRatio:S})),o}((0,B.pi)((0,B.pi)({},o),{ext:et}))}function Ri(o){var s=o.options,u=s.line,h=s.stepType,y=s.seriesField,M=s.smooth,S=s.connectNulls,T=s.useDeferredLabel,I=Br(s.tooltip,[s.xField,s.yField,y]);return u?dr(V({},o,{options:{type:"line",colorField:y,tooltipFields:I.fields,mapping:(0,P.b$)({shape:h||(M?"smooth":"line"),tooltip:I.formatter},u),args:{connectNulls:S,useDeferredLabel:T}}})):o}function Ur(o){var s=o.options,u=s.point,d=s.seriesField,M=s.shapeField,C=s.useDeferredLabel,T=Br(s.tooltip,[s.xField,s.yField,d,s.sizeField,M]);return u?dr(V({},o,{options:{type:"point",colorField:d,shapeField:M,tooltipFields:T.fields,mapping:(0,B.pi)({tooltip:T.formatter},u),args:{useDeferredLabel:C}}})):o}function dn(o){var s=o.options,u=s.polygon,d=s.seriesField,M=s.useDeferredLabel,S=Br(s.tooltip,[s.xField,s.yField,d]);return u?dr(V({},o,{options:{type:"polygon",colorField:d,tooltipFields:S.fields,mapping:(0,B.pi)({tooltip:S.formatter},u),args:{useDeferredLabel:M}}})):o}function Ln(o){var s=o.options,u=s.schema,d=s.seriesField,M=s.useDeferredLabel,S=Br(s.tooltip,[s.xField,s.yField,d]);return u?dr(V({},o,{options:{type:"schema",colorField:d,tooltipFields:S.fields,mapping:(0,B.pi)({tooltip:S.formatter},u),args:{useDeferredLabel:M}}})):o}var Jn=mt(378),za=mt(1909),Qn="data-chart-source-type",gi=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],$e=function(o){function s(u,h){var v=o.call(this)||this;return v.container="string"==typeof u?document.getElementById(u):u,v.options=V({},v.getDefaultOptions(),h),v.createG2(),v.bindEvents(),v}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},s.prototype.createG2=function(){var u=this.options,d=u.defaultInteractions;this.chart=new ft.kL((0,B.pi)((0,B.pi)((0,B.pi)((0,B.pi)({container:this.container,autoFit:!1},this.getChartSize(u.width,u.height)),{localRefresh:!1}),zt(this.options,gi)),{defaultInteractions:d})),this.container.setAttribute(Qn,"G2Plot")},s.prototype.getChartSize=function(u,h){var v=It(this.container);return{width:u||v.width||400,height:h||v.height||400}},s.prototype.bindEvents=function(){var u=this;this.chart&&this.chart.on("*",function(h){h?.type&&u.emit(h.type,h)})},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},s.prototype.update=function(u){this.updateOption(u),this.render()},s.prototype.updateOption=function(u){this.options=V({},this.options,u)},s.prototype.setState=function(u,h,v){void 0===v&&(v=!0);var d=wt(this.chart);(0,P.S6)(d,function(y){h(y.getData())&&y.setState(u,v)})},s.prototype.getStates=function(){var u=wt(this.chart),h=[];return(0,P.S6)(u,function(v){var d=v.getData(),y=v.getStates();(0,P.S6)(y,function(M){h.push({data:d,state:M,geometry:v.geometry,element:v})})}),h},s.prototype.changeData=function(u){this.update({data:u})},s.prototype.changeSize=function(u,h){this.chart.changeSize(u,h)},s.prototype.addAnnotations=function(u,h){h=h||this.chart;var v=(0,B.ev)([],u,!0),d=h.getController("annotation"),y=d.getComponents().map(function(C){return C.extra});d.clear(!0);for(var M=function(C){var T=y[C],I=v.findIndex(function(F){return F.id&&F.id===T.id});-1!==I&&(T=V({},T,v[I]),v.splice(I,1)),d.annotation(T)},S=0;S<y.length;S++)M(S);v.forEach(function(C){return d.annotation(C)}),h.render(!0)},s.prototype.removeAnnotations=function(u){var h=this.chart.getController("annotation"),v=h.getComponents().map(function(M){return M.extra});h.clear(!0);for(var d=function(M){var S=v[M];u.find(function(C){return C.id&&C.id===S.id})||h.annotation(S)},y=0;y<v.length;y++)d(y);this.chart.render(!0)},s.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(Qn)},s.prototype.execAdaptor=function(){var u=this.getSchemaAdaptor(),h=this.options,d=h.appendPadding;this.chart.padding=h.padding,this.chart.appendPadding=d,u({chart:this.chart,options:this.options})},s.prototype.triggerResize=function(){this.chart.forceFit()},s.prototype.bindSizeSensor=function(){var u=this;if(!this.unbind){var h=this.options.autoFit;(void 0===h||h)&&(this.unbind=(0,za.ak)(this.container,function(){var d=It(u.container);(d.width!==u.chart.width||d.height!==u.chart.height)&&u.triggerResize()}))}},s.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},s}(Jn.Z);function gn(o,s,u,h){var v=(0,P.u4)(o,function(d,y){var M=y[u],S=d.has(M)?d.get(M):0,C=y[s];return S=O(C)?S+C:S,d.set(M,S),d},new Map);return(0,P.UI)(o,function(d){var y,M=d[s],S=d[u],C=O(M)&&0!==v.get(S)?M/v.get(S):0;return(0,B.pi)((0,B.pi)({},d),((y={})[h]=C,y))})}function bi(o,s,u,h,v){return v?gn(o,s,u,h):o}function ta(o){var s=o.chart,u=o.options,h=u.data,v=u.color,d=u.lineStyle,y=u.lineShape,M=u.point,S=u.area,C=u.seriesField,T=M?.state,I=S?.state;s.data(h);var F=V({},o,{options:{shapeField:C,line:{color:v,style:d,shape:y},point:M&&(0,B.pi)({color:v,shape:"circle"},M),area:S&&(0,B.pi)({color:v},S),label:void 0}}),k=V({},F,{options:{tooltip:!1,state:T}}),G=V({},F,{options:{tooltip:!1,state:I}});return Ri(F),Ur(k),di(G),o}function Jr(o){var s,u,h=o.options,d=h.yAxis,y=h.xField,M=h.yField,S=h.data;return pt(Be(((s={})[y]=h.xAxis,s[M]=d,s),((u={})[y]={type:"cat"},u[M]=pe(S,M),u)))(o)}function Ai(o){var s=o.chart,h=o.options.reflect;if(h){var v=h;(0,P.kJ)(v)||(v=[v]);var d=v.map(function(y){return["reflect",y]});s.coordinate({type:"rect",actions:d})}return o}function kn(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,y=u.yField;return s.axis(u.xField,!1!==h&&h),s.axis(y,!1!==v&&v),o}function Ua(o){var s=o.chart,u=o.options,h=u.legend,v=u.seriesField;return h&&v?s.legend(v,h):!1===h&&s.legend(!1),o}function nt(o){var u=o.options,h=u.label,v=u.yField,d=re(o.chart,"line");if(h){var y=h.callback,M=(0,B._T)(h,["callback"]);d.label({fields:[v],callback:y,cfg:(0,B.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Qt(M))})}else d.label(!1);return o}function Z(o){return o.options.isStack&&(0,P.S6)(o.chart.geometries,function(v){v.adjust("stack")}),o}function ut(o){return pt(ta,Jr,Z,Me,Ai,kn,Ua,Te,nt,Re,ke,Le,fe,_e(),Ge)(o)}function At(o){var s=o.chart,u=o.options,h=u.data,v=u.areaStyle,d=u.areaShape,y=u.color,M=u.point,S=u.line,C=u.isPercent,T=u.xField,I=u.yField,F=u.tooltip,k=u.seriesField,G=u.startOnZero,$=M?.state,et=bi(h,I,T,I,C);s.data(et);var q=C?(0,B.pi)({formatter:function(Ht){return{name:Ht[k]||Ht[T],value:(100*Number(Ht[I])).toFixed(2)+"%"}}},F):F,bt=V({},o,{options:{area:{color:y,style:v,shape:d},point:M&&(0,B.pi)({color:y},M),tooltip:q,label:void 0,args:{startOnZero:G}}}),Zt={chart:s,options:V({line:{size:2}},(0,P.CE)(u,["state"]),{line:S&&(0,B.pi)({color:y},S),sizeField:k,state:S?.state,tooltip:!1,label:void 0,args:{startOnZero:G}})},Ut=V({},bt,{options:{tooltip:!1,state:$}});return di(bt),Ri(Zt),Ur(Ut),o}function qt(o){var u=o.options,h=u.label,v=u.yField,d=re(o.chart,"area");if(h){var y=h.callback,M=(0,B._T)(h,["callback"]);d.label({fields:[v],callback:y,cfg:(0,B.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Qt(M))})}else d.label(!1);return o}function Ee(o){var u=o.options;return(u.isPercent||u.isStack)&&u.seriesField&&(0,P.S6)(o.chart.geometries,function(y){y.adjust("stack")}),o}function Pe(o){return pt(Me,ge("areaStyle"),Ze("rect"),At,Jr,Ee,kn,Ua,Te,qt,Re,_e(),Le,fe,Ge)(o)}var Ie=V({},$e.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),tr=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="area",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Ie},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.changeData=function(u){this.updateOption({data:u});var h=this.options,v=h.isPercent,d=h.xField,y=h.yField;Jr({chart:this.chart,options:this.options}),this.chart.changeData(bi(u,y,d,y,v))},s.prototype.getSchemaAdaptor=function(){return Pe},s}($e),ui={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},Ni=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.buttonGroup=null,u.buttonCfg=(0,B.pi)({name:"button"},ui),u}return(0,B.ZT)(s,o),s.prototype.getButtonCfg=function(){var h=(0,P.U2)(this.context.view,["interactions","filter-action","cfg","buttonConfig"]);return V(this.buttonCfg,h,this.cfg)},s.prototype.drawButton=function(){var u=this.getButtonCfg(),h=this.context.view.foregroundGroup.addGroup({name:u.name}),v=this.drawText(h);this.drawBackground(h,v.getBBox()),this.buttonGroup=h},s.prototype.drawText=function(u){var h,v=this.getButtonCfg();return u.addShape({type:"text",name:"button-text",attrs:(0,B.pi)({text:v.text},null===(h=v.textStyle)||void 0===h?void 0:h.default)})},s.prototype.drawBackground=function(u,h){var v,d=this.getButtonCfg(),y=Dt(d.padding),M=u.addShape({type:"rect",name:"button-rect",attrs:(0,B.pi)({x:h.x-y[3],y:h.y-y[0],width:h.width+y[1]+y[3],height:h.height+y[0]+y[2]},null===(v=d.buttonStyle)||void 0===v?void 0:v.default)});return M.toBack(),u.on("mouseenter",function(){var S;M.attr(null===(S=d.buttonStyle)||void 0===S?void 0:S.active)}),u.on("mouseleave",function(){var S;M.attr(null===(S=d.buttonStyle)||void 0===S?void 0:S.default)}),M},s.prototype.resetPosition=function(){var v=this.context.view.getCoordinate().convert({x:1,y:1}),d=this.buttonGroup,y=d.getBBox(),M=ft.Zr.transform(null,[["t",v.x-y.width-10,v.y+y.height+5]]);d.setMatrix(M)},s.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},s.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},s.prototype.destroy=function(){var u=this.buttonGroup;u&&u.remove(),o.prototype.destroy.call(this)},s}(ft.aU);function Sr(o){return o.isInPlot()}function Zr(o,s,u){var h=u||{},v=h.mask,d=h.isStartEnable,y=s||"rect";switch(o){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:d||Sr,action:["brush:start","".concat(y,"-mask:start"),"".concat(y,"-mask:show")],arg:[null,{maskStyle:v?.style}]}],processing:[{trigger:"mousemove",isEnable:Sr,action:["".concat(y,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Sr,action:["brush:filter","brush:end","".concat(y,"-mask:end"),"".concat(y,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(M){return!!d&&!d(M)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:d||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:d||function(M){return!M.isInShape("mask")},action:["".concat(y,"-mask:start"),"".concat(y,"-mask:show")],arg:[{maskStyle:v?.style}]},{trigger:"mask:dragstart",action:["".concat(y,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(y,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(y,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(y,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(y,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(M){return!M.isInPlot()},action:["element-range-highlight:clear","".concat(y,"-mask:end"),"".concat(y,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(y,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:d||Sr,action:["brush-x:start","".concat(y,"-mask:start"),"".concat(y,"-mask:show")],arg:[null,{maskStyle:v?.style}]}],processing:[{trigger:"mousemove",isEnable:Sr,action:["".concat(y,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Sr,action:["brush-x:filter","brush-x:end","".concat(y,"-mask:end"),"".concat(y,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:d||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:d||function(M){return!M.isInShape("mask")},action:["".concat(y,"-mask:start"),"".concat(y,"-mask:show")],arg:[{maskStyle:v?.style}]},{trigger:"mask:dragstart",action:["".concat(y,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(y,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(y,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(y,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(y,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(M){return!M.isInPlot()},action:["element-range-highlight:clear","".concat(y,"-mask:end"),"".concat(y,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(y,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:d||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:d||Sr,action:["brush-y:start","".concat(y,"-mask:start"),"".concat(y,"-mask:show")],arg:[null,{maskStyle:v?.style}]}],processing:[{trigger:"mousemove",isEnable:Sr,action:["".concat(y,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:Sr,action:["brush-y:filter","brush-y:end","".concat(y,"-mask:end"),"".concat(y,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}(0,ft.zl)("brush-reset-button",Ni,{name:"brush-reset-button"}),(0,ft.w_)("filter-action",{}),(0,ft.w_)("brush",Zr("brush")),(0,ft.w_)("brush-highlight",Zr("brush-highlight")),(0,ft.w_)("brush-x",Zr("brush-x","x-rect")),(0,ft.w_)("brush-y",Zr("brush-y","y-rect")),(0,ft.w_)("brush-x-highlight",Zr("brush-x-highlight","x-rect")),(0,ft.w_)("brush-y-highlight",Zr("brush-y-highlight","y-rect"));var Pn=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function ea(o){var s=o.options,u=s.brush,h=(0,P.hX)(s.interactions||[],function(v){return-1===Pn.indexOf(v.type)});return u?.enabled&&(Pn.forEach(function(v){var d=!1;switch(u.type){case"x-rect":d=v===("highlight"===u.action?"brush-x-highlight":"brush-x");break;case"y-rect":d=v===("highlight"===u.action?"brush-y-highlight":"brush-y");break;default:d=v===("highlight"===u.action?"brush-highlight":"brush")}var y={type:v,enable:d};u&&(y.cfg=Zr(v,u.type,u)),h.push(y)}),"highlight"!==u?.action&&h.push({type:"filter-action",cfg:{buttonConfig:u.button}})),V({},o,{options:{interactions:h}})}var an={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},Ga=function(o,s){return"hover"===o?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:s}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:s}]}]};function _o(o,s){return!(0,P.hj)(o)||!(0,P.hj)(s)||0===o&&0===s?"-":o===s?"100%":0===o?"\u221e":"".concat((100*s/o).toFixed(2),"%")}function ra(o,s){return V({size:s?32:80,spacing:s?8:12,offset:s?32:0,arrow:!1!==o.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==o.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:_o}},o)}function Dn(o,s){return(0,P.UI)(s.getModel().points,function(u){return o.convertPoint(u)})}function Qs(o){var s=o.options,u=s.legend;return s.seriesField?!1!==u&&(u=(0,B.pi)({position:s.isStack?"right-top":"top-left"},u)):u=!1,o.options.legend=u,o}function zo(o){var s=o.chart,u=o.options,h=u.data,v=u.columnStyle,d=u.color,y=u.columnWidthRatio,M=u.isPercent,S=u.isGroup,C=u.isStack,T=u.xField,I=u.yField,F=u.seriesField,k=u.groupField,G=u.tooltip,$=u.shape,et=M&&S&&C?function Va(o,s,u,h){var v=(0,P.u4)(o,function(d,y){var M=(0,P.u4)(u,function(T,I){return"".concat(T).concat(y[I])},""),S=d.has(M)?d.get(M):0,C=y[s];return S=O(C)?S+C:S,d.set(M,S),d},new Map);return(0,P.UI)(o,function(d){var y,M=d[s],S=(0,P.u4)(u,function(T,I){return"".concat(T).concat(d[I])},""),C=O(M)&&0!==v.get(S)?M/v.get(S):0;return(0,B.pi)((0,B.pi)({},d),((y={})[h]=C,y))})}(h,I,[T,k],I):bi(h,I,T,I,M),q=[];C&&F&&!S?et.forEach(function(Ut){var Ht=q.find(function(Ae){return Ae[T]===Ut[T]&&Ae[F]===Ut[F]});Ht?Ht[I]+=Ut[I]||0:q.push((0,B.pi)({},Ut))}):q=et,s.data(q);var bt=M?(0,B.pi)({formatter:function(Ut){var Ht;return{name:S&&C?"".concat(Ut[F]," - ").concat(Ut[k]):null!==(Ht=Ut[F])&&void 0!==Ht?Ht:Ut[T],value:(100*Number(Ut[I])).toFixed(2)+"%"}}},G):G,Zt=V({},o,{options:{data:q,widthRatio:y,tooltip:bt,interval:{shape:$,style:v,color:d}}});return Ir(Zt),Zt}function ia(o){var s,u,h=o.options,d=h.yAxis,y=h.xField,M=h.yField,S=h.data,T=h.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return pt(Be(((s={})[y]=h.xAxis,s[M]=d,s),((u={})[y]={type:"cat"},u[M]=(0,B.pi)((0,B.pi)({},pe(S,M)),T),u)))(o)}function na(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,y=u.yField;return s.axis(u.xField,!1!==h&&h),s.axis(y,!1!==v&&v),o}function yi(o){var s=o.chart,u=o.options,h=u.legend,v=u.seriesField;return h&&v?s.legend(v,h):!1===h&&s.legend(!1),o}function yn(o){var u=o.options,h=u.label,v=u.yField,d=u.isRange,y=re(o.chart,"interval");if(h){var M=h.callback,S=(0,B._T)(h,["callback"]);y.label({fields:[v],callback:M,cfg:(0,B.pi)({layout:S?.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Qt(d?(0,B.pi)({content:function(C){var T;return null===(T=C[v])||void 0===T?void 0:T.join("-")}},S):S))})}else y.label(!1);return o}function mn(o){var s=o.chart,u=o.options,h=u.tooltip,v=u.isGroup,d=u.isStack,y=u.groupField,M=u.data,S=u.xField,C=u.yField,T=u.seriesField;if(!1===h)s.tooltip(!1);else{var I=h;if(v&&d){var F=I.customItems,k=I?.formatter||function(G){return{name:"".concat(G[T]," - ").concat(G[y]),value:G[C]}};I=(0,B.pi)((0,B.pi)({},I),{customItems:function(G){var $=[];return(0,P.S6)(G,function(et){(0,P.hX)(M,function(bt){return(0,P.BD)(bt,zt(et.data,[S,T]))}).forEach(function(bt){$.push((0,B.pi)((0,B.pi)((0,B.pi)({},et),{value:bt[C],data:bt,mappingData:{_origin:bt}}),k(bt)))})}),F?F($):$}})}s.tooltip(I)}return o}function Qr(o,s){void 0===s&&(s=!1);var u=o.options,h=u.seriesField;return pt(Qs,Me,ge("columnStyle"),Oe,Ze("rect"),zo,ia,na,yi,mn,Re,ke,yn,ea,Le,fe,_e(),function No(o,s,u){return void 0===s&&(s=!0),void 0===u&&(u=!1),function(h){var v=h.options,d=h.chart,y=v.conversionTag,M=v.theme;return y&&!u&&(d.theme(V({},(0,P.Kn)(M)?M:(0,ft.gh)(M),{columnWidthRatio:1/3})),d.annotation().shape({render:function(S,C){var T=S.addGroup({id:"".concat(d.id,"-conversion-tag-group"),name:"conversion-tag-group"}),I=(0,P.sE)(d.geometries,function(G){return"interval"===G.type}),F={view:C,geometry:I,group:T,field:o,horizontal:s,options:ra(y,s)},k=I.elements;(0,P.S6)(k,function(G,$){$>0&&function Cu(o,s,u){(function Ro(o,s,u){var h=o.view,v=o.geometry,d=o.group,y=o.options,M=o.horizontal,S=y.offset,C=y.size,T=y.arrow,I=h.getCoordinate(),F=Dn(I,s)[3],k=Dn(I,u)[0],G=k.y-F.y,$=k.x-F.x;if("boolean"!=typeof T){var bt,et=T.headSize,q=y.spacing;M?($-et)/2<q?(q=Math.max(1,($-et)/2),bt=[[F.x+q,F.y-S],[F.x+q,F.y-S-C],[k.x-q,k.y-S-C/2]]):bt=[[F.x+q,F.y-S],[F.x+q,F.y-S-C],[k.x-q-et,k.y-S-C],[k.x-q,k.y-S-C/2],[k.x-q-et,k.y-S]]:(G-et)/2<q?(q=Math.max(1,(G-et)/2),bt=[[F.x+S,F.y+q],[F.x+S+C,F.y+q],[k.x+S+C/2,k.y-q]]):bt=[[F.x+S,F.y+q],[F.x+S+C,F.y+q],[k.x+S+C,k.y-q-et],[k.x+S+C/2,k.y-q],[k.x+S,k.y-q-et]],d.addShape("polygon",{id:"".concat(h.id,"-conversion-tag-arrow-").concat(v.getElementId(s.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:s,nextElement:u},attrs:(0,B.pi)((0,B.pi)({},T.style||{}),{points:bt})})}})(o,s,u),function Js(o,s,u){var h,v,d,y=o.view,M=o.geometry,S=o.group,C=o.options,T=o.field,I=o.horizontal,F=C.offset,k=C.size;if("boolean"!=typeof C.text){var G=y.getCoordinate(),$=(null===(h=C.text)||void 0===h?void 0:h.formatter)&&(null===(v=C.text)||void 0===v?void 0:v.formatter(s.getData()[T],u.getData()[T])),et=Dn(G,s)[I?3:0],q=Dn(G,u)[I?0:3],bt=S.addShape("text",{id:"".concat(y.id,"-conversion-tag-text-").concat(M.getElementId(s.getModel().mappingData)),name:"conversion-tag-text",origin:{element:s,nextElement:u},attrs:(0,B.pi)((0,B.pi)({},(null===(d=C.text)||void 0===d?void 0:d.style)||{}),{text:$,x:I?(et.x+q.x)/2:et.x+F+k/2,y:I?et.y-F-k/2:(et.y+q.y)/2})});if(I){var Zt=q.x-et.x,Ut=bt.getBBox().width;if(Ut>Zt){var Ae=Math.max(1,Math.ceil(Zt/(Ut/$.length))-1),Ne="".concat($.slice(0,Ae),"...");bt.attr("text",Ne)}}}}(o,s,u)}(F,k[$-1],G)})}})),h}}(u.yField,!s,!!h),function Bo(o){return void 0===o&&(o=!1),function(s){var u=s.chart,v=s.options.connectedArea,d=function(){u.removeInteraction(an.hover),u.removeInteraction(an.click)};if(!o&&v){var y=v.trigger||"hover";d(),u.interaction(an[y],{start:Ga(y,v.style)})}else d();return s}}(!u.isStack),Ge)(o)}function On(o){var s=o.options,u=s.xField,h=s.yField,v=s.xAxis,d=s.yAxis,y={left:"bottom",right:"top",top:"left",bottom:"right"},M=!1!==d&&(0,B.pi)({position:y[d?.position||"left"]},d),S=!1!==v&&(0,B.pi)({position:y[v?.position||"bottom"]},v);return(0,B.pi)((0,B.pi)({},o),{options:(0,B.pi)((0,B.pi)({},s),{xField:h,yField:u,xAxis:M,yAxis:S})})}function Vo(o){var u=o.options.label;return u&&!u.position&&(u.position="left",u.layout||(u.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),V({},o,{options:{label:u}})}function Bn(o){var s=o.options,v=s.legend;return s.seriesField?!1!==v&&(v=(0,B.pi)({position:s.isStack?"top-left":"right-top"},v||{})):v=!1,V({},o,{options:{legend:v}})}function Uo(o){var u=[{type:"transpose"},{type:"reflectY"}].concat(o.options.coordinate||[]);return V({},o,{options:{coordinate:u}})}function tl(o){var u=o.options,h=u.barStyle,v=u.barWidthRatio,d=u.minBarWidth,y=u.maxBarWidth,M=u.barBackground;return Qr({chart:o.chart,options:(0,B.pi)((0,B.pi)({},u),{columnStyle:h,columnWidthRatio:v,minColumnWidth:d,maxColumnWidth:y,columnBackground:M})},!0)}function Ha(o){return pt(On,Vo,Bn,Te,Uo,tl)(o)}(0,ft.w_)(an.hover,{start:Ga(an.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),(0,ft.w_)(an.click,{start:Ga(an.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var Ti,el=V({},$e.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),aa=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="bar",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return el},s.prototype.changeData=function(u){var h,v;this.updateOption({data:u});var y=this.chart,M=this.options,S=M.isPercent,C=M.xField,T=M.yField,I=M.xAxis,F=M.yAxis;C=(h=[T,C])[0],T=h[1],I=(v=[F,I])[0],F=v[1],ia({chart:y,options:(0,B.pi)((0,B.pi)({},M),{xField:C,yField:T,yAxis:F,xAxis:I})}),y.changeData(bi(u,C,T,C,S))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Ha},s}($e),bu=V({},$e.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Ya=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="column",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return bu},s.prototype.changeData=function(u){this.updateOption({data:u});var h=this.options,v=h.yField,d=h.xField,y=h.isPercent;ia({chart:this.chart,options:this.options}),this.chart.changeData(bi(u,v,d,v,y))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Qr},s}($e),Rr="$$percentage$$",zi="$$mappingValue$$",Ei="$$conversion$$",Go="$$totalPercentage$$",on="$$x$$",_n="$$y$$",Au={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Ti={},Ti[zi]={min:0,max:1,nice:!1},Ti),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},Ho="CONVERSION_TAG_NAME";function Xa(o,s,u){var v=u.yField,d=u.maxSize,y=u.minSize,M=(0,P.U2)((0,P.UT)(s,v),[v]),S=(0,P.hj)(d)?d:1,C=(0,P.hj)(y)?y:0;return(0,P.UI)(o,function(T,I){var F=(T[v]||0)/M;return T[Rr]=F,T[zi]=(S-C)*F+C,T[Ei]=[(0,P.U2)(o,[I-1,v]),T[v]],T})}function Wa(o){return function(s){var u=s.chart,h=s.options,v=h.conversionTag,y=h.filteredData||u.getOptions().data;if(v){var M=v.formatter;y.forEach(function(S,C){if(!(C<=0||Number.isNaN(S[zi]))){var T=o(S,C,y,{top:!0,name:Ho,text:{content:(0,P.mf)(M)?M(S,y):M,offsetX:v.offsetX,offsetY:v.offsetY,position:"end",autoRotate:!1,style:(0,B.pi)({textAlign:"start",textBaseline:"middle"},v.style)}});u.annotation().line(T)}})}return s}}function rl(o){var s=o.chart,u=o.options,h=u.data,v=void 0===h?[]:h,S=Xa(v,v,{yField:u.yField,maxSize:u.maxSize,minSize:u.minSize});return s.data(S),o}function oa(o){var s=o.chart,u=o.options,h=u.xField,d=u.color,M=u.label,S=u.shape,C=void 0===S?"funnel":S,T=u.funnelStyle,I=u.state,F=Br(u.tooltip,[h,u.yField]),k=F.fields,G=F.formatter;return dr({chart:s,options:{type:"interval",xField:h,yField:zi,colorField:h,tooltipFields:(0,P.kJ)(k)&&k.concat([Rr,Ei]),mapping:{shape:C,tooltip:G,color:d,style:T},label:M,state:I}}),re(o.chart,"interval").adjust("symmetric"),o}function Yo(o){return o.chart.coordinate({type:"rect",actions:o.options.isTransposed?[]:[["transpose"],["scale",1,-1]]}),o}function Xo(o){var u=o.chart,h=o.options.maxSize,v=(0,P.U2)(u,["geometries","0","dataArray"],[]),d=(0,P.U2)(u,["options","data","length"]),y=(0,P.UI)(v,function(S){return(0,P.U2)(S,["0","nextPoints","0","x"])*d-.5});return Wa(function(S,C,T,I){var F=h-(h-S[zi])/2;return(0,B.pi)((0,B.pi)({},I),{start:[y[C-1]||C-.5,F],end:[y[C-1]||C-.5,F+.05]})})(o),o}function Za(o){return pt(rl,oa,Yo,Xo)(o)}function $a(o){var s,u=o.chart,h=o.options,v=h.data,y=h.yField;return u.data(void 0===v?[]:v),u.scale(((s={})[y]={sync:!0},s)),o}function Fi(o){var u=o.options,h=u.data,v=u.xField,d=u.yField,y=u.color,M=u.compareField,S=u.isTransposed,C=u.tooltip,T=u.maxSize,I=u.minSize,F=u.label,k=u.funnelStyle,G=u.state;return o.chart.facet("mirror",{fields:[M],transpose:!S,padding:S?0:[32,0,0,0],showTitle:u.showFacetTitle,eachView:function(et,q){var bt=S?q.rowIndex:q.columnIndex;S||et.coordinate({type:"rect",actions:[["transpose"],["scale",0===bt?-1:1,-1]]});var Zt=Xa(q.data,h,{yField:d,maxSize:T,minSize:I});et.data(Zt);var Ut=Br(C,[v,d,M]),Ht=Ut.fields,Ae=Ut.formatter,Ne=S?{offset:0===bt?10:-23,position:0===bt?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===bt?"end":"start"}};dr({chart:et,options:{type:"interval",xField:v,yField:zi,colorField:v,tooltipFields:(0,P.kJ)(Ht)&&Ht.concat([Rr,Ei]),mapping:{shape:"funnel",tooltip:Ae,color:y,style:k},label:!1!==F&&V({},Ne,F),state:G}})}}),o}function Wo(o){var s=o.chart,u=o.index,h=o.options,v=h.conversionTag,d=h.isTransposed;((0,P.hj)(u)?[s]:s.views).forEach(function(y,M){var S=(0,P.U2)(y,["geometries","0","dataArray"],[]),C=(0,P.U2)(y,["options","data","length"]),T=(0,P.UI)(S,function(F){return(0,P.U2)(F,["0","nextPoints","0","x"])*C-.5});Wa(function(F,k,G,$){return V({},$,{start:[T[k-1]||k-.5,F[zi]],end:[T[k-1]||k-.5,F[zi]+.05],text:d?{style:{textAlign:"start"}}:{offsetX:!1!==v?(0===(u||M)?-1:1)*v.offsetX:0,style:{textAlign:0===(u||M)?"end":"start"}}})})(V({},{chart:y,options:h}))})}function il(o){return o.chart.once("beforepaint",function(){return Wo(o)}),o}function sa(o){var s=o.chart,u=o.options,h=u.data,v=void 0===h?[]:h,d=u.yField,y=(0,P.u4)(v,function(C,T){return C+(T[d]||0)},0),M=(0,P.UT)(v,d)[d],S=(0,P.UI)(v,function(C,T){var I=[],F=[];if(C[Go]=(C[d]||0)/y,T){var k=v[T-1][on],G=v[T-1][_n];I[0]=k[3],F[0]=G[3],I[1]=k[2],F[1]=G[2]}else I[0]=-.5,F[0]=1,I[1]=.5,F[1]=1;return F[2]=F[1]-C[Go],I[2]=(F[2]+1)/4,F[3]=F[2],I[3]=-I[2],C[on]=I,C[_n]=F,C[Rr]=(C[d]||0)/M,C[Ei]=[(0,P.U2)(v,[T-1,d]),C[d]],C});return s.data(S),o}function ja(o){var s=o.chart,u=o.options,h=u.xField,d=u.color,M=u.label,S=u.funnelStyle,C=u.state,T=Br(u.tooltip,[h,u.yField]),I=T.fields,F=T.formatter;return dr({chart:s,options:{type:"polygon",xField:on,yField:_n,colorField:h,tooltipFields:(0,P.kJ)(I)&&I.concat([Rr,Ei]),label:M,state:C,mapping:{tooltip:F,color:d,style:S}}}),o}function $o(o){return o.chart.coordinate({type:"rect",actions:o.options.isTransposed?[["transpose"],["reflect","x"]]:[]}),o}function jo(o){return Wa(function(u,h,v,d){return(0,B.pi)((0,B.pi)({},d),{start:[u[on][1],u[_n][1]],end:[u[on][1]+.05,u[_n][1]]})})(o),o}function la(o){var s,u=o.chart,h=o.options,v=h.data,y=h.yField;return u.data(void 0===v?[]:v),u.scale(((s={})[y]={sync:!0},s)),o}function ua(o){var u=o.options;return o.chart.facet("rect",{fields:[u.seriesField],padding:[u.isTransposed?0:32,10,0,10],showTitle:u.showFacetTitle,eachView:function(y,M){Za(V({},o,{chart:y,options:{data:M.data}}))}}),o}var Ko=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.rendering=!1,u}return(0,B.ZT)(s,o),s.prototype.change=function(u){var h=this;if(!this.rendering){var d=u.compareField,y=d?Wo:Xo,M=this.context.view;(0,P.UI)(u.seriesField||d?M.views:[M],function(C,T){var I=C.getController("annotation"),F=(0,P.hX)((0,P.U2)(I,["option"],[]),function(G){return G.name!==Ho});I.clear(!0),(0,P.S6)(F,function(G){"object"==typeof G&&C.annotation()[G.type](G)});var k=(0,P.U2)(C,["filteredData"],C.getOptions().data);y({chart:C,index:T,options:(0,B.pi)((0,B.pi)({},u),{filteredData:Xa(k,k,u)})}),C.filterData(k),h.rendering=!0,C.render(!0)})}this.rendering=!1},s}(ft.aU),ha="funnel-conversion-tag",R="funnel-afterrender",vt={trigger:"afterrender",action:"".concat(ha,":change")};function Ct(o){var T,s=o.options,u=s.compareField,h=s.xField,v=s.yField,y=s.funnelStyle,M=s.data,S=Pr(s.locale);return(u||y)&&(T=function(I){return V({},u&&{lineWidth:1,stroke:"#fff"},(0,P.mf)(y)?y(I):y)}),V({options:{label:u?{fields:[h,v,u,Rr,Ei],formatter:function(I){return"".concat(I[v])}}:{fields:[h,v,Rr,Ei],offset:0,position:"middle",formatter:function(I){return"".concat(I[h]," ").concat(I[v])}},tooltip:{title:h,formatter:function(I){return{name:I[h],value:I[v]}}},conversionTag:{formatter:function(I){return"".concat(S.get(["conversionTag","label"]),": ").concat(_o.apply(void 0,I[Ei]))}}}},o,{options:{funnelStyle:T,data:(0,P.d9)(M)}})}function Bt(o){var s=o.options,u=s.compareField,h=s.dynamicHeight;return s.seriesField?function ca(o){return pt(la,ua)(o)}(o):u?function Zo(o){return pt($a,Fi,il)(o)}(o):h?function qo(o){return pt(sa,ja,$o,jo)(o)}(o):Za(o)}function he(o){var s,u=o.options,v=u.yAxis,y=u.yField;return pt(Be(((s={})[u.xField]=u.xAxis,s[y]=v,s)))(o)}function De(o){return o.chart.axis(!1),o}function We(o){var h=o.options.legend;return o.chart.legend(!1!==h&&h),o}function gr(o){var s=o.chart,u=o.options,v=u.dynamicHeight;return(0,P.S6)(u.interactions,function(d){!1===d.enable?s.removeInteraction(d.type):s.interaction(d.type,d.cfg||{})}),v?s.removeInteraction(R):s.interaction(R,{start:[(0,B.pi)((0,B.pi)({},vt),{arg:u})]}),o}function $r(o){return pt(Ct,Bt,he,De,Te,gr,We,fe,Me,_e())(o)}(0,ft.zl)(ha,Ko),(0,ft.w_)(R,{start:[vt]});var ti,ci=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="funnel",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Au},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return $r},s.prototype.setState=function(u,h,v){void 0===v&&(v=!0);var d=wt(this.chart);(0,P.S6)(d,function(y){h(y.getData())&&y.setState(u,v)})},s.prototype.getStates=function(){var u=wt(this.chart),h=[];return(0,P.S6)(u,function(v){var d=v.getData(),y=v.getStates();(0,P.S6)(y,function(M){h.push({data:d,state:M,geometry:v.geometry,element:v})})}),h},s.CONVERSATION_FIELD=Ei,s.PERCENT_FIELD=Rr,s.TOTAL_PERCENT_FIELD=Go,s}($e),Rn="range",Tu="type",sn="percent",If="#f0f0f0",Eu="indicator-view",Fu="range-view",Lf={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(ti={},ti[Rn]={sync:"v"},ti[sn]={sync:"v",tickCount:5,tickInterval:.2},ti),animation:!1};function Lu(o){var s;return[(s={},s[sn]=(0,P.uZ)(o,0,1),s)]}function ku(o,s){var u=(0,P.U2)(s,["ticks"],[]),h=(0,P.dp)(u)?(0,P.jj)(u):[0,(0,P.uZ)(o,0,1),1];return h[0]||h.shift(),function Iu(o,s){return o.map(function(u,h){var v;return(v={})[Rn]=u-(o[h-1]||0),v[Tu]="".concat(h),v[sn]=s,v})}(h,o)}function kf(o){var s=o.chart,u=o.options,h=u.percent,v=u.range,d=u.radius,y=u.innerRadius,M=u.startAngle,S=u.endAngle,C=u.axis,T=u.indicator,I=u.gaugeStyle,F=u.type,k=u.meter,G=v.color,$=v.width;if(T){var et=Lu(h),q=s.createView({id:Eu});q.data(et),q.point().position("".concat(sn,"*1")).shape(T.shape||"gauge-indicator").customInfo({defaultColor:s.getTheme().defaultColor,indicator:T}),q.coordinate("polar",{startAngle:M,endAngle:S,radius:y*d}),q.axis(sn,C),q.scale(sn,zt(C,Jt))}var bt=ku(h,u.range),Zt=s.createView({id:Fu});Zt.data(bt);var Ut=(0,P.HD)(G)?[G,If]:G;return Ir({chart:Zt,options:{xField:"1",yField:Rn,seriesField:Tu,rawFields:[sn],isStack:!0,interval:{color:Ut,style:I,shape:"meter"===F?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:$,maxColumnWidth:$}}).ext.geometry.customInfo({meter:k}),Zt.coordinate("polar",{innerRadius:y,radius:d,startAngle:M,endAngle:S}).transpose(),o}function Pf(o){var s;return pt(Be(((s={range:{min:0,max:1,maxLimit:1,minLimit:0}})[sn]={},s)))(o)}function Pu(o,s){var u=o.chart,h=o.options,v=h.statistic,d=h.percent;if(u.getController("annotation").clear(!0),v){var y=v.content,M=void 0;y&&(M=V({},{content:"".concat((100*d).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},y)),L(u,{statistic:(0,B.pi)((0,B.pi)({},v),{content:M})},{percent:d})}return s&&u.render(!0),o}function Df(o){var h=o.options.tooltip;return o.chart.tooltip(!!h&&V({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(v,d){var y=(0,P.U2)(d,[0,"data",sn],0);return"".concat((100*y).toFixed(2),"%")}},h)),o}function Jo(o){return o.chart.legend(!1),o}function Du(o){return pt(Me,fe,kf,Pf,Df,Pu,Le,_e(),Jo)(o)}(0,ft.Fj)("point","gauge-indicator",{draw:function(o,s){var u=o.customInfo,h=u.indicator,v=u.defaultColor,y=h.pointer,M=h.pin,S=s.addGroup(),C=this.parsePoint({x:0,y:0});return y&&S.addShape("line",{name:"pointer",attrs:(0,B.pi)({x1:C.x,y1:C.y,x2:o.x,y2:o.y,stroke:v},y.style)}),M&&S.addShape("circle",{name:"pin",attrs:(0,B.pi)({x:C.x,y:C.y,stroke:v},M.style)}),S}}),(0,ft.Fj)("interval","meter-gauge",{draw:function(o,s){var u=o.customInfo.meter,h=void 0===u?{}:u,v=h.steps,d=void 0===v?50:v,y=h.stepRatio,M=void 0===y?.5:y;d=d<1?1:d,M=(0,P.uZ)(M,0,1);var S=this.coordinate,C=S.startAngle,I=0;M>0&&M<1&&(I=(S.endAngle-C)/d/(M/(1-M)+1-1/d));for(var k=I/(1-M)*M,G=s.addGroup(),$=this.coordinate.getCenter(),et=this.coordinate.getRadius(),q=ft.Zr.getAngle(o,this.coordinate),Zt=q.endAngle,Ut=q.startAngle;Ut<Zt;){var Ht=void 0,Ae=(Ut-C)%(k+I);Ht=Ae<k?Ut+(k-Ae):(Ut+=k+I-Ae)+k;var Ne=ft.Zr.getSectorPath($.x,$.y,et,Ut,Math.min(Ht,Zt),et*this.coordinate.innerRadius);G.addShape("path",{name:"meter-gauge",attrs:{path:Ne,fill:o.color,stroke:o.color,lineWidth:.5}}),Ut=Ht+I}return G}});var Qo=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="gauge",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Lf},s.prototype.changeData=function(u){this.chart.emit(ft.ld.BEFORE_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:u});var h=this.chart.views.find(function(d){return d.id===Eu});h&&h.data(Lu(u));var v=this.chart.views.find(function(d){return d.id===Fu});v&&v.data(ku(u,this.options.range)),Pu({chart:this.chart,options:this.options},!0),this.chart.emit(ft.ld.AFTER_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.AFTER_CHANGE_DATA,null))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Du},s}($e);function Ou(o,s,u){if(1===u)return[0,s];var h=Math.floor(o/s);return[s*h,s*(h+1)]}function Bu(o,s,u,h,v){var d=(0,P.d9)(o);(0,P.MR)(d,s);var y=(0,P.I)(d,s),M=(0,P.rx)(y),S=M.max-M.min,C=u;if(!u&&h&&(C=h>1?S/(h-1):M.max),!u&&!h){var T=function Of(o){return Math.ceil(Math.log(o.length)/Math.LN2)+1}(y);C=S/T}var I={},F=(0,P.vM)(d,v);(0,P.xb)(F)?(0,P.S6)(d,function(G){var et=Ou(G[s],C,h),q="".concat(et[0],"-").concat(et[1]);(0,P.wH)(I,q)||(I[q]={range:et,count:0}),I[q].count+=1}):Object.keys(F).forEach(function(G){(0,P.S6)(F[G],function($){var q=Ou($[s],C,h),bt="".concat(q[0],"-").concat(q[1]),Zt="".concat(bt,"-").concat(G);(0,P.wH)(I,Zt)||(I[Zt]={range:q,count:0},I[Zt][v]=G),I[Zt].count+=1})});var k=[];return(0,P.S6)(I,function(G){k.push(G)}),k}var ts="range",qa="count",Bf=V({},$e.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function _u(o){var s=o.chart,u=o.options,M=u.color,S=u.stackField,C=u.legend,T=u.columnStyle,I=Bu(u.data,u.binField,u.binWidth,u.binNumber,S);return s.data(I),Ir(V({},o,{options:{xField:ts,yField:qa,seriesField:S,isStack:!0,interval:{color:M,style:T}}})),C&&S?s.legend(S,C):s.legend(!1),o}function Ru(o){var s,u=o.options,v=u.yAxis;return pt(Be(((s={})[ts]=u.xAxis,s[qa]=v,s)))(o)}function Ka(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis;return s.axis(ts,!1!==h&&h),s.axis(qa,!1!==v&&v),o}function Nu(o){var h=o.options.label,v=re(o.chart,"interval");if(h){var d=h.callback,y=(0,B._T)(h,["callback"]);v.label({fields:[qa],callback:d,cfg:Qt(y)})}else v.label(!1);return o}function zu(o){return pt(Me,ge("columnStyle"),_u,Ru,Ka,Oe,Nu,Te,Le,fe)(o)}var Jg=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="histogram",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Bf},s.prototype.changeData=function(u){this.updateOption({data:u});var h=this.options;this.chart.changeData(Bu(u,h.binField,h.binWidth,h.binNumber,h.stackField))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return zu},s}($e),Qg=V({},$e.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),t0=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.active=function(){var u=this.getView(),h=this.context.event;if(h.data){var v=h.data.items,d=u.geometries.filter(function(y){return"point"===y.type});(0,P.S6)(d,function(y){(0,P.S6)(y.elements,function(M){var S=-1!==(0,P.cx)(v,function(C){return C.data===M.data});M.setState("active",S)})})}},s.prototype.reset=function(){var h=this.getView().geometries.filter(function(v){return"point"===v.type});(0,P.S6)(h,function(v){(0,P.S6)(v.elements,function(d){d.setState("active",!1)})})},s.prototype.getView=function(){return this.context.view},s}(ft.Mx);(0,ft.zl)("marker-active",t0),(0,ft.w_)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var e0=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="line",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Qg},s.prototype.changeData=function(u){this.updateOption({data:u}),Jr({chart:this.chart,options:this.options}),this.chart.changeData(u)},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return ut},s}($e),_f=V({},$e.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),r0=[1,0,0,0,1,0,0,0,1];function Vu(o,s){var u=(0,B.ev)([],s||r0,!0);return ft.Zr.transform(u,o)}var i0=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.getActiveElements=function(){var u=ft.Zr.getDelegationObject(this.context);if(u){var h=this.context.view,d=u.item,y=u.component.get("field");if(y)return h.geometries[0].elements.filter(function(S){return S.getModel().data[y]===d.value})}return[]},s.prototype.getActiveElementLabels=function(){var u=this.context.view,h=this.getActiveElements();return u.geometries[0].labelsContainer.getChildren().filter(function(d){return h.find(function(y){return(0,P.Xy)(y.getData(),d.get("data"))})})},s.prototype.transfrom=function(u){void 0===u&&(u=7.5);var h=this.getActiveElements(),v=this.getActiveElementLabels();h.forEach(function(d,y){var M=v[y],S=d.geometry.coordinate;if(S.isPolar&&S.isTransposed){var C=ft.Zr.getAngle(d.getModel(),S),F=(C.startAngle+C.endAngle)/2,k=u,G=k*Math.cos(F),$=k*Math.sin(F);d.shape.setMatrix(Vu([["t",G,$]])),M.setMatrix(Vu([["t",G,$]]))}})},s.prototype.active=function(){this.transfrom()},s.prototype.reset=function(){this.transfrom(0)},s}(ft.aU),a0=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.getAnnotations=function(u){return(u||this.context.view).getController("annotation").option},s.prototype.getInitialAnnotation=function(){return this.initialAnnotation},s.prototype.init=function(){var u=this,h=this.context.view;h.removeInteraction("tooltip"),h.on("afterchangesize",function(){var v=u.getAnnotations(h);u.initialAnnotation=v})},s.prototype.change=function(u){var h=this.context,v=h.view,d=h.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var y=(0,P.U2)(d,["data","data"]);if(d.type.match("legend-item")){var M=ft.Zr.getDelegationObject(this.context),S=v.getGroupedFields()[0];if(M&&S){var C=M.item;y=v.getData().find(function(k){return k[S]===C.value})}}if(y){var T=(0,P.U2)(u,"annotations",[]),I=(0,P.U2)(u,"statistic",{});v.getController("annotation").clear(!0),(0,P.S6)(T,function(k){"object"==typeof k&&v.annotation()[k.type](k)}),H(v,{statistic:I,plotType:"pie"},y),v.render(!0)}var F=function n0(o){var u,h=o.event.target;return h&&(u=h.get("element")),u}(this.context);F&&F.shape.toFront()},s.prototype.reset=function(){var u=this.context.view;u.getController("annotation").clear(!0);var v=this.getInitialAnnotation();(0,P.S6)(v,function(d){u.annotation()[d.type](d)}),u.render(!0)},s}(ft.aU),Rf="pie-statistic";function s0(o,s){var u;switch(o){case"inner":return u="-30%",(0,P.HD)(s)&&s.endsWith("%")?.01*parseFloat(s)>0?u:s:s<0?s:u;case"outer":return u=12,(0,P.HD)(s)&&s.endsWith("%")?.01*parseFloat(s)<0?u:s:s>0?s:u;default:return s}}function nl(o,s){return(0,P.yW)(p(o,s),function(u){return 0===u[s]})}function l0(o){var s=o.chart,u=o.options,v=u.angleField,d=u.colorField,y=u.color,M=u.pieStyle,S=u.shape,C=p(u.data,v);if(nl(C,v)){var T="$$percentage$$";C=C.map(function(F){var k;return(0,B.pi)((0,B.pi)({},F),((k={})[T]=1/C.length,k))}),s.data(C),Ir(V({},o,{options:{xField:"1",yField:T,seriesField:d,isStack:!0,interval:{color:y,shape:S,style:M},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else s.data(C),Ir(V({},o,{options:{xField:"1",yField:v,seriesField:d,isStack:!0,interval:{color:y,shape:S,style:M},args:{zIndexReversed:!0,sortZIndex:!0}}}));return o}function u0(o){var s,u=o.chart,h=o.options,d=h.colorField,y=V({},h.meta);return u.scale(y,((s={})[d]={type:"cat"},s)),o}function c0(o){var u=o.options;return o.chart.coordinate({type:"theta",cfg:{radius:u.radius,innerRadius:u.innerRadius,startAngle:u.startAngle,endAngle:u.endAngle}}),o}function h0(o){var s=o.chart,u=o.options,h=u.label,v=u.colorField,d=u.angleField,y=s.geometries[0];if(h){var M=h.callback,C=Qt((0,B._T)(h,["callback"]));if(C.content){var T=C.content;C.content=function(G,$,et){var q=G[v],bt=G[d],Zt=s.getScaleByField(d),Ut=Zt?.scale(bt);return(0,P.mf)(T)?T((0,B.pi)((0,B.pi)({},G),{percent:Ut}),$,et):(0,P.HD)(T)?N(T,{value:bt,name:q,percentage:(0,P.hj)(Ut)&&!(0,P.UM)(bt)?"".concat((100*Ut).toFixed(2),"%"):null}):T}}var F=C.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[C.type]:"pie-outer",k=C.layout?(0,P.kJ)(C.layout)?C.layout:[C.layout]:[];C.layout=(F?[{type:F}]:[]).concat(k),y.label({fields:v?[d,v]:[d],callback:M,cfg:(0,B.pi)((0,B.pi)({},C),{offset:s0(C.type,C.offset),type:"pie"})})}else y.label(!1);return o}function Nf(o){var s=o.innerRadius,u=o.statistic,h=o.angleField,v=o.colorField,d=o.meta,M=Pr(o.locale);if(s&&u){var S=V({},_f.statistic,u),C=S.title,T=S.content;return!1!==C&&(C=V({},{formatter:function(I){var F=I?I[v]:(0,P.UM)(C.content)?M.get(["statistic","total"]):C.content;return((0,P.U2)(d,[v,"formatter"])||function(G){return G})(F)}},C)),!1!==T&&(T=V({},{formatter:function(I,F){var k=I?I[h]:function o0(o,s){var u=null;return(0,P.S6)(o,function(h){"number"==typeof h[s]&&(u+=h[s])}),u}(F,h),G=(0,P.U2)(d,[h,"formatter"])||function($){return $};return I||(0,P.UM)(T.content)?G(k):T.content}},T)),V({},{statistic:{title:C,content:T}},o)}return o}function zf(o){var s=o.chart,h=Nf(o.options),v=h.innerRadius,d=h.statistic;return s.getController("annotation").clear(!0),pt(_e())(o),v&&d&&H(s,{statistic:d,plotType:"pie"}),o}function f0(o){var s=o.chart,u=o.options,h=u.tooltip,v=u.colorField,d=u.angleField,y=u.data;if(!1===h)s.tooltip(h);else if(s.tooltip(V({},h,{shared:!1})),nl(y,d)){var M=(0,P.U2)(h,"fields"),S=(0,P.U2)(h,"formatter");(0,P.xb)((0,P.U2)(h,"fields"))&&(M=[v,d],S=S||function(C){return{name:C[v],value:(0,P.BB)(C[d])}}),s.geometries[0].tooltip(M.join("*"),Vr(M,S))}return o}function v0(o){var s=o.chart,h=Nf(o.options),d=h.statistic,y=h.annotations;return(0,P.S6)(h.interactions,function(M){var S,C;if(!1===M.enable)s.removeInteraction(M.type);else if("pie-statistic-active"===M.type){var T=[];!(null===(S=M.cfg)||void 0===S)&&S.start||(T=[{trigger:"element:mouseenter",action:"".concat(Rf,":change"),arg:{statistic:d,annotations:y}}]),(0,P.S6)(null===(C=M.cfg)||void 0===C?void 0:C.start,function(I){T.push((0,B.pi)((0,B.pi)({},I),{arg:{statistic:d,annotations:y}}))}),s.interaction(M.type,V({},M.cfg,{start:T}))}else s.interaction(M.type,M.cfg||{})}),o}function Uu(o){return pt(ge("pieStyle"),l0,u0,Me,c0,ue,f0,h0,Oe,zf,v0,fe)(o)}(0,ft.zl)(Rf,a0),(0,ft.w_)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),(0,ft.zl)("pie-legend",i0),(0,ft.w_)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var Vf=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="pie",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return _f},s.prototype.changeData=function(u){this.chart.emit(ft.ld.BEFORE_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.BEFORE_CHANGE_DATA,null));var v=this.options.angleField,d=p(this.options.data,v),y=p(u,v);nl(d,v)||nl(y,v)?this.update({data:u}):(this.updateOption({data:u}),this.chart.data(y),zf({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(ft.ld.AFTER_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.AFTER_CHANGE_DATA,null))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Uu},s}($e),Uf=["#FAAD14","#E8EDF3"],p0={percent:.2,color:Uf,animation:{}};function Gu(o){var s=(0,P.uZ)(O(o)?o:0,0,1);return[{current:"".concat(s),type:"current",percent:s},{current:"".concat(s),type:"target",percent:1}]}function Gf(o){var s=o.chart,u=o.options,v=u.progressStyle,d=u.color,y=u.barWidthRatio;return s.data(Gu(u.percent)),Ir(V({},o,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:y,interval:{style:v,color:(0,P.HD)(d)?[d,Uf[1]]:d},args:{zIndexReversed:!0,sortZIndex:!0}}})),s.tooltip(!1),s.axis(!1),s.legend(!1),o}function d0(o){return o.chart.coordinate("rect").transpose(),o}function fa(o){return pt(Gf,Be({}),d0,fe,Me,_e())(o)}var Hf=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="process",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return p0},s.prototype.changeData=function(u){this.updateOption({percent:u}),this.chart.changeData(Gu(u))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return fa},s}($e);function g0(o){var u=o.options;return o.chart.coordinate("theta",{innerRadius:u.innerRadius,radius:u.radius}),o}function Yf(o,s){var u=o.chart,h=o.options,v=h.innerRadius,d=h.statistic,y=h.percent,M=h.meta;if(u.getController("annotation").clear(!0),v&&d){var S=(0,P.U2)(M,["percent","formatter"])||function(T){return"".concat((100*T).toFixed(2),"%")},C=d.content;C&&(C=V({},C,{content:(0,P.UM)(C.content)?S(y):C.content})),H(u,{statistic:(0,B.pi)((0,B.pi)({},d),{content:C}),plotType:"ring-progress"},{percent:y})}return s&&u.render(!0),o}function Xf(o){return pt(Gf,Be({}),g0,Yf,fe,Me,_e())(o)}var y0={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Wf=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="ring-process",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return y0},s.prototype.changeData=function(u){this.chart.emit(ft.ld.BEFORE_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:u}),this.chart.data(Gu(u)),Yf({chart:this.chart,options:this.options},!0),this.chart.emit(ft.ld.AFTER_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.AFTER_CHANGE_DATA,null))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Xf},s}($e),va=mt(5066),m0={exp:va.regressionExp,linear:va.regressionLinear,loess:va.regressionLoess,log:va.regressionLog,poly:va.regressionPoly,pow:va.regressionPow,quad:va.regressionQuad},w0=function(o,s){var u=s.view,h=s.options,d=h.yField,y=u.getScaleByField(h.xField),M=u.getScaleByField(d);return j(o.map(function(C){return u.getCoordinate().convert({x:y.scale(C[0]),y:M.scale(C[1])})}),!1)},M0=function(o){var T,s=o.options,u=s.xField,h=s.yField,v=s.data,d=s.regressionLine,y=d.type,M=void 0===y?"linear":y,S=d.algorithm,C=d.equation,I=null;return S?(T=(0,P.kJ)(S)?S:S(v),I=C):I=function C0(o,s){var u,h,v,y=function(C){return Number.isFinite(C)?function(C,T){return void 0===T&&(T=4),Math.round(C*Math.pow(10,T))/Math.pow(10,T)}(C):"?"};switch(o){case"linear":return"y = ".concat(y(s.a),"x + ").concat(y(s.b),", R^2 = ").concat(y(s.rSquared));case"exp":return"y = ".concat(y(s.a),"e^(").concat(y(s.b),"x), R^2 = ").concat(y(s.rSquared));case"log":return"y = ".concat(y(s.a),"ln(x) + ").concat(y(s.b),", R^2 = ").concat(y(s.rSquared));case"quad":return"y = ".concat(y(s.a),"x^2 + ").concat(y(s.b),"x + ").concat(y(s.c),", R^2 = ").concat(y(s.rSquared));case"poly":for(var M="y = ".concat(y(null===(u=s.coefficients)||void 0===u?void 0:u[0])," + ").concat(y(null===(h=s.coefficients)||void 0===h?void 0:h[1]),"x + ").concat(y(null===(v=s.coefficients)||void 0===v?void 0:v[2]),"x^2"),S=3;S<s.coefficients.length;++S)M+=" + ".concat(y(s.coefficients[S]),"x^").concat(S);return"".concat(M,", R^2 = ").concat(y(s.rSquared));case"pow":return"y = ".concat(y(s.a),"x^").concat(y(s.b),", R^2 = ").concat(y(s.rSquared))}return null}(M,T=m0[M]().x(function(k){return k[u]}).y(function(k){return k[h]})(v)),[w0(T,o),I]},S0=function(o){var s,u=o.meta,h=void 0===u?{}:u,v=o.xField,d=o.yField,y=o.data,M=y[0][v],S=y[0][d],C=M>0,T=S>0;function I(F,k){var G=(0,P.U2)(h,[F]);function $(q){return(0,P.U2)(G,q)}var et={};return"x"===k?((0,P.hj)(M)&&((0,P.hj)($("min"))||(et.min=C?0:2*M),(0,P.hj)($("max"))||(et.max=C?2*M:0)),et):((0,P.hj)(S)&&((0,P.hj)($("min"))||(et.min=T?0:2*S),(0,P.hj)($("max"))||(et.max=T?2*S:0)),et)}return(0,B.pi)((0,B.pi)({},h),((s={})[v]=(0,B.pi)((0,B.pi)({},h[v]),I(v,"x")),s[d]=(0,B.pi)((0,B.pi)({},h[d]),I(d,"y")),s))};function Zf(o){var s=o.data,u=void 0===s?[]:s,h=o.xField,v=o.yField;if(u.length){for(var d=!0,y=!0,M=u[0],S=void 0,C=1;C<u.length&&(M[h]!==(S=u[C])[h]&&(d=!1),M[v]!==S[v]&&(y=!1),d||y);C++)M=S;var T=[];d&&T.push(h),y&&T.push(v);var I=zt(S0(o),T);return V({},o,{meta:I})}return o}function b0(o){var s=o.chart,u=o.options,h=u.data,v=u.type,d=u.color,y=u.shape,M=u.pointStyle,S=u.shapeField,C=u.colorField,T=u.xField,I=u.yField,F=u.sizeField,k=u.size,G=u.tooltip;F&&(k||(k=[2,8]),(0,P.hj)(k)&&(k=[k,k])),G&&!G.fields&&(G=(0,B.pi)((0,B.pi)({},G),{fields:[T,I,C,F,S]})),s.data(h),Ur(V({},o,{options:{seriesField:C,point:{color:d,shape:y,size:k,style:M},tooltip:G}}));var $=re(s,"point");return v&&$.adjust(v),o}function al(o){var s,u=o.options,h=u.xAxis,v=u.yAxis,d=u.xField,y=u.yField,M=Zf(u);return pt(Be(((s={})[d]=h,s[y]=v,s)))(V({},o,{options:M}))}function A0(o){var s=o.chart,u=o.options,v=u.yAxis,y=u.yField;return s.axis(u.xField,u.xAxis),s.axis(y,v),o}function $f(o){var s=o.chart,u=o.options,h=u.legend,v=u.colorField,d=u.shapeField,y=u.sizeField,M=u.shapeLegend,S=u.sizeLegend,C=!1!==h;return v&&s.legend(v,!!C&&h),d&&s.legend(d,M||!1!==M&&h),y&&s.legend(y,S||!1),!C&&!M&&!S&&s.legend(!1),o}function Mr(o){var u=o.options,h=u.label,v=u.yField,d=re(o.chart,"point");if(h){var y=h.callback,M=(0,B._T)(h,["callback"]);d.label({fields:[v],callback:y,cfg:Qt(M)})}else d.label(!1);return o}function jf(o){var u=o.options.quadrant,h=[];if(u){var v=u.xBaseline,d=void 0===v?0:v,y=u.yBaseline,M=void 0===y?0:y,S=u.labels,C=u.regionStyle,T=u.lineStyle,I=function x0(o,s){var u=10;return{regionStyle:[{position:{start:[o,"max"],end:["max",s]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[o,s]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",s],end:[o,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[o,s],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",s],offsetX:-u,offsetY:-u,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",s],offsetX:u,offsetY:-u,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",s],offsetX:u,offsetY:u,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",s],offsetX:-u,offsetY:u,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(d,M);new Array(4).join(",").split(",").forEach(function(k,G){h.push((0,B.pi)((0,B.pi)({type:"region",top:!1},I.regionStyle[G].position),{style:V({},I.regionStyle[G].style,C?.[G])}),(0,B.pi)({type:"text",top:!0},V({},I.labelStyle[G],S?.[G])))}),h.push({type:"line",top:!1,start:["min",M],end:["max",M],style:V({},I.lineStyle,T)},{type:"line",top:!1,start:[d,"min"],end:[d,"max"],style:V({},I.lineStyle,T)})}return pt(_e(h))(o)}function ol(o){var s=o.options,u=o.chart,h=s.regressionLine;if(h){var v=h.style,d=h.equationStyle,y=void 0===d?{}:d,M=h.top,S=void 0!==M&&M,C=h.showEquation,T=void 0!==C&&C,I={stroke:"#9ba29a",lineWidth:2,opacity:.5},F={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};u.annotation().shape({top:S,render:function(k,G){var $=k.addGroup({id:"".concat(u.id,"-regression-line"),name:"regression-line-group"}),et=M0({view:G,options:s}),bt=et[1];$.addShape("path",{name:"regression-line",attrs:(0,B.pi)((0,B.pi)({path:et[0]},I),v)}),T&&$.addShape("text",{name:"regression-equation",attrs:(0,B.pi)((0,B.pi)((0,B.pi)({},F),y),{text:bt})})}})}return o}function qf(o){var s=o.chart,h=o.options.tooltip;return h?s.tooltip(h):!1===h&&s.tooltip(!1),o}function sl(o){return pt(b0,al,A0,$f,qf,Mr,ea,Re,ke,Le,jf,fe,Me,ol)(o)}var cr=V({},$e.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});(0,ft.w_)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var Kf=function(o){function s(u,h){var v=o.call(this,u,h)||this;return v.type="scatter",v.on(ft.ld.BEFORE_RENDER,function(d){var y,M,C=v.options,T=v.chart;if((null===(y=d.data)||void 0===y?void 0:y.source)===ft.xC.FILTER){var I=v.chart.filterData(v.chart.getData());al({chart:T,options:(0,B.pi)((0,B.pi)({},C),{data:I})})}(null===(M=d.data)||void 0===M?void 0:M.source)===ft.xC.RESET&&al({chart:T,options:C})}),v}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return cr},s.prototype.changeData=function(u){this.updateOption(Zf(V({},this.options,{data:u}))),al({chart:this.chart,options:this.options}),this.chart.changeData(u)},s.prototype.getSchemaAdaptor=function(){return sl},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s}($e),Ja="$$stock-range$$",es="trend",Hu="up",ll="down",rs=V({},$e.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(o,s,u){var h;if("x"===o){var v=u[0];h=v?v.title:s}else h=s;return{position:"y"===o?"start":"end",content:h,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function ul(o,s){return(0,P.UI)(o,function(u){var h=u&&(0,B.pi)({},u);if((0,P.kJ)(s)&&h){var v=s[0],d=s[1],y=s[2],M=s[3];h[es]=h[v]<=h[d]?Hu:ll,h[Ja]=[h[v],h[d],h[y],h[M]]}return h})}function Yu(o){var u=o.options,h=u.yField,d=u.risingFill,y=u.fallingFill,M=u.tooltip,S=u.stockStyle;o.chart.data(ul(u.data,h));var C=M;return!1!==C&&(C=V({},{fields:h},C)),Ln(V({},o,{options:{schema:{shape:"candle",color:[d,y],style:S},yField:Ja,seriesField:es,rawFields:h,tooltip:C}})),o}function Nn(o){var s,u,h=o.chart,v=o.options,d=v.meta,y=v.xAxis,M=v.yAxis,S=v.xField,C=((s={})[S]={type:"timeCat",tickCount:6},s[es]={values:[Hu,ll]},s),T=V(C,d,((u={})[S]=zt(y,Jt),u[Ja]=zt(M,Jt),u));return h.scale(T),o}function cl(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis;return s.axis(u.xField,!1!==h&&h),s.axis(Ja,!1!==v&&v),o}function Qf(o){var h=o.options.tooltip;return o.chart.tooltip(!1!==h&&h),o}function is(o){var s=o.chart,h=o.options.legend;return h?s.legend(es,h):!1===h&&s.legend(!1),o}function Xu(o){pt(Me,Yu,Nn,cl,Qf,is,Le,fe,_e(),Re)(o)}var Wu=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="stock",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return rs},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Xu},s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(ul(u,this.options.yField))},s}($e);function ln(o){return(0,P.UI)(o||[],function(s,u){return{x:"".concat(u),y:s}})}var xn="x",wn="y",Zu={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(o,s){return"".concat((0,P.U2)(s,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},Qa={appendPadding:2,tooltip:(0,B.pi)({},Zu),animation:{}};function tv(o){var s=o.chart,u=o.options,h=u.data,v=u.color,d=u.areaStyle,y=u.point,M=u.line,S=y?.state,C=ln(h);s.data(C);var T=V({},o,{options:{xField:xn,yField:wn,area:{color:v,style:d},line:M,point:y}}),I=V({},T,{options:{tooltip:!1}}),F=V({},T,{options:{tooltip:!1,state:S}});return di(T),Ri(I),Ur(F),s.axis(!1),s.legend(!1),o}function Xi(o){var s,u,h=o.options,v=h.xAxis,d=h.yAxis,M=ln(h.data);return pt(Be(((s={})[xn]=v,s[wn]=d,s),((u={})[xn]={type:"cat"},u[wn]=pe(M,wn),u)))(o)}function Mn(o){return pt(ge("areaStyle"),tv,Xi,Te,Me,fe,_e())(o)}var pa={appendPadding:2,tooltip:(0,B.pi)({},Zu),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},$u=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="tiny-area",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return pa},s.prototype.changeData=function(u){this.updateOption({data:u});var v=this.chart;Xi({chart:v,options:this.options}),v.changeData(ln(u))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Mn},s}($e);function T0(o){var s=o.chart,u=o.options,v=u.color,d=u.columnStyle,y=u.columnWidthRatio,M=ln(u.data);return s.data(M),Ir(V({},o,{options:{xField:xn,yField:wn,widthRatio:y,interval:{style:d,color:v}}})),s.axis(!1),s.legend(!1),s.interaction("element-active"),o}function to(o){return pt(Me,ge("columnStyle"),T0,Xi,Te,fe,_e())(o)}var E0={appendPadding:2,tooltip:(0,B.pi)({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(o,s){return"".concat((0,P.U2)(s,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},hl=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="tiny-column",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return E0},s.prototype.changeData=function(u){this.updateOption({data:u});var v=this.chart;Xi({chart:v,options:this.options}),v.changeData(ln(u))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return to},s}($e);function rv(o){var s=o.chart,u=o.options,h=u.data,v=u.color,d=u.lineStyle,y=u.point,M=y?.state,S=ln(h);s.data(S);var C=V({},o,{options:{xField:xn,yField:wn,line:{color:v,style:d},point:y}}),T=V({},C,{options:{tooltip:!1,state:M}});return Ri(C),Ur(T),s.axis(!1),s.legend(!1),o}function ai(o){return pt(rv,Xi,Me,Te,fe,_e())(o)}var ju=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="tiny-line",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Qa},s.prototype.changeData=function(u){this.updateOption({data:u});var v=this.chart;Xi({chart:v,options:this.options}),v.changeData(ln(u))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return ai},s}($e),iv={line:ut,pie:Uu,column:Qr,bar:Ha,area:Pe,gauge:Du,"tiny-line":ai,"tiny-column":to,"tiny-area":Mn,"ring-progress":Xf,progress:fa,scatter:sl,histogram:zu,funnel:$r,stock:Xu},nv={line:e0,pie:Vf,column:Ya,bar:aa,area:tr,gauge:Qo,"tiny-line":ju,"tiny-column":hl,"tiny-area":$u,"ring-progress":Wf,progress:Hf,scatter:Kf,histogram:Jg,funnel:ci,stock:Wu},qu={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function un(o,s,u){var h=nv[o];h?(0,iv[o])({chart:s,options:V({},h.getDefaultOptions(),(0,P.U2)(qu,o,{}),u)}):console.error("could not find ".concat(o," plot"))}function av(o){var s=o.chart,u=o.options,v=u.legend;return(0,P.S6)(u.views,function(d){var M=d.data,S=d.meta,C=d.axes,T=d.coordinate,I=d.interactions,F=d.annotations,k=d.tooltip,G=d.geometries,$=s.createView({region:d.region});$.data(M);var et={};C&&(0,P.S6)(C,function(q,bt){et[bt]=zt(q,Jt)}),et=V({},S,et),$.scale(et),C?(0,P.S6)(C,function(q,bt){$.axis(bt,q)}):$.axis(!1),$.coordinate(T),(0,P.S6)(G,function(q){var bt=dr({chart:$,options:q}).ext,Zt=q.adjust;Zt&&bt.geometry.adjust(Zt)}),(0,P.S6)(I,function(q){!1===q.enable?$.removeInteraction(q.type):$.interaction(q.type,q.cfg)}),(0,P.S6)(F,function(q){$.annotation()[q.type]((0,B.pi)({},q))}),"boolean"==typeof d.animation?$.animate(!1):($.animate(!0),(0,P.S6)($.geometries,function(q){q.animate(d.animation)})),k&&($.interaction("tooltip"),$.tooltip(k))}),v?(0,P.S6)(v,function(d,y){s.legend(y,d)}):s.legend(!1),s.tooltip(u.tooltip),o}function ov(o){var s=o.chart,u=o.options,v=u.data,d=void 0===v?[]:v;return(0,P.S6)(u.plots,function(y){var M=y.type,S=y.region,C=y.options,T=void 0===C?{}:C,F=T.tooltip;if(y.top)un(M,s,(0,B.pi)((0,B.pi)({},T),{data:d}));else{var k=s.createView((0,B.pi)({region:S},zt(T,gi)));F&&k.interaction("tooltip"),un(M,k,(0,B.pi)({data:d},T))}}),o}function sv(o){return o.chart.option("slider",o.options.slider),o}function jr(o){return pt(fe,av,ov,Le,fe,Me,Te,sv,_e())(o)}var zn=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.getAssociationItems=function(u,h){var v,d=this.context.event,y=h||{},M=y.linkField,S=y.dim,C=[];if(null!==(v=d.data)&&void 0!==v&&v.data){var T=d.data.data;(0,P.S6)(u,function(I){var F,k,G=M;if("x"===S?G=I.getXScale().field:"y"===S?G=null===(F=I.getYScales().find(function(et){return et.field===G}))||void 0===F?void 0:F.field:G||(G=null===(k=I.getGroupScales()[0])||void 0===k?void 0:k.field),G){var $=(0,P.UI)(me(I),function(et){var q=!1,bt=!1,Zt=(0,P.kJ)(T)?(0,P.U2)(T[0],G):(0,P.U2)(T,G);return function fl(o,s){var h=o.getModel().data;return(0,P.kJ)(h)?h[0][s]:h[s]}(et,G)===Zt?q=!0:bt=!0,{element:et,view:I,active:q,inactive:bt}});C.push.apply(C,$)}})}return C},s.prototype.showTooltip=function(u){var h=X(this.context.view),v=this.getAssociationItems(h,u);(0,P.S6)(v,function(d){if(d.active){var y=d.element.shape.getCanvasBBox();d.view.showTooltip({x:y.minX+y.width/2,y:y.minY+y.height/2})}})},s.prototype.hideTooltip=function(){var u=X(this.context.view);(0,P.S6)(u,function(h){h.hideTooltip()})},s.prototype.active=function(u){var h=rt(this.context.view),v=this.getAssociationItems(h,u);(0,P.S6)(v,function(d){d.active&&d.element.setState("active",!0)})},s.prototype.selected=function(u){var h=rt(this.context.view),v=this.getAssociationItems(h,u);(0,P.S6)(v,function(d){d.active&&d.element.setState("selected",!0)})},s.prototype.highlight=function(u){var h=rt(this.context.view),v=this.getAssociationItems(h,u);(0,P.S6)(v,function(d){d.inactive&&d.element.setState("inactive",!0)})},s.prototype.reset=function(){var u=rt(this.context.view);(0,P.S6)(u,function(h){!function lv(o){var s=me(o);(0,P.S6)(s,function(u){u.hasState("active")&&u.setState("active",!1),u.hasState("selected")&&u.setState("selected",!1),u.hasState("inactive")&&u.setState("inactive",!1)})}(h)})},s}(ft.aU);(0,ft.zl)("association",zn),(0,ft.w_)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,ft.w_)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,ft.w_)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),(0,ft.w_)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var uv=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="mix",u}return(0,B.ZT)(s,o),s.prototype.getSchemaAdaptor=function(){return jr},s}($e),Wi=(()=>((Wi=Wi||{}).DEV="DEV",Wi.BETA="BETA",Wi.STABLE="STABLE",Wi))();Object.defineProperty(function o(){},"MultiView",{get:function(){return function cv(o,s){console.warn(o===Wi.DEV?"Plot '".concat(s,"' is in DEV stage, just give us issues."):o===Wi.BETA?"Plot '".concat(s,"' is in BETA stage, DO NOT use it in production env."):o===Wi.STABLE?"Plot '".concat(s,"' is in STABLE stage, import it by \"import { ").concat(s," } from '@antv/g2plot'\"."):"invalid Stage type.")}(Wi.STABLE,"MultiView"),uv},enumerable:!1,configurable:!0});var Zi="first-axes-view",Ii="second-axes-view",Vn="series-field-key";function hv(o,s,u,h,v){var d=[];s.forEach(function(I){h.forEach(function(F){var k,G=((k={})[o]=F[o],k[u]=I,k[I]=F[I],k);d.push(G)})});var y=Object.values((0,P.vM)(d,u)),M=y[0],S=void 0===M?[]:M,C=y[1],T=void 0===C?[]:C;return v?[S.reverse(),T.reverse()]:[S,T]}function mi(o){return"vertical"!==o}function ns(o,s,u){var T,h=s[0],v=s[1],d=h.autoPadding,y=v.autoPadding,M=o.__axisPosition,S=M.layout,C=M.position;mi(S)&&"top"===C&&(h.autoPadding=u.instance(d.top,0,d.bottom,d.left),v.autoPadding=u.instance(y.top,d.left,y.bottom,0)),mi(S)&&"bottom"===C&&(h.autoPadding=u.instance(d.top,d.right/2+5,d.bottom,d.left),v.autoPadding=u.instance(y.top,y.right,y.bottom,d.right/2+5)),mi(S)||"bottom"!==C||(h.autoPadding=u.instance(d.top,d.right,d.bottom/2+5,T=d.left>=y.left?d.left:y.left),v.autoPadding=u.instance(d.bottom/2+5,y.right,y.bottom,T)),mi(S)||"top"!==C||(h.autoPadding=u.instance(d.top,d.right,0,T=d.left>=y.left?d.left:y.left),v.autoPadding=u.instance(0,y.right,d.top,T))}function sr(o){var s=o.chart,u=o.options,v=u.xField,d=u.yField,y=u.color,M=u.barStyle,S=u.widthRatio,C=u.legend,T=u.layout,I=hv(v,d,Vn,u.data,mi(T));C?s.legend(Vn,C):!1===C&&s.legend(!1);var F,k,G=I[0],$=I[1];return mi(T)?((F=s.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Zi})).coordinate().transpose().reflect("x"),(k=s.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Ii})).coordinate().transpose(),F.data(G),k.data($)):(F=s.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Zi}),(k=s.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Ii})).coordinate().reflect("y"),F.data(G),k.data($)),Ir(V({},o,{chart:F,options:{widthRatio:S,xField:v,yField:d[0],seriesField:Vn,interval:{color:y,style:M}}})),Ir(V({},o,{chart:k,options:{xField:v,yField:d[1],seriesField:Vn,widthRatio:S,interval:{color:y,style:M}}})),o}function fv(o){var s,u,h,v=o.options,d=o.chart,y=v.xAxis,M=v.yAxis,S=v.xField,C=v.yField,T=_(d,Zi),I=_(d,Ii),F={};return(0,P.XP)(v?.meta||{}).map(function(k){(0,P.U2)(v?.meta,[k,"alias"])&&(F[k]=v.meta[k].alias)}),d.scale(((s={})[Vn]={sync:!0,formatter:function(k){return(0,P.U2)(F,k,k)}},s)),Be(((u={})[S]=y,u[C[0]]=M[C[0]],u))(V({},o,{chart:T})),Be(((h={})[S]=y,h[C[1]]=M[C[1]],h))(V({},o,{chart:I})),o}function vv(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,d=u.xField,y=u.yField,M=u.layout,S=_(s,Zi),C=_(s,Ii);return C.axis(d,"bottom"===h?.position&&(0,B.pi)((0,B.pi)({},h),{label:{formatter:function(){return""}}})),S.axis(d,!1!==h&&(0,B.pi)({position:mi(M)?"top":"bottom"},h)),!1===v?(S.axis(y[0],!1),C.axis(y[1],!1)):(S.axis(y[0],v[y[0]]),C.axis(y[1],v[y[1]])),s.__axisPosition={position:S.getOptions().axes[d].position,layout:M},o}function pv(o){var s=o.chart;return Le(V({},o,{chart:_(s,Zi)})),Le(V({},o,{chart:_(s,Ii)})),o}function dv(o){var s=o.chart,u=o.options,h=u.yField,v=u.yAxis;return Ge(V({},o,{chart:_(s,Zi),options:{yAxis:v[h[0]]}})),Ge(V({},o,{chart:_(s,Ii),options:{yAxis:v[h[1]]}})),o}function gv(o){var s=o.chart;return Me(V({},o,{chart:_(s,Zi)})),Me(V({},o,{chart:_(s,Ii)})),Me(o),o}function yv(o){var s=o.chart;return fe(V({},o,{chart:_(s,Zi)})),fe(V({},o,{chart:_(s,Ii)})),o}function mv(o){var u,h,s=this,v=o.chart,d=o.options,y=d.label,M=d.yField,S=d.layout,C=_(v,Zi),T=_(v,Ii),I=re(C,"interval"),F=re(T,"interval");if(y){var k=y.callback,G=(0,B._T)(y,["callback"]);G.position||(G.position="middle"),void 0===G.offset&&(G.offset=2);var $=(0,B.pi)({},G);if(mi(S)){var et=(null===(u=$.style)||void 0===u?void 0:u.textAlign)||("middle"===G.position?"center":"left");G.style=V({},G.style,{textAlign:et}),$.style=V({},$.style,{textAlign:{left:"right",right:"left",center:"center"}[et]})}else{var bt={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof G.position?G.position=bt[G.position]:"function"==typeof G.position&&(G.position=function(){for(var Ht=[],Ae=0;Ae<arguments.length;Ae++)Ht[Ae]=arguments[Ae];return bt[G.position.apply(s,Ht)]});var Zt=(null===(h=$.style)||void 0===h?void 0:h.textBaseline)||"bottom";$.style=V({},$.style,{textBaseline:Zt}),G.style=V({},G.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[Zt]})}I.label({fields:[M[0]],callback:k,cfg:Qt($)}),F.label({fields:[M[1]],callback:k,cfg:Qt(G)})}else I.label(!1),F.label(!1);return o}function xv(o){return pt(sr,fv,vv,dv,gv,mv,Te,pv,yv)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="bidirectional-bar",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return V({},o.getDefaultOptions.call(this),{syncViewPadding:ns})},s.prototype.changeData=function(u){void 0===u&&(u=[]),this.chart.emit(ft.ld.BEFORE_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({data:u});var h=this.options,M=hv(h.xField,h.yField,Vn,u,mi(h.layout)),S=M[0],C=M[1],T=_(this.chart,Zi),I=_(this.chart,Ii);T.data(S),I.data(C),this.chart.render(!0),this.chart.emit(ft.ld.AFTER_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.AFTER_CHANGE_DATA,null))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return xv},s.SERIES_FIELD_KEY=Vn}($e);var vl,da="$$range$$",Mv="$$y_outliers$$",Ku="outliers_view",Sv=V({},$e.getDefaultOptions(),{meta:(vl={},vl[da]={min:0,alias:"low-q1-median-q3-high"},vl),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Ju=function(o,s){var u=o;if(Array.isArray(s)){var h=s[0],v=s[1],d=s[2],y=s[3],M=s[4];u=(0,P.UI)(o,function(S){return S[da]=[S[h],S[v],S[d],S[y],S[M]],S})}return u};function Cv(o){var u=o.options,h=u.xField,v=u.yField,d=u.groupField,y=u.color,M=u.tooltip,S=u.boxStyle;o.chart.data(Ju(u.data,v));var C=(0,P.kJ)(v)?da:v,T=v?(0,P.kJ)(v)?v:[v]:[],I=M;!1!==I&&(I=V({},{fields:(0,P.kJ)(v)?v:[]},I));var F=Ln(V({},o,{options:{xField:h,yField:C,seriesField:d,tooltip:I,rawFields:T,label:!1,schema:{shape:"box",color:y,style:S}}})).ext;return d&&F.geometry.adjust("dodge"),o}function bv(o){var u=o.options,h=u.xField,v=u.data,d=u.outliersField,y=u.outliersStyle,S=u.label;if(!d)return o;var C=o.chart.createView({padding:u.padding,id:Ku}),T=v.reduce(function(I,F){return F[d].forEach(function(G){var $;return I.push((0,B.pi)((0,B.pi)({},F),(($={})[d]=G,$)))}),I},[]);return C.data(T),Ur({chart:C,options:{xField:h,yField:d,point:{shape:"circle",style:y},label:S}}),C.axis(!1),o}function hi(o){var s,u,h=o.chart,v=o.options,d=v.meta,y=v.xAxis,M=v.yAxis,S=v.xField,C=v.yField,T=v.outliersField,I=Array.isArray(C)?da:C,F={};if(T){var k=Mv;(s={})[T]={sync:k,nice:!0},s[I]={sync:k,nice:!0},F=s}var G=V(F,d,((u={})[S]=zt(y,Jt),u[I]=zt(M,Jt),u));return h.scale(G),o}function Av(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,d=u.xField,y=u.yField,M=Array.isArray(y)?da:y;return s.axis(d,!1!==h&&h),!1===v?s.axis(da,!1):s.axis(M,v),o}function Tv(o){var s=o.chart,u=o.options,v=u.groupField;return v?s.legend(v,u.legend||{position:"bottom"}):s.legend(!1),o}function Ev(o){return pt(Cv,bv,hi,Av,Tv,Te,_e(),Le,fe,Me)(o)}function Qu(o,s,u){return o.length>1?"".concat(s,"_").concat(u):"".concat(s)}function as(o){var u=o.xField,h=o.measureField,v=o.rangeField,d=o.targetField,y=o.layout,M=[],S=[];o.data.forEach(function(I,F){var k=[I[v]].flat();k.sort(function(et,q){return et-q}),k.forEach(function(et,q){var bt,Zt=0===q?et:k[q]-k[q-1];M.push(((bt={rKey:"".concat(v,"_").concat(q)})[u]=u?I[u]:String(F),bt[v]=Zt,bt))});var G=[I[h]].flat();G.forEach(function(et,q){var bt;M.push(((bt={mKey:Qu(G,h,q)})[u]=u?I[u]:String(F),bt[h]=et,bt))});var $=[I[d]].flat();$.forEach(function(et,q){var bt;M.push(((bt={tKey:Qu($,d,q)})[u]=u?I[u]:String(F),bt[d]=et,bt))}),S.push(I[v],I[h],I[d])});var C=Math.min.apply(Math,S.flat(1/0)),T=Math.max.apply(Math,S.flat(1/0));return C=C>0?0:C,"vertical"===y&&M.reverse(),{min:C,max:T,ds:M}}function Fv(o){var s=o.chart,u=o.options,h=u.bulletStyle,v=u.targetField,d=u.rangeField,y=u.measureField,M=u.xField,S=u.color,C=u.layout,T=u.size,I=u.label,F=as(u),k=F.min,G=F.max;return s.data(F.ds),Ir(V({},o,{options:{xField:M,yField:d,seriesField:"rKey",isStack:!0,label:(0,P.U2)(I,"range"),interval:{color:(0,P.U2)(S,"range"),style:(0,P.U2)(h,"range"),size:(0,P.U2)(T,"range")}}})),s.geometries[0].tooltip(!1),Ir(V({},o,{options:{xField:M,yField:y,seriesField:"mKey",isStack:!0,label:(0,P.U2)(I,"measure"),interval:{color:(0,P.U2)(S,"measure"),style:(0,P.U2)(h,"measure"),size:(0,P.U2)(T,"measure")}}})),Ur(V({},o,{options:{xField:M,yField:v,seriesField:"tKey",label:(0,P.U2)(I,"target"),point:{color:(0,P.U2)(S,"target"),style:(0,P.U2)(h,"target"),size:(0,P.mf)((0,P.U2)(T,"target"))?function(Zt){return(0,P.U2)(T,"target")(Zt)/2}:(0,P.U2)(T,"target")/2,shape:"horizontal"===C?"line":"hyphen"}}})),"horizontal"===C&&s.coordinate().transpose(),(0,B.pi)((0,B.pi)({},o),{ext:{data:{min:k,max:G}}})}function tc(o){var s,u,h=o.options,y=h.yAxis,M=h.targetField,S=h.rangeField,C=h.measureField,I=o.ext.data;return pt(Be(((s={})[h.xField]=h.xAxis,s[C]=y,s),((u={})[C]={min:I?.min,max:I?.max,sync:!0},u[M]={sync:"".concat(C)},u[S]={sync:"".concat(C)},u)))(o)}function eo(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,d=u.xField,y=u.measureField,S=u.targetField;return s.axis("".concat(u.rangeField),!1),s.axis("".concat(S),!1),s.axis("".concat(d),!1!==h&&h),s.axis("".concat(y),!1!==v&&v),o}function Iv(o){var s=o.chart,h=o.options.legend;return s.removeInteraction("legend-filter"),s.legend(h),s.legend("rKey",!1),s.legend("mKey",!1),s.legend("tKey",!1),o}function ec(o){var u=o.options,h=u.label,v=u.measureField,d=u.targetField,y=u.rangeField,M=o.chart.geometries,S=M[0],C=M[1],T=M[2];return(0,P.U2)(h,"range")?S.label("".concat(y),(0,B.pi)({layout:[{type:"limit-in-plot"}]},Qt(h.range))):S.label(!1),(0,P.U2)(h,"measure")?C.label("".concat(v),(0,B.pi)({layout:[{type:"limit-in-plot"}]},Qt(h.measure))):C.label(!1),(0,P.U2)(h,"target")?T.label("".concat(d),(0,B.pi)({layout:[{type:"limit-in-plot"}]},Qt(h.target))):T.label(!1),o}function pl(o){pt(Fv,tc,eo,Iv,Me,ec,Te,Le,fe)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="box",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Sv},s.prototype.changeData=function(u){this.updateOption({data:u});var h=this.options.yField,v=this.chart.views.find(function(d){return d.id===Ku});v&&v.data(u),this.chart.changeData(Ju(u,h))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Ev}}($e);var Lv=V({},$e.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),rc=(function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="bullet",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Lv},s.prototype.changeData=function(u){this.updateOption({data:u});var h=as(this.options),y=h.ds;tc({options:this.options,ext:{data:{min:h.min,max:h.max}},chart:this.chart}),this.chart.changeData(y)},s.prototype.getSchemaAdaptor=function(){return pl},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()}}($e),{y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(o){return o.id},source:function(o){return o.source},target:function(o){return o.target},sourceWeight:function(o){return o.value||1},targetWeight:function(o){return o.value||1},sortBy:null});var ac="x",oc="y",sc="name",lc="source",uc={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(o,s){return{offsetX:(o[0]+o[1])/2>.5?-4:4,content:s}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(o){return!(0,P.U2)(o,[0,"data","isNode"])},formatter:function(o){var u=o.target,h=o.value;return{name:"".concat(o.source," -> ").concat(u),value:h}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Dv(o){var s=o.options,S=s.rawFields,C=void 0===S?[]:S,I=function nc(o,s){var u=function ro(o){return(0,P.f0)({},rc,o)}(o),h={},v=s.nodes,d=s.links;v.forEach(function(S){var C=u.id(S);h[C]=S}),function kv(o,s,u){(0,P.U5)(o,function(h,v){h.inEdges=s.filter(function(d){return"".concat(u.target(d))==="".concat(v)}),h.outEdges=s.filter(function(d){return"".concat(u.source(d))==="".concat(v)}),h.edges=h.outEdges.concat(h.inEdges),h.frequency=h.edges.length,h.value=0,h.inEdges.forEach(function(d){h.value+=u.targetWeight(d)}),h.outEdges.forEach(function(d){h.value+=u.sourceWeight(d)})})}(h,d,u),function Pv(o,s){var h={weight:function(v,d){return d.value-v.value},frequency:function(v,d){return d.frequency-v.frequency},id:function(v,d){return"".concat(s.id(v)).localeCompare("".concat(s.id(d)))}}[s.sortBy];!h&&(0,P.mf)(s.sortBy)&&(h=s.sortBy),h&&o.sort(h)}(v,u);var y=function ic(o,s){var u=o.length;if(!u)throw new TypeError("Invalid nodes: it's empty!");if(s.weight){var h=s.nodePaddingRatio;if(h<0||h>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var v=h/(2*u),d=s.nodeWidthRatio;if(d<=0||d>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var y=0;o.forEach(function(S){y+=S.value}),o.forEach(function(S){S.weight=S.value/y,S.width=S.weight*(1-h),S.height=d}),o.forEach(function(S,C){for(var T=0,I=C-1;I>=0;I--)T+=o[I].width+2*v;var F=S.minX=v+T,k=S.maxX=S.minX+S.width,G=S.minY=s.y-d/2,$=S.maxY=G+d;S.x=[F,k,k,F],S.y=[G,G,$,$]})}else{var M=1/u;o.forEach(function(S,C){S.x=(C+.5)*M,S.y=s.y})}return o}(v,u),M=function dl(o,s,u){if(u.weight){var h={};(0,P.U5)(o,function(v,d){h[d]=v.value}),s.forEach(function(v){var d=u.source(v),y=u.target(v),M=o[d],S=o[y];if(M&&S){var C=h[d],T=u.sourceWeight(v),I=M.minX+(M.value-C)/M.value*M.width,F=I+T/M.value*M.width;h[d]-=T;var k=h[y],G=u.targetWeight(v),$=S.minX+(S.value-k)/S.value*S.width,et=$+G/S.value*S.width;h[y]-=G;var q=u.y;v.x=[I,F,$,et],v.y=[q,q,q,q],v.source=M,v.target=S}})}else s.forEach(function(v){var d=o[u.source(v)],y=o[u.target(v)];d&&y&&(v.x=[d.x,y.x],v.y=[d.y,y.y],v.source=d,v.target=y)});return s}(h,d,u);return{nodes:y,links:M}}({weight:!0,nodePaddingRatio:s.nodePaddingRatio,nodeWidthRatio:s.nodeWidthRatio},w(s.data,s.sourceField,s.targetField,s.weightField)),k=I.links,G=I.nodes.map(function(et){return(0,B.pi)((0,B.pi)({},zt(et,(0,B.ev)(["id","x","y","name"],C,!0))),{isNode:!0})}),$=k.map(function(et){return(0,B.pi)((0,B.pi)({source:et.source.name,target:et.target.name,name:et.source.name||et.target.name},zt(et,(0,B.ev)(["x","y","value"],C,!0))),{isNode:!1})});return(0,B.pi)((0,B.pi)({},o),{ext:(0,B.pi)((0,B.pi)({},o.ext),{chordData:{nodesData:G,edgesData:$}})})}function Ov(o){var s;return o.chart.scale(((s={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[sc]={sync:"color"},s[lc]={sync:"color"},s)),o}function cc(o){return o.chart.axis(!1),o}function Bv(o){return o.chart.legend(!1),o}function hc(o){return o.chart.tooltip(o.options.tooltip),o}function _v(o){return o.chart.coordinate("polar").reflect("y"),o}function Rv(o){var u=o.options,h=o.ext.chordData.nodesData,v=u.nodeStyle,d=u.label,y=u.tooltip,M=o.chart.createView();return M.data(h),dn({chart:M,options:{xField:ac,yField:oc,seriesField:sc,polygon:{style:v},label:d,tooltip:y}}),o}function Nv(o){var u=o.options,h=o.ext.chordData.edgesData,v=u.edgeStyle,d=u.tooltip,y=o.chart.createView();return y.data(h),_i({chart:y,options:{xField:ac,yField:oc,seriesField:lc,edge:{style:v,shape:"arc"},tooltip:d}}),o}function zv(o){var s=o.chart;return dt(s,o.options.animation,function Ot(o){return(0,P.U2)(o,["views","length"],0)<=0?o.geometries:(0,P.u4)(o.views,function(s,u){return s.concat(u.geometries)},o.geometries)}(s)),o}function Vv(o){return pt(Me,Dv,_v,Ov,cc,Bv,hc,Nv,Rv,Le,Oe,zv)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="chord",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return uc},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Vv}}($e);var gl=["x","y","r","name","value","path","depth"],Uv={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},ga="drilldown-bread-crumb",ml={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Un="hierarchy-data-transform-params",io=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.name="drill-down",u.historyCache=[],u.breadCrumbGroup=null,u.breadCrumbCfg=ml,u}return(0,B.ZT)(s,o),s.prototype.click=function(){var u=(0,P.U2)(this.context,["event","data","data"]);if(!u)return!1;this.drill(u),this.drawBreadCrumb()},s.prototype.resetPosition=function(){if(this.breadCrumbGroup){var u=this.context.view.getCoordinate(),h=this.breadCrumbGroup,v=h.getBBox(),d=this.getButtonCfg().position,y={x:u.start.x,y:u.end.y-(v.height+10)};u.isPolar&&(y={x:0,y:0}),"bottom-left"===d&&(y={x:u.start.x,y:u.start.y});var M=ft.Zr.transform(null,[["t",y.x+0,y.y+v.height+5]]);h.setMatrix(M)}},s.prototype.back=function(){(0,P.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},s.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},s.prototype.drill=function(u){var h=this.context.view,v=(0,P.U2)(h,["interactions","drill-down","cfg","transformData"],function(C){return C}),d=v((0,B.pi)({data:u.data},u[Un]));h.changeData(d);for(var y=[],M=u;M;){var S=M.data;y.unshift({id:"".concat(S.name,"_").concat(M.height,"_").concat(M.depth),name:S.name,children:v((0,B.pi)({data:S},u[Un]))}),M=M.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(y)},s.prototype.backTo=function(u){if(u&&!(u.length<=0)){var h=this.context.view,v=(0,P.Z$)(u).children;h.changeData(v),u.length>1?(this.historyCache=u,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},s.prototype.getButtonCfg=function(){var h=(0,P.U2)(this.context.view,["interactions","drill-down","cfg","drillDownConfig"]);return V(this.breadCrumbCfg,h?.breadCrumb,this.cfg)},s.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},s.prototype.drawBreadCrumbGroup=function(){var u=this,h=this.getButtonCfg(),v=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:ga});var d=0;v.forEach(function(y,M){var S=u.breadCrumbGroup.addShape({type:"text",id:y.id,name:"".concat(ga,"_").concat(y.name,"_text"),attrs:(0,B.pi)((0,B.pi)({text:0!==M||(0,P.UM)(h.rootText)?y.name:h.rootText},h.textStyle),{x:d,y:0})}),C=S.getBBox();if(d+=C.width+4,S.on("click",function(F){var k,G=F.target.get("id");if(G!==(null===(k=(0,P.Z$)(v))||void 0===k?void 0:k.id)){var $=v.slice(0,v.findIndex(function(et){return et.id===G})+1);u.backTo($)}}),S.on("mouseenter",function(F){var k;F.target.get("id")!==(null===(k=(0,P.Z$)(v))||void 0===k?void 0:k.id)?S.attr(h.activeTextStyle):S.attr({cursor:"default"})}),S.on("mouseleave",function(){S.attr(h.textStyle)}),M<v.length-1){var I=u.breadCrumbGroup.addShape({type:"text",name:"".concat(h.name,"_").concat(y.name,"_divider"),attrs:(0,B.pi)((0,B.pi)({text:h.dividerText},h.textStyle),{x:d,y:0})}).getBBox();d+=I.width+4}})},s.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},s.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),o.prototype.destroy.call(this)},s}(ft.aU);function vc(o){for(var v,d,s=0,u=(o=function Yv(o){for(var u,h,s=o.length;s;)h=Math.random()*s--|0,u=o[s],o[s]=o[h],o[h]=u;return o}(Array.from(o))).length,h=[];s<u;)v=o[s],d&&pc(d,v)?++s:(d=Wv(h=Xv(h,v)),s=0);return d}function Xv(o,s){var u,h;if(xl(s,o))return[s];for(u=0;u<o.length;++u)if(no(s,o[u])&&xl(ao(o[u],s),o))return[o[u],s];for(u=0;u<o.length-1;++u)for(h=u+1;h<o.length;++h)if(no(ao(o[u],o[h]),s)&&no(ao(o[u],s),o[h])&&no(ao(o[h],s),o[u])&&xl(dc(o[u],o[h],s),o))return[o[u],o[h],s];throw new Error}function no(o,s){var u=o.r-s.r,h=s.x-o.x,v=s.y-o.y;return u<0||u*u<h*h+v*v}function pc(o,s){var u=o.r-s.r+1e-9*Math.max(o.r,s.r,1),h=s.x-o.x,v=s.y-o.y;return u>0&&u*u>h*h+v*v}function xl(o,s){for(var u=0;u<s.length;++u)if(!pc(o,s[u]))return!1;return!0}function Wv(o){switch(o.length){case 1:return function Zv(o){return{x:o.x,y:o.y,r:o.r}}(o[0]);case 2:return ao(o[0],o[1]);case 3:return dc(o[0],o[1],o[2])}}function ao(o,s){var u=o.x,h=o.y,v=o.r,d=s.x,y=s.y,M=s.r,S=d-u,C=y-h,T=M-v,I=Math.sqrt(S*S+C*C);return{x:(u+d+S/I*T)/2,y:(h+y+C/I*T)/2,r:(I+v+M)/2}}function dc(o,s,u){var h=o.x,v=o.y,d=o.r,y=s.x,M=s.y,S=s.r,C=u.x,T=u.y,I=u.r,F=h-y,k=h-C,G=v-M,$=v-T,et=S-d,q=I-d,bt=h*h+v*v-d*d,Zt=bt-y*y-M*M+S*S,Ut=bt-C*C-T*T+I*I,Ht=k*G-F*$,Ae=(G*Ut-$*Zt)/(2*Ht)-h,Ne=($*et-G*q)/Ht,He=(k*Zt-F*Ut)/(2*Ht)-v,nr=(F*q-k*et)/Ht,qe=Ne*Ne+nr*nr-1,Ye=2*(d+Ae*Ne+He*nr),vr=Ae*Ae+He*He-d*d,kr=-(qe?(Ye+Math.sqrt(Ye*Ye-4*qe*vr))/(2*qe):vr/Ye);return{x:h+Ae+Ne*kr,y:v+He+nr*kr,r:kr}}function wl(o,s,u){var v,d,M,S,h=o.x-s.x,y=o.y-s.y,C=h*h+y*y;C?(d=s.r+u.r,S=o.r+u.r,(d*=d)>(S*=S)?(v=(C+S-d)/(2*C),M=Math.sqrt(Math.max(0,S/C-v*v)),u.x=o.x-v*h-M*y,u.y=o.y-v*y+M*h):(v=(C+d-S)/(2*C),M=Math.sqrt(Math.max(0,d/C-v*v)),u.x=s.x+v*h-M*y,u.y=s.y+v*y+M*h)):(u.x=s.x+u.r,u.y=s.y)}function os(o,s){var u=o.r+s.r-1e-6,h=s.x-o.x,v=s.y-o.y;return u>0&&u*u>h*h+v*v}function oo(o){var s=o._,u=o.next._,h=s.r+u.r,v=(s.x*u.r+u.x*s.r)/h,d=(s.y*u.r+u.y*s.r)/h;return v*v+d*d}function ya(o){this._=o,this.next=null,this.previous=null}function ss(o){if(!(v=(o=function Hv(o){return"object"==typeof o&&"length"in o?o:Array.from(o)}(o)).length))return 0;var s,u,h,v,d,y,M,S,C,T,I;if((s=o[0]).x=0,s.y=0,!(v>1))return s.r;if(s.x=-(u=o[1]).r,u.x=s.r,u.y=0,!(v>2))return s.r+u.r;wl(u,s,h=o[2]),s=new ya(s),u=new ya(u),h=new ya(h),s.next=h.previous=u,u.next=s.previous=h,h.next=u.previous=s;t:for(M=3;M<v;++M){wl(s._,u._,h=o[M]),h=new ya(h),S=u.next,C=s.previous,T=u._.r,I=s._.r;do{if(T<=I){if(os(S._,h._)){s.next=u=S,u.previous=s,--M;continue t}T+=S._.r,S=S.next}else{if(os(C._,h._)){(s=C).next=u,u.previous=s,--M;continue t}I+=C._.r,C=C.previous}}while(S!==C.next);for(h.previous=s,h.next=u,s.next=u.previous=u=h,d=oo(s);(h=h.next)!==u;)(y=oo(h))<d&&(s=h,d=y);u=s.next}for(s=[u._],h=u;(h=h.next)!==u;)s.push(h._);for(h=vc(s),M=0;M<v;++M)(s=o[M]).x-=h.x,s.y-=h.y;return h.r}function gc(o){return ss(o),o}function ls(o){if("function"!=typeof o)throw new Error;return o}function Gn(){return 0}function Hn(o){return function(){return o}}function jv(o){return Math.sqrt(o.value)}function yc(){var o=null,s=1,u=1,h=Gn;function v(d){return d.x=s/2,d.y=u/2,o?d.eachBefore($i(o)).eachAfter(Vi(h,.5)).eachBefore(ma(1)):d.eachBefore($i(jv)).eachAfter(Vi(Gn,1)).eachAfter(Vi(h,d.r/Math.min(s,u))).eachBefore(ma(Math.min(s,u)/(2*d.r))),d}return v.radius=function(d){return arguments.length?(o=function $v(o){return null==o?null:ls(o)}(d),v):o},v.size=function(d){return arguments.length?(s=+d[0],u=+d[1],v):[s,u]},v.padding=function(d){return arguments.length?(h="function"==typeof d?d:Hn(+d),v):h},v}function $i(o){return function(s){s.children||(s.r=Math.max(0,+o(s)||0))}}function Vi(o,s){return function(u){if(h=u.children){var h,v,M,d=h.length,y=o(u)*s||0;if(y)for(v=0;v<d;++v)h[v].r+=y;if(M=ss(h),y)for(v=0;v<d;++v)h[v].r-=y;u.r=M+y}}}function ma(o){return function(s){var u=s.parent;s.r*=o,u&&(s.x=u.x+o*s.x,s.y=u.y+o*s.y)}}function us(o){var s=0,u=o.children,h=u&&u.length;if(h)for(;--h>=0;)s+=u[h].value;else s=1;o.value=s}function xa(o,s){o instanceof Map?(o=[void 0,o],void 0===s&&(s=ap)):void 0===s&&(s=wa);for(var h,d,y,M,S,u=new Ma(o),v=[u];h=v.pop();)if((y=s(h.data))&&(S=(y=Array.from(y)).length))for(h.children=y,M=S-1;M>=0;--M)v.push(d=y[M]=new Ma(y[M])),d.parent=h,d.depth=h.depth+1;return u.eachBefore(wc)}function wa(o){return o.children}function ap(o){return Array.isArray(o)?o[1]:null}function xc(o){void 0!==o.data.value&&(o.value=o.data.value),o.data=o.data.data}function wc(o){var s=0;do{o.height=s}while((o=o.parent)&&o.height<++s)}function Ma(o){this.data=o,this.depth=this.height=0,this.parent=null}Ma.prototype=xa.prototype={constructor:Ma,count:function cs(){return this.eachAfter(us)},each:function hs(o,s){let u=-1;for(const h of this)o.call(s,h,++u,this);return this},eachAfter:function Ml(o,s){for(var d,y,M,u=this,h=[u],v=[],S=-1;u=h.pop();)if(v.push(u),d=u.children)for(y=0,M=d.length;y<M;++y)h.push(d[y]);for(;u=v.pop();)o.call(s,u,++S,this);return this},eachBefore:function mc(o,s){for(var v,d,u=this,h=[u],y=-1;u=h.pop();)if(o.call(s,u,++y,this),v=u.children)for(d=v.length-1;d>=0;--d)h.push(v[d]);return this},find:function Sl(o,s){let u=-1;for(const h of this)if(o.call(s,h,++u,this))return h},sum:function ji(o){return this.eachAfter(function(s){for(var u=+o(s.data)||0,h=s.children,v=h&&h.length;--v>=0;)u+=h[v].value;s.value=u})},sort:function qv(o){return this.eachBefore(function(s){s.children&&s.children.sort(o)})},path:function Kv(o){for(var s=this,u=function Jv(o,s){if(o===s)return o;var u=o.ancestors(),h=s.ancestors(),v=null;for(o=u.pop(),s=h.pop();o===s;)v=o,o=u.pop(),s=h.pop();return v}(s,o),h=[s];s!==u;)h.push(s=s.parent);for(var v=h.length;o!==u;)h.splice(v,0,o),o=o.parent;return h},ancestors:function Qv(){for(var o=this,s=[o];o=o.parent;)s.push(o);return s},descendants:function tp(){return Array.from(this)},leaves:function ep(){var o=[];return this.eachBefore(function(s){s.children||o.push(s)}),o},links:function rp(){var o=this,s=[];return o.each(function(u){u!==o&&s.push({source:u.parent,target:u})}),s},copy:function np(){return xa(this).eachBefore(xc)},[Symbol.iterator]:function*ip(){var s,h,v,d,o=this,u=[o];do{for(s=u.reverse(),u=[];o=s.pop();)if(yield o,h=o.children)for(v=0,d=h.length;v<d;++v)u.push(h[v])}while(u.length)}};var Mc="nodeIndex",Sc="childNodeCount",Cl="nodeAncestor",Cc="Invalid field: it must be a string!";function fs(o,s){var u=o.field,h=o.fields;if((0,P.HD)(u))return u;if((0,P.kJ)(u))return console.warn(Cc),u[0];if(console.warn("".concat(Cc," will try to get fields instead.")),(0,P.HD)(h))return h;if((0,P.kJ)(h)&&h.length)return h[0];if(s)return s;throw new TypeError(Cc)}function vs(o){var u,h,s=[];return o&&o.each?o.each(function(v){var d,y;v.parent!==u?(u=v.parent,h=0):h+=1;var M=(0,P.hX)(((null===(d=v.ancestors)||void 0===d?void 0:d.call(v))||[]).map(function(S){return s.find(function(C){return C.name===S.name})||S}),function(S){var C=S.depth;return C>0&&C<v.depth});v[Cl]=M,v[Sc]=(null===(y=v.children)||void 0===y?void 0:y.length)||0,v[Mc]=h,s.push(v)}):o&&o.eachNode&&o.eachNode(function(v){s.push(v)}),s}var D0={field:"value",as:["x","y","r"],sort:function(o,s){return s.value-o.value}};function bc(o){var u=o.hierarchyConfig,h=o.rawFields,v=void 0===h?[]:h,d=o.enableDrillDown,y=function op(o,s){var h,u=(s=(0,P.f0)({},D0,s)).as;if(!(0,P.kJ)(u)||3!==u.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{h=fs(s)}catch(C){console.warn(C)}var C,d=(C=o,yc().size(s.size).padding(s.padding)(xa(C).sum(function(T){return T[h]}).sort(s.sort))),y=u[0],M=u[1],S=u[2];return d.each(function(C){C[y]=C.x,C[M]=C.y,C[S]=C.r}),vs(d)}(o.data,(0,B.pi)((0,B.pi)({},u),{field:"value",as:["x","y","r"]})),M=[];return y.forEach(function(S){for(var C,T=S.data.name,I=(0,B.pi)({},S);I.depth>1;)T="".concat(null===(C=I.parent.data)||void 0===C?void 0:C.name," / ").concat(T),I=I.parent;if(d&&S.depth>2)return null;var F=V({},S.data,(0,B.pi)((0,B.pi)((0,B.pi)({},zt(S.data,v)),{path:T}),S));F.ext=u,F[Un]={hierarchyConfig:u,rawFields:v,enableDrillDown:d},M.push(F)}),M}function so(o,s,u){var h=ae([o,s]),v=h[0],d=h[1],y=h[2],M=h[3],T=u.width-(M+d),I=u.height-(v+y),F=Math.min(T,I),k=(T-F)/2,G=(I-F)/2;return{finalPadding:[v+G,d+k,y+G,M+k],finalSize:F<0?0:F}}function sp(o){var s=o.chart,u=Math.min(s.viewBBox.width,s.viewBBox.height);return V({options:{size:function(h){return h.r*u}}},o)}function lp(o){var s=o.options,u=o.chart,h=u.viewBBox,v=s.padding,d=s.appendPadding,y=s.drilldown,M=d;y?.enabled&&(M=ae([te(u.appendPadding,(0,P.U2)(y,["breadCrumb","position"])),d]));var C=so(v,M,h).finalPadding;return u.padding=C,u.appendPadding=0,o}function up(o){var s=o.chart,u=o.options,h=s.padding,v=s.appendPadding,d=u.color,y=u.colorField,M=u.pointStyle,C=u.sizeField,T=u.rawFields,I=void 0===T?[]:T,F=u.drilldown,k=bc({data:u.data,hierarchyConfig:u.hierarchyConfig,enableDrillDown:F?.enabled,rawFields:I});s.data(k);var $=so(h,v,s.viewBBox).finalSize,et=function(q){return q.r*$};return C&&(et=function(q){return q[C]*$}),Ur(V({},o,{options:{xField:"x",yField:"y",seriesField:y,sizeField:C,rawFields:(0,B.ev)((0,B.ev)([],gl,!0),I,!0),point:{color:d,style:M,shape:"circle",size:et}}})),o}function cp(o){return pt(Be({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(o)}function O0(o){var s=o.chart,h=o.options.tooltip;if(!1===h)s.tooltip(!1);else{var v=h;(0,P.U2)(h,"fields")||(v=V({},{customItems:function(d){return d.map(function(y){var M=(0,P.U2)(s.getOptions(),"scales"),S=(0,P.U2)(M,["name","formatter"],function(T){return T}),C=(0,P.U2)(M,["value","formatter"],function(T){return T});return(0,B.pi)((0,B.pi)({},y),{name:S(y.data.name),value:C(y.data.value)})})}},v)),s.tooltip(v)}return o}function Sa(o){return o.chart.axis(!1),o}function hp(o){var s=o.drilldown,u=o.interactions,h=void 0===u?[]:u;return s?.enabled?V({},o,{interactions:(0,B.ev)((0,B.ev)([],h,!0),[{type:"drill-down",cfg:{drillDownConfig:s,transformData:bc,enableDrillDown:!0}}],!1)}):o}function bl(o){return Le({chart:o.chart,options:hp(o.options)}),o}function fp(o){return pt(ge("pointStyle"),sp,lp,Me,cp,up,Sa,ue,O0,bl,fe,_e())(o)}function Ac(o){var s=(0,P.U2)(o,["event","data","data"],{});return(0,P.kJ)(s.children)&&s.children.length>0}function Tc(o){var s=o.view.getCoordinate(),u=s.innerRadius;if(u){var h=o.event,v=h.x,d=h.y,y=s.center,M=y.x,S=y.y,C=s.getRadius()*u;return Math.sqrt(Math.pow(M-v,2)+Math.pow(S-d,2))<C}return!1}(0,ft.zl)("drill-down-action",io),(0,ft.w_)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:Ac},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:Tc}],start:[{trigger:"element:click",isEnable:Ac,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:Tc,action:["drill-down-action:back"]}]}),function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="circle-packing",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Uv},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return fp},s.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}($e);var xi="left-axes-view",fi="right-axes-view",Ec={nice:!0,label:{autoHide:!0,autoRotate:!1}},ps=(0,B.pi)((0,B.pi)({},Ec),{position:"left"}),vp=(0,B.pi)((0,B.pi)({},Ec),{position:"right",grid:null}),qi=(()=>((qi=qi||{}).Left="Left",qi.Right="Right",qi))(),Ui=(()=>((Ui=Ui||{}).Line="line",Ui.Column="column",Ui))();function Lr(o){return(0,P.U2)(o,"geometry")===Ui.Line}function Ki(o){return(0,P.U2)(o,"geometry")===Ui.Column}function Al(o,s,u){return Ki(u)?V({},{geometry:Ui.Column,label:u.label&&u.isRange?{content:function(h){var v;return null===(v=h[s])||void 0===v?void 0:v.join("-")}}:void 0},u):(0,B.pi)({geometry:Ui.Line},u)}function Ca(o,s){var u=o[0],h=o[1];return(0,P.kJ)(s)?[s[0],s[1]]:[(0,P.U2)(s,u),(0,P.U2)(s,h)]}function Fc(o,s){return s===qi.Left?!1!==o&&V({},ps,o):s===qi.Right?!1!==o&&V({},vp,o):o}function Yn(o){var s=o.view,u=o.geometryOption,h=o.yField,d=(0,P.U2)(o.legend,"marker"),y=re(s,Lr(u)?"line":"interval");if(!u.seriesField){var M=(0,P.U2)(s,"options.scales.".concat(h,".alias"))||h,S=y.getAttribute("color"),C=s.getTheme().defaultColor;return S&&(C=ft.Zr.getMappingValue(S,M,(0,P.U2)(S,["values",0],C))),[{value:h,name:M,marker:((0,P.mf)(d)?d:!(0,P.xb)(d)&&V({},{style:{stroke:C,fill:C}},d))||(Lr(u)?{symbol:function(F,k,G){return[["M",F-G,k],["L",F+G,k]]},style:{lineWidth:2,r:6,stroke:C}}:{symbol:"square",style:{fill:C}}),isGeometry:!0,viewId:s.id}]}var I=y.getGroupAttributes();return(0,P.u4)(I,function(F,k){var G=ft.Zr.getLegendItems(s,y,k,s.getTheme(),d);return F.concat(G)},[])}var Lc=function(o,s){var u=s[0],h=s[1],v=o.getOptions().data,d=o.getXScale(),y=(0,P.dp)(v);if(d&&y){var C=(0,P.I)(v,d.field),T=(0,P.dp)(C),I=Math.floor(u*(T-1)),F=Math.floor(h*(T-1));o.filter(d.field,function(k){var G=C.indexOf(k);return!(G>-1)||function J(o,s,u){var h=Math.min(s,u),v=Math.max(s,u);return o>=h&&o<=v}(G,I,F)}),o.getRootView().render(!0)}};function vi(o){var s,u=o.options,h=u.geometryOptions,v=void 0===h?[]:h,d=u.xField,y=u.yField,M=(0,P.yW)(v,function(S){var C=S.geometry;return C===Ui.Line||void 0===C});return V({},{options:{geometryOptions:[],meta:(s={},s[d]={type:"cat",sync:!0,range:M?[0,1]:void 0},s),tooltip:{showMarkers:M,showCrosshairs:M,shared:!0,crosshairs:{type:"x"}},interactions:M?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},o,{options:{yAxis:Ca(y,u.yAxis),geometryOptions:[Al(0,y[0],v[0]),Al(0,y[1],v[1])],annotations:Ca(y,u.annotations)}})}function Sn(o){var s,u,h=o.chart,d=o.options.geometryOptions,y={line:0,column:1};return[{type:null===(s=d[0])||void 0===s?void 0:s.geometry,id:xi},{type:null===(u=d[1])||void 0===u?void 0:u.geometry,id:fi}].sort(function(S,C){return-y[S.type]+y[C.type]}).forEach(function(S){return h.createView({id:S.id})}),o}function ei(o){var s=o.chart,u=o.options,h=u.xField,v=u.yField,d=u.geometryOptions,y=u.data,M=u.tooltip;return[(0,B.pi)((0,B.pi)({},d[0]),{id:xi,data:y[0],yField:v[0]}),(0,B.pi)((0,B.pi)({},d[1]),{id:fi,data:y[1],yField:v[1]})].forEach(function(C){var T=C.id,I=C.data,F=C.yField,k=Ki(C)&&C.isPercent,G=k?gn(I,F,h,F):I,$=_(s,T).data(G),et=k?(0,B.pi)({formatter:function(q){return{name:q[C.seriesField]||F,value:(100*Number(q[F])).toFixed(2)+"%"}}},M):M;!function Ic(o){var s=o.options,u=o.chart,h=s.geometryOption,v=h.isStack,d=h.color,y=h.seriesField,M=h.groupField,S=h.isGroup,C=["xField","yField"];if(Lr(h)){Ri(V({},o,{options:(0,B.pi)((0,B.pi)((0,B.pi)({},zt(s,C)),h),{line:{color:h.color,style:h.lineStyle}})})),Ur(V({},o,{options:(0,B.pi)((0,B.pi)((0,B.pi)({},zt(s,C)),h),{point:h.point&&(0,B.pi)({color:d,shape:"circle"},h.point)})}));var T=[];S&&T.push({type:"dodge",dodgeBy:M||y,customOffset:0}),v&&T.push({type:"stack"}),T.length&&(0,P.S6)(u.geometries,function(I){I.adjust(T)})}Ki(h)&&Qr(V({},o,{options:(0,B.pi)((0,B.pi)((0,B.pi)({},zt(s,C)),h),{widthRatio:h.columnWidthRatio,interval:(0,B.pi)((0,B.pi)({},zt(h,["color"])),{style:h.columnStyle})})}))}({chart:$,options:{xField:h,yField:F,tooltip:et,geometryOption:C}})}),o}function _0(o){var s,u=o.chart,v=o.options.geometryOptions,d=(null===(s=u.getTheme())||void 0===s?void 0:s.colors10)||[],y=0;return u.once("beforepaint",function(){(0,P.S6)(v,function(M,S){var C=_(u,0===S?xi:fi);if(!M.color){var T=C.getGroupScales(),I=(0,P.U2)(T,[0,"values","length"],1),F=d.slice(y,y+I).concat(0===S?[]:d);C.geometries.forEach(function(k){M.seriesField?k.color(M.seriesField,F):k.color(F[0])}),y+=I}}),u.render(!0)}),o}function pp(o){var s,u,h=o.chart,v=o.options,d=v.xAxis,y=v.yAxis,M=v.xField,S=v.yField;return Be(((s={})[M]=d,s[S[0]]=y[0],s))(V({},o,{chart:_(h,xi)})),Be(((u={})[M]=d,u[S[1]]=y[1],u))(V({},o,{chart:_(h,fi)})),o}function lo(o){var s=o.chart,u=o.options,h=_(s,xi),v=_(s,fi),d=u.xField,y=u.yField,M=u.xAxis,S=u.yAxis;return s.axis(d,!1),s.axis(y[0],!1),s.axis(y[1],!1),h.axis(d,M),h.axis(y[0],Fc(S[0],qi.Left)),v.axis(d,!1),v.axis(y[1],Fc(S[1],qi.Right)),o}function dp(o){var s=o.chart,h=o.options.tooltip,v=_(s,xi),d=_(s,fi);return s.tooltip(h),v.tooltip({shared:!0}),d.tooltip({shared:!0}),o}function ds(o){var s=o.chart;return Le(V({},o,{chart:_(s,xi)})),Le(V({},o,{chart:_(s,fi)})),o}function gp(o){var s=o.chart,h=o.options.annotations,v=(0,P.U2)(h,[0]),d=(0,P.U2)(h,[1]);return _e(v)(V({},o,{chart:_(s,xi),options:{annotations:v}})),_e(d)(V({},o,{chart:_(s,fi),options:{annotations:d}})),o}function ba(o){var s=o.chart;return Me(V({},o,{chart:_(s,xi)})),Me(V({},o,{chart:_(s,fi)})),Me(o),o}function Tl(o){var s=o.chart;return fe(V({},o,{chart:_(s,xi)})),fe(V({},o,{chart:_(s,fi)})),o}function yp(o){var s=o.chart,h=o.options.yAxis;return Ge(V({},o,{chart:_(s,xi),options:{yAxis:h[0]}})),Ge(V({},o,{chart:_(s,fi),options:{yAxis:h[1]}})),o}function mp(o){var s=o.chart,u=o.options,h=u.legend,v=u.geometryOptions,d=u.yField,y=u.data,M=_(s,xi),S=_(s,fi);if(!1===h)s.legend(!1);else if((0,P.Kn)(h)&&!0===h.custom)s.legend(h);else{var C=(0,P.U2)(v,[0,"legend"],h),T=(0,P.U2)(v,[1,"legend"],h);s.once("beforepaint",function(){var I=y[0].length?Yn({view:M,geometryOption:v[0],yField:d[0],legend:C}):[],F=y[1].length?Yn({view:S,geometryOption:v[1],yField:d[1],legend:T}):[];s.legend(V({},h,{custom:!0,items:I.concat(F)}))}),v[0].seriesField&&M.legend(v[0].seriesField,C),v[1].seriesField&&S.legend(v[1].seriesField,T),s.on("legend-item:click",function(I){var F=(0,P.U2)(I,"gEvent.delegateObject",{});if(F&&F.item){var k=F.item,G=k.value,et=k.viewId;if(k.isGeometry){if((0,P.cx)(d,function(Ut){return Ut===G})>-1){var bt=(0,P.U2)(_(s,et),"geometries");(0,P.S6)(bt,function(Ut){Ut.changeVisible(!F.item.unchecked)})}}else{var Zt=(0,P.U2)(s.getController("legend"),"option.items",[]);(0,P.S6)(s.views,function(Ut){var Ht=Ut.getGroupScales();(0,P.S6)(Ht,function(Ae){Ae.values&&Ae.values.indexOf(G)>-1&&Ut.filter(Ae.field,function(Ne){return!(0,P.sE)(Zt,function(nr){return nr.value===Ne}).unchecked})}),s.render(!0)})}}})}return o}function xp(o){var s=o.chart,h=o.options.slider,v=_(s,xi),d=_(s,fi);return h&&(v.option("slider",h),v.on("slider:valuechanged",function(y){var M=y.event,S=M.value;(0,P.Xy)(S,M.originValue)||Lc(d,S)}),s.once("afterpaint",function(){if(!(0,P.jn)(h)){var y=h.start,M=h.end;(y||M)&&Lc(d,[y,M])}})),o}function kc(o){return pt(vi,Sn,ba,ei,pp,lo,yp,dp,ds,gp,Tl,_0,mp,xp)(o)}function uo(o){var s=o.chart,u=o.options,h=u.type,v=u.data,d=u.fields,y=u.eachView,M=(0,P.CE)(u,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return s.data(v),s.facet(h,(0,B.pi)((0,B.pi)({},M),{fields:d,eachView:function(S,C){var T=y(S,C);if(T.geometries)!function wp(o,s){var u=s.data,h=s.coordinate,v=s.interactions,d=s.annotations,y=s.animation,M=s.tooltip,S=s.axes,C=s.meta,T=s.geometries;u&&o.data(u);var I={};S&&(0,P.S6)(S,function(F,k){I[k]=zt(F,Jt)}),I=V({},C,I),o.scale(I),h&&o.coordinate(h),!1===S?o.axis(!1):(0,P.S6)(S,function(F,k){o.axis(k,F)}),(0,P.S6)(T,function(F){var k=dr({chart:o,options:F}).ext,G=F.adjust;G&&k.geometry.adjust(G)}),(0,P.S6)(v,function(F){!1===F.enable?o.removeInteraction(F.type):o.interaction(F.type,F.cfg)}),(0,P.S6)(d,function(F){o.annotation()[F.type]((0,B.pi)({},F))}),dt(o,y),M?(o.interaction("tooltip"),o.tooltip(M)):!1===M&&o.removeInteraction("tooltip")}(S,T);else{var I=T,F=I.options;F.tooltip&&S.interaction("tooltip"),un(I.type,S,F)}}})),o}function Pc(o){var s=o.chart,u=o.options,h=u.axes,v=u.meta,d=u.tooltip,y=u.coordinate,M=u.theme,S=u.legend,C=u.interactions,T=u.annotations,I={};return h&&(0,P.S6)(h,function(F,k){I[k]=zt(F,Jt)}),I=V({},v,I),s.scale(I),s.coordinate(y),h?(0,P.S6)(h,function(F,k){s.axis(k,F)}):s.axis(!1),d?(s.interaction("tooltip"),s.tooltip(d)):!1===d&&s.removeInteraction("tooltip"),s.legend(S),M&&s.theme(M),(0,P.S6)(C,function(F){!1===F.enable?s.removeInteraction(F.type):s.interaction(F.type,F.cfg)}),(0,P.S6)(T,function(F){s.annotation()[F.type]((0,B.pi)({},F))}),o}function Mp(o){return pt(Me,uo,Pc)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="dual-axes",u}(0,B.ZT)(s,o),s.prototype.getDefaultOptions=function(){return V({},o.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},s.prototype.getSchemaAdaptor=function(){return kc}}($e);var Sp={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};function gs(o){var s=o.chart,u=o.options,h=u.data,v=u.type,d=u.xField,y=u.yField,M=u.colorField,S=u.sizeField,C=u.sizeRatio,T=u.shape,I=u.color,F=u.tooltip,k=u.heatmapStyle,G=u.meta;s.data(h);var $="polygon";"density"===v&&($="heatmap");var et=Br(F,[d,y,M]),q=et.fields,bt=et.formatter,Zt=1;return(C||0===C)&&(T||S?C<0||C>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):Zt=C:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),dr(V({},o,{options:{type:$,colorField:M,tooltipFields:q,shapeField:S||"",label:void 0,mapping:{tooltip:bt,shape:T&&(S?function(Ut){var Ht=h.map(function(nr){return nr[S]}),Ae=G?.[S]||{},Ne=Ae.min,He=Ae.max;return Ne=(0,P.hj)(Ne)?Ne:Math.min.apply(Math,Ht),He=(0,P.hj)(He)?He:Math.max.apply(Math,Ht),[T,((0,P.U2)(Ut,S)-Ne)/(He-Ne),Zt]}:function(){return[T,1,Zt]}),color:I||M&&s.getTheme().sequenceColors.join("-"),style:k}}})),o}function z0(o){var s,u=o.options,v=u.yAxis,y=u.yField;return pt(Be(((s={})[u.xField]=u.xAxis,s[y]=v,s)))(o)}function Dc(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,y=u.yField;return s.axis(u.xField,!1!==h&&h),s.axis(y,!1!==v&&v),o}function Oc(o){var s=o.chart,u=o.options,h=u.legend,v=u.colorField,d=u.sizeField,y=u.sizeLegend,M=!1!==h;return v&&s.legend(v,!!M&&h),d&&s.legend(d,void 0===y?h:y),!M&&!y&&s.legend(!1),o}function ys(o){var u=o.options,h=u.label,v=u.colorField,y=re(o.chart,"density"===u.type?"heatmap":"polygon");if(h){if(v){var M=h.callback,S=(0,B._T)(h,["callback"]);y.label({fields:[v],callback:M,cfg:Qt(S)})}}else y.label(!1);return o}function Bc(o){var s,u,h=o.chart,v=o.options,y=v.reflect,M=V({actions:[]},v.coordinate??{type:"rect"});return y&&(null===(u=null===(s=M.actions)||void 0===s?void 0:s.push)||void 0===u||u.call(s,["reflect",y])),h.coordinate(M),o}function El(o){return pt(Me,ge("heatmapStyle"),z0,Bc,gs,Dc,Oc,Te,ys,_e(),Le,fe,Oe)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="area",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Sp},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Mp}}($e);var ms=V({},$e.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});(0,ft.Fj)("polygon","circle",{draw:function(o,s){var u,h,v=o.x,d=o.y,y=this.parsePoints(o.points),M=Math.abs(y[2].x-y[1].x),S=Math.abs(y[1].y-y[0].y),C=Math.min(M,S)/2,T=Number(o.shape[1]),I=Number(o.shape[2]),k=C*Math.sqrt(I)*Math.sqrt(T),G=(null===(u=o.style)||void 0===u?void 0:u.fill)||o.color||(null===(h=o.defaultStyle)||void 0===h?void 0:h.fill);return s.addShape("circle",{attrs:(0,B.pi)((0,B.pi)((0,B.pi)({x:v,y:d,r:k},o.defaultStyle),o.style),{fill:G})})}}),(0,ft.Fj)("polygon","square",{draw:function(o,s){var u,h,v=o.x,d=o.y,y=this.parsePoints(o.points),M=Math.abs(y[2].x-y[1].x),S=Math.abs(y[1].y-y[0].y),C=Math.min(M,S),T=Number(o.shape[1]),I=Number(o.shape[2]),k=C*Math.sqrt(I)*Math.sqrt(T),G=(null===(u=o.style)||void 0===u?void 0:u.fill)||o.color||(null===(h=o.defaultStyle)||void 0===h?void 0:h.fill);return s.addShape("rect",{attrs:(0,B.pi)((0,B.pi)((0,B.pi)({x:v-k/2,y:d-k/2,width:k,height:k},o.defaultStyle),o.style),{fill:G})})}}),function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="heatmap",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return ms},s.prototype.getSchemaAdaptor=function(){return El},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()}}($e);var _c="liquid";function Xn(o){return[{percent:o,type:_c}]}function Rc(o){var s=o.chart,u=o.options,h=u.percent,v=u.liquidStyle,d=u.radius,y=u.outline,M=u.wave,S=u.shape,C=u.shapeStyle,T=u.animation;s.scale({percent:{min:0,max:1}}),s.data(Xn(h));var I=u.color||s.getTheme().defaultColor,G=Ir(V({},o,{options:{xField:"type",yField:"percent",widthRatio:d,interval:{color:I,style:v,shape:"liquid-fill-gauge"}}})).ext.geometry,$=s.getTheme().background;return G.customInfo({percent:h,radius:d,outline:y,wave:M,shape:S,shapeStyle:C,background:$,animation:T}),s.legend(!1),s.axis(!1),s.tooltip(!1),o}function Nc(o,s){var u=o.chart,h=o.options,v=h.statistic,d=h.percent,y=h.meta;u.getController("annotation").clear(!0);var M=(0,P.U2)(y,["percent","formatter"])||function(C){return"".concat((100*C).toFixed(2),"%")},S=v.content;return S&&(S=V({},S,{content:(0,P.UM)(S.content)?M(d):S.content})),H(u,{statistic:(0,B.pi)((0,B.pi)({},v),{content:S}),plotType:"liquid"},{percent:d}),s&&u.render(!0),o}function Aa(o){return pt(Me,ge("liquidStyle"),Rc,Nc,Be({}),fe,Le)(o)}var bp={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function zc(o,s,u){return o+(s-o)*u}function Tp(o,s,u,h){return 0===s?[[o+.5*u/Math.PI/2,h/2],[o+.5*u/Math.PI,h],[o+u/4,h]]:1===s?[[o+.5*u/Math.PI/2*(Math.PI-2),h],[o+.5*u/Math.PI/2*(Math.PI-1),h/2],[o+u/4,0]]:2===s?[[o+.5*u/Math.PI/2,-h/2],[o+.5*u/Math.PI,-h],[o+u/4,-h]]:[[o+.5*u/Math.PI/2*(Math.PI-2),-h],[o+.5*u/Math.PI/2*(Math.PI-1),-h/2],[o+u/4,0]]}function Ep(o,s,u,h,v,d,y){for(var M=4*Math.ceil(2*o/u*4),S=[],C=h;C<2*-Math.PI;)C+=2*Math.PI;for(;C>0;)C-=2*Math.PI;var T=d-o+(C=C/Math.PI/2*u)-2*o;S.push(["M",T,s]);for(var I=0,F=0;F<M;++F){var G=Tp(F*u/4,F%4,u,v);S.push(["C",G[0][0]+T,-G[0][1]+s,G[1][0]+T,-G[1][1]+s,G[2][0]+T,-G[2][1]+s]),F===M-1&&(I=G[2][0])}return S.push(["L",I+T,y+o]),S.push(["L",T,y+o]),S.push(["Z"]),S}var Uc={pin:function V0(o,s,u,h){var v=2*u/3,d=Math.max(v,h),y=v/2,M=o,S=y+s-d/2,C=Math.asin(y/(.85*(d-y))),T=Math.sin(C)*y,I=Math.cos(C)*y,F=M-I,k=S+T,G=o,$=S+y/Math.sin(C);return"\n      M ".concat(F," ").concat(k,"\n      A ").concat(y," ").concat(y," 0 1 1 ").concat(F+2*I," ").concat(k,"\n      Q ").concat(G," ").concat($," ").concat(o," ").concat(s+d/2,"\n      Q ").concat(G," ").concat($," ").concat(F," ").concat(k,"\n      Z \n    ")},circle:function Fp(o,s,u,h){var v=u/2,d=h/2;return"\n      M ".concat(o," ").concat(s-d," \n      a ").concat(v," ").concat(d," 0 1 0 0 ").concat(2*d,"\n      a ").concat(v," ").concat(d," 0 1 0 0 ").concat(2*-d,"\n      Z\n    ")},diamond:function Ip(o,s,u,h){var v=h/2,d=u/2;return"\n      M ".concat(o," ").concat(s-v,"\n      L ").concat(o+d," ").concat(s,"\n      L ").concat(o," ").concat(s+v,"\n      L ").concat(o-d," ").concat(s,"\n      Z\n    ")},triangle:function Fl(o,s,u,h){var v=h/2,d=u/2;return"\n      M ".concat(o," ").concat(s-v,"\n      L ").concat(o+d," ").concat(s+v,"\n      L ").concat(o-d," ").concat(s+v,"\n      Z\n    ")},rect:function Vc(o,s,u,h){var d=h/2,y=u/2*.618;return"\n      M ".concat(o-y," ").concat(s-d,"\n      L ").concat(o+y," ").concat(s-d,"\n      L ").concat(o+y," ").concat(s+d,"\n      L ").concat(o-y," ").concat(s+d,"\n      Z\n    ")}};(0,ft.Fj)("interval","liquid-fill-gauge",{draw:function(o,s){var v=o.customInfo,y=v.percent,M=v.radius,S=v.shape,C=v.shapeStyle,T=v.background,I=v.animation,F=v.outline,k=v.wave,G=F.border,$=F.distance,et=k.count,q=k.length,bt=(0,P.u4)(o.points,function(Fr,Hr){return Math.min(Fr,Hr.x)},1/0),Zt=this.parsePoint({x:.5,y:.5}),Ut=this.parsePoint({x:bt,y:.5}),Ae=Math.min(Zt.x-Ut.x,Ut.y*M),Ne=function Ap(o){var s=(0,B.pi)({opacity:1},o.style);return o.color&&!s.fill&&(s.fill=o.color),s}(o),He=function xs(o){var u=(0,P.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},o.style);return o.color&&!u.stroke&&(u.stroke=o.color),(0,P.hj)(o.opacity)&&(u.opacity=u.strokeOpacity=o.opacity),u}((0,P.CD)({},o,F)),nr=Ae-G/2,Ye=("function"==typeof S?S:Uc[S]||Uc.circle)(Zt.x,Zt.y,2*nr,2*nr);if(C&&s.addShape("path",{name:"shape",attrs:(0,B.pi)({path:Ye},C)}),y>0){var vr=s.addGroup({name:"waves"}),kr=vr.setClip({type:"path",attrs:{path:Ye}});!function je(o,s,u,h,v,d,y,M,S,C){for(var T=v.fill,I=v.opacity,F=y.getBBox(),k=F.maxX-F.minX,G=F.maxY-F.minY,$=0;$<h;$++){var et=h<=1?1:$/(h-1),q=d.addShape("path",{name:"waterwave-path",attrs:{path:Ep(M,F.minY+G*u,S,0,k/32,o,s),fill:T,opacity:zc(.2,.9,et)*I}});try{if(!1===C)return;var bt=Vu([["t",S,0]]);q.stopAnimate(),q.animate({matrix:bt},{duration:zc(2500,5e3,et),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}(Zt.x,Zt.y,1-o.points[1].y,et,Ne,vr,kr,2*Ae,q,I)}return s.addShape("path",{name:"distance",attrs:{path:Ye,fill:"transparent",lineWidth:G+2*$,stroke:"transparent"===T?"#fff":T}}),s.addShape("path",{name:"wrap",attrs:(0,P.CD)(He,{path:Ye,fill:"transparent",lineWidth:G})}),s}});var Lp=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="liquid",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return bp},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.changeData=function(u){this.chart.emit(ft.ld.BEFORE_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:u}),this.chart.data(Xn(u)),Nc({chart:this.chart,options:this.options},!0),this.chart.emit(ft.ld.AFTER_CHANGE_DATA,ft.ju.fromData(this.chart,ft.ld.AFTER_CHANGE_DATA,null))},s.prototype.getSchemaAdaptor=function(){return Aa},s}($e);function kp(o){var u=o.options,v=u.lineStyle,d=u.color,y=u.point,M=u.area;o.chart.data(u.data);var S=V({},o,{options:{line:{style:v,color:d},point:y&&(0,B.pi)({color:d},y),area:M&&(0,B.pi)({color:d},M),label:void 0}}),C=V({},S,{options:{tooltip:!1}}),I=V({},S,{options:{tooltip:!1,state:y?.state||u.state}});return Ri(S),Ur(I),di(C),o}function Gc(o){var s,u=o.options,v=u.yAxis,y=u.yField;return pt(Be(((s={})[u.xField]=u.xAxis,s[y]=v,s)))(o)}function co(o){var u=o.options;return o.chart.coordinate("polar",{radius:u.radius,startAngle:u.startAngle,endAngle:u.endAngle}),o}function ws(o){var s=o.chart,u=o.options,d=u.yField,y=u.yAxis;return s.axis(u.xField,u.xAxis),s.axis(d,y),o}function Pp(o){var u=o.options,h=u.label,v=u.yField,d=re(o.chart,"line");if(h){var y=h.callback,M=(0,B._T)(h,["callback"]);d.label({fields:[v],callback:y,cfg:Qt(M)})}else d.label(!1);return o}function Dp(o){return pt(kp,Gc,Me,co,ws,ue,Te,Pp,Le,fe,_e())(o)}var Hc=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),Object.defineProperty(s.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),s.prototype.getTooltipItems=function(u){var h=this.getTooltipCfg(),v=h.shared,d=h.title,y=o.prototype.getTooltipItems.call(this,u);if(y.length>0){var M=this.view.geometries[0],C=y[0].name,T=[];return M.dataArray.forEach(function(I){I.forEach(function(F){var G=ft.Zr.getTooltipItems(F,M)[0];if(!v&&G&&G.name===C){var $=(0,P.UM)(d)?C:d;T.push((0,B.pi)((0,B.pi)({},G),{name:G.title,title:$}))}else v&&G&&($=(0,P.UM)(d)?G.name||C:d,T.push((0,B.pi)((0,B.pi)({},G),{name:G.title,title:$})))})}),T}return[]},s}(ft.fw);(0,ft.ak)("radar-tooltip",Hc);var Yc=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.init=function(){this.context.view.removeInteraction("tooltip")},s.prototype.show=function(){var u=this.context.event;this.getTooltipController().showTooltip({x:u.x,y:u.y})},s.prototype.hide=function(){this.getTooltipController().hideTooltip()},s.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},s}(ft.aU);(0,ft.zl)("radar-tooltip",Yc),(0,ft.w_)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var Xc=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="radar",u}return(0,B.ZT)(s,o),s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(u)},s.prototype.getDefaultOptions=function(){return V({},o.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},s.prototype.getSchemaAdaptor=function(){return Dp},s}($e);function Wc(o,s,u){var h=u.map(function(y){return y[s]}).filter(function(y){return void 0!==y}),v=h.length>0?Math.max.apply(Math,h):0,d=Math.abs(o)%360;return d?360*v/d:v}function Zc(o){var s=o.chart,u=o.options,h=u.barStyle,v=u.color,d=u.tooltip,y=u.colorField,M=u.type,S=u.xField,C=u.yField,I=u.shape,F=p(u.data,C);return s.data(F),Ir(V({},o,{options:{tooltip:d,seriesField:y,interval:{style:h,color:v,shape:I||("line"===M?"line":"intervel")},minColumnWidth:u.minBarWidth,maxColumnWidth:u.maxBarWidth,columnBackground:u.barBackground}})),"line"===M&&Ur({chart:s,options:{xField:S,yField:C,seriesField:y,point:{shape:"circle",color:v}}}),o}function $c(o){var s,u=o.options,h=u.yField,d=u.data,C=u.maxAngle,T=u.isStack&&!u.isGroup&&u.colorField?function Op(o,s,u){var h=[];return o.forEach(function(v){var d=h.find(function(y){return y[s]===v[s]});d?d[u]+=v[u]||null:h.push((0,B.pi)({},v))}),h}(d,u.xField,h):d,I=p(T,h);return pt(Be(((s={})[h]={min:0,max:Wc(C,h,I)},s)))(o)}function Cn(o){var u=o.options;return o.chart.coordinate({type:"polar",cfg:{radius:u.radius,innerRadius:u.innerRadius,startAngle:u.startAngle,endAngle:u.endAngle}}).transpose(),o}function Wn(o){var u=o.options;return o.chart.axis(u.xField,u.xAxis),o}function jc(o){var u=o.options,h=u.label,v=u.yField,d=re(o.chart,"interval");if(h){var y=h.callback,M=(0,B._T)(h,["callback"]);d.label({fields:[v],callback:y,cfg:(0,B.pi)((0,B.pi)({},Qt(M)),{type:"polar"})})}else d.label(!1);return o}function ho(o){return pt(ge("barStyle"),Zc,$c,Wn,Cn,Le,fe,Me,Te,ue,_e(),jc)(o)}var qc=V({},$e.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});function Ss(o){var u=o.options,v=u.sectorStyle,d=u.shape,y=u.color;return o.chart.data(u.data),pt(Ir)(V({},o,{options:{marginRatio:1,interval:{style:v,color:y,shape:d}}})),o}function Il(o){var u=o.options,h=u.label,v=u.xField,d=re(o.chart,"interval");if(!1===h)d.label(!1);else if((0,P.Kn)(h)){var y=h.callback,M=h.fields,S=(0,B._T)(h,["callback","fields"]),C=S.offset,T=S.layout;(void 0===C||C>=0)&&(T=T?(0,P.kJ)(T)?T:[T]:[],S.layout=(0,P.hX)(T,function(I){return"limit-in-shape"!==I.type}),S.layout.length||delete S.layout),d.label({fields:M||[v],callback:y,cfg:Qt(S)})}else ve(Nt.WARN,null===h,"the label option must be an Object."),d.label({fields:[v]});return o}function Bp(o){var s=o.chart,u=o.options,h=u.legend,v=u.seriesField;return!1===h?s.legend(!1):v&&s.legend(v,h),o}function Kc(o){var u=o.options;return o.chart.coordinate({type:"polar",cfg:{radius:u.radius,innerRadius:u.innerRadius,startAngle:u.startAngle,endAngle:u.endAngle}}),o}function Jc(o){var s,u=o.options,v=u.yAxis,y=u.yField;return pt(Be(((s={})[u.xField]=u.xAxis,s[y]=v,s)))(o)}function _p(o){var s=o.chart,u=o.options,v=u.yAxis,y=u.yField;return s.axis(u.xField,u.xAxis||!1),s.axis(y,v||!1),o}function Gr(o){pt(ge("sectorStyle"),Ss,Jc,Il,Kc,_p,Bp,Te,Le,fe,Me,_e(),Oe)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="radial-bar",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return qc},s.prototype.changeData=function(u){this.updateOption({data:u}),$c({chart:this.chart,options:this.options}),this.chart.changeData(u)},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return ho}}($e);var Rp=V({},$e.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),Li=(function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="rose",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Rp},s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(u)},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Gr}}($e),"x"),Qc="y",fo="name",vo="nodes",po="edges";function zp(o,s,u){if(!(0,P.kJ)(o))return[];var h=[],v=function th(o,s,u){var h=[];return o.forEach(function(v){var d=v[s],y=v[u];h.includes(d)||h.push(d),h.includes(y)||h.push(y)}),h}(o,s,u),d=function Ll(o,s,u,h){var v={};return s.forEach(function(d){v[d]={},s.forEach(function(y){v[d][y]=0})}),o.forEach(function(d){v[d[u]][d[h]]=1}),v}(o,v,s,u),y={};function M(S){y[S]=1,v.forEach(function(C){if(0!=d[S][C])if(1==y[C])h.push("".concat(S,"_").concat(C));else{if(-1==y[C])return;M(C)}}),y[S]=-1}return v.forEach(function(S){y[S]=0}),v.forEach(function(S){-1!=y[S]&&M(S)}),0!==h.length&&console.warn("sankey data contains circle, ".concat(h.length," records removed."),h),o.filter(function(S){return h.findIndex(function(C){return C==="".concat(S[s],"_").concat(S[u])})<0})}function eh(o){return o.target.depth}function go(o,s){return o.sourceLinks.length?o.depth:s-1}function cn(o){return function(){return o}}function kl(o,s){for(var u=0,h=0;h<o.length;h++)u+=s(o[h]);return u}function Pl(o,s){for(var u=-1/0,h=0;h<o.length;h++)u=Math.max(s(o[h]),u);return u}function ih(o,s){return yo(o.source,s.source)||o.index-s.index}function Dl(o,s){return yo(o.target,s.target)||o.index-s.index}function yo(o,s){return o.y0-s.y0}function oi(o){return o.value}function Gp(o){return o.index}function Hp(o){return o.nodes}function nh(o){return o.links}function ah(o,s){var u=o.get(s);if(!u)throw new Error("missing: "+s);return u}function br(o){for(var u=0,h=o.nodes;u<h.length;u++){for(var v=h[u],d=v.y0,y=d,M=0,S=v.sourceLinks;M<S.length;M++)(C=S[M]).y0=d+C.width/2,d+=C.width;for(var T=0,I=v.targetLinks;T<I.length;T++){var C;(C=I[T]).y1=y+C.width/2,y+=C.width}}}var Xp={left:function Ji(o){return o.depth},right:function Vp(o,s){return s-1-o.height},center:function rh(o){return o.targetLinks.length?o.depth:o.sourceLinks.length?(0,P.F)(o.sourceLinks,eh)-1:0},justify:go},Wp={nodeId:function(o){return o.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Ta(o,s){var u=function yr(o){return(0,P.f0)({},Wp,o)}(o),h=u.nodeId,v=u.nodeSort,d=u.nodeAlign,y=u.nodeWidth,M=u.nodePadding,S=u.nodeDepth,C=function Yp(){var y,C,T,I,o=0,s=0,u=1,h=1,v=24,d=8,M=Gp,S=go,F=Hp,k=nh,G=6;function $(be){var Ue={nodes:F(be),links:k(be)};return function et(be){var Ue=be.nodes,Ke=be.links;Ue.forEach(function(lr,Er){lr.index=Er,lr.sourceLinks=[],lr.targetLinks=[]});var Je=new Map(Ue.map(function(lr){return[M(lr),lr]}));if(Ke.forEach(function(lr,Er){lr.index=Er;var zr=lr.source,Nr=lr.target;"object"!=typeof zr&&(zr=lr.source=ah(Je,zr)),"object"!=typeof Nr&&(Nr=lr.target=ah(Je,Nr)),zr.sourceLinks.push(lr),Nr.targetLinks.push(lr)}),null!=I)for(var Xe=0,Qe=Ue;Xe<Qe.length;Xe++){var hr=Qe[Xe],ir=hr.targetLinks;hr.sourceLinks.sort(I),ir.sort(I)}}(Ue),function q(be){for(var Ke=0,Je=be.nodes;Ke<Je.length;Ke++){var Xe=Je[Ke];Xe.value=void 0===Xe.fixedValue?Math.max(kl(Xe.sourceLinks,oi),kl(Xe.targetLinks,oi)):Xe.fixedValue}}(Ue),function bt(be){for(var Ue=be.nodes,Ke=Ue.length,Je=new Set(Ue),Xe=new Set,Qe=0;Je.size;){if(Je.forEach(function(lr){lr.depth=Qe;for(var Er=0,zr=lr.sourceLinks;Er<zr.length;Er++)Xe.add(zr[Er].target)}),++Qe>Ke)throw new Error("circular link");Je=Xe,Xe=new Set}if(C)for(var hr=Math.max(Pl(Ue,function(lr){return lr.depth})+1,0),fr=void 0,ir=0;ir<Ue.length;ir++)(fr=Ue[ir]).depth=C.call(null,fr,hr)}(Ue),function Zt(be){for(var Ue=be.nodes,Ke=Ue.length,Je=new Set(Ue),Xe=new Set,Qe=0;Je.size;){if(Je.forEach(function(hr){hr.height=Qe;for(var fr=0,ir=hr.targetLinks;fr<ir.length;fr++)Xe.add(ir[fr].source)}),++Qe>Ke)throw new Error("circular link");Je=Xe,Xe=new Set}}(Ue),function Ae(be){var Ue=function Ut(be){for(var Ue=be.nodes,Ke=Math.max(Pl(Ue,function(Nr){return Nr.depth})+1,0),Je=(u-o-v)/(Ke-1),Xe=new Array(Ke).fill(0).map(function(){return[]}),Qe=0,hr=Ue;Qe<hr.length;Qe++){var fr=hr[Qe],ir=Math.max(0,Math.min(Ke-1,Math.floor(S.call(null,fr,Ke))));fr.layer=ir,fr.x0=o+ir*Je,fr.x1=fr.x0+v,Xe[ir]?Xe[ir].push(fr):Xe[ir]=[fr]}if(T)for(var lr=0,Er=Xe;lr<Er.length;lr++)Er[lr].sort(T);return Xe}(be);y=Math.min(d,(h-s)/(Pl(Ue,function(Qe){return Qe.length})-1)),function Ht(be){for(var Ue=function Up(o,s){for(var u=1/0,h=0;h<o.length;h++)u=Math.min(s(o[h]),u);return u}(be,function(Oi){return(h-s-(Oi.length-1)*y)/kl(Oi,oi)}),Ke=0,Je=be;Ke<Je.length;Ke++){for(var Xe=Je[Ke],Qe=s,hr=0,fr=Xe;hr<fr.length;hr++){(ir=fr[hr]).y0=Qe,ir.y1=Qe+ir.value*Ue,Qe=ir.y1+y;for(var lr=0,Er=ir.sourceLinks;lr<Er.length;lr++){var zr=Er[lr];zr.width=zr.value*Ue}}Qe=(h-Qe+y)/(Xe.length+1);for(var Nr=0;Nr<Xe.length;++Nr){var ir;(ir=Xe[Nr]).y0+=Qe*(Nr+1),ir.y1+=Qe*(Nr+1)}kr(Xe)}}(Ue);for(var Ke=0;Ke<G;++Ke){var Je=Math.pow(.99,Ke),Xe=Math.max(1-Je,(Ke+1)/G);He(Ue,Je,Xe),Ne(Ue,Je,Xe)}}(Ue),br(Ue),Ue}function Ne(be,Ue,Ke){for(var Je=1,Xe=be.length;Je<Xe;++Je){for(var Qe=be[Je],hr=0,fr=Qe;hr<fr.length;hr++){for(var ir=fr[hr],lr=0,Er=0,zr=0,Nr=ir.targetLinks;zr<Nr.length;zr++){var Oi=Nr[zr],Io=Oi.source,$s=Oi.value*(ir.layer-Io.layer);lr+=Fr(Io,ir)*$s,Er+=$s}if(Er>0){var Lo=(lr/Er-ir.y0)*Ue;ir.y0+=Lo,ir.y1+=Lo,vr(ir)}}void 0===T&&Qe.sort(yo),Qe.length&&nr(Qe,Ke)}}function He(be,Ue,Ke){for(var Xe=be.length-2;Xe>=0;--Xe){for(var Qe=be[Xe],hr=0,fr=Qe;hr<fr.length;hr++){for(var ir=fr[hr],lr=0,Er=0,zr=0,Nr=ir.sourceLinks;zr<Nr.length;zr++){var Oi=Nr[zr],Io=Oi.target,$s=Oi.value*(Io.layer-ir.layer);lr+=Hr(ir,Io)*$s,Er+=$s}if(Er>0){var Lo=(lr/Er-ir.y0)*Ue;ir.y0+=Lo,ir.y1+=Lo,vr(ir)}}void 0===T&&Qe.sort(yo),Qe.length&&nr(Qe,Ke)}}function nr(be,Ue){var Ke=be.length>>1,Je=be[Ke];Ye(be,Je.y0-y,Ke-1,Ue),qe(be,Je.y1+y,Ke+1,Ue),Ye(be,h,be.length-1,Ue),qe(be,s,0,Ue)}function qe(be,Ue,Ke,Je){for(;Ke<be.length;++Ke){var Xe=be[Ke],Qe=(Ue-Xe.y0)*Je;Qe>1e-6&&(Xe.y0+=Qe,Xe.y1+=Qe),Ue=Xe.y1+y}}function Ye(be,Ue,Ke,Je){for(;Ke>=0;--Ke){var Xe=be[Ke],Qe=(Xe.y1-Ue)*Je;Qe>1e-6&&(Xe.y0-=Qe,Xe.y1-=Qe),Ue=Xe.y0-y}}function vr(be){var Ue=be.sourceLinks;if(void 0===I){for(var Je=0,Xe=be.targetLinks;Je<Xe.length;Je++)Xe[Je].source.sourceLinks.sort(Dl);for(var hr=0,fr=Ue;hr<fr.length;hr++)fr[hr].target.targetLinks.sort(ih)}}function kr(be){if(void 0===I)for(var Ue=0,Ke=be;Ue<Ke.length;Ue++){var Je=Ke[Ue],Qe=Je.targetLinks;Je.sourceLinks.sort(Dl),Qe.sort(ih)}}function Fr(be,Ue){for(var Ke=be.y0-(be.sourceLinks.length-1)*y/2,Je=0,Xe=be.sourceLinks;Je<Xe.length;Je++){var Qe=Xe[Je],fr=Qe.width;if(Qe.target===Ue)break;Ke+=fr+y}for(var ir=0,lr=Ue.targetLinks;ir<lr.length;ir++){var Er=lr[ir];if(fr=Er.width,Er.source===be)break;Ke-=fr}return Ke}function Hr(be,Ue){for(var Ke=Ue.y0-(Ue.targetLinks.length-1)*y/2,Je=0,Xe=Ue.targetLinks;Je<Xe.length;Je++){var Qe=Xe[Je],fr=Qe.width;if(Qe.source===be)break;Ke+=fr+y}for(var ir=0,lr=be.sourceLinks;ir<lr.length;ir++){var Er=lr[ir];if(fr=Er.width,Er.target===Ue)break;Ke-=fr}return Ke}return $.update=function(be){return br(be),be},$.nodeId=function(be){return arguments.length?(M="function"==typeof be?be:cn(be),$):M},$.nodeAlign=function(be){return arguments.length?(S="function"==typeof be?be:cn(be),$):S},$.nodeDepth=function(be){return arguments.length?(C=be,$):C},$.nodeSort=function(be){return arguments.length?(T=be,$):T},$.nodeWidth=function(be){return arguments.length?(v=+be,$):v},$.nodePadding=function(be){return arguments.length?(d=y=+be,$):d},$.nodes=function(be){return arguments.length?(F="function"==typeof be?be:cn(be),$):F},$.links=function(be){return arguments.length?(k="function"==typeof be?be:cn(be),$):k},$.linkSort=function(be){return arguments.length?(I=be,$):I},$.size=function(be){return arguments.length?(o=s=0,u=+be[0],h=+be[1],$):[u-o,h-s]},$.extent=function(be){return arguments.length?(o=+be[0][0],u=+be[1][0],s=+be[0][1],h=+be[1][1],$):[[o,s],[u,h]]},$.iterations=function(be){return arguments.length?(G=+be,$):G},$}().nodeSort(v).nodeWidth(y).nodePadding(M).nodeDepth(S).nodeAlign(function oh(o){return((0,P.HD)(o)?Xp[o]:(0,P.mf)(o)?o:null)||go}(d)).extent([[0,0],[1,1]]).nodeId(h),T=C(s);return{nodes:T.nodes.map(function(k){var G=k.x0,$=k.x1,et=k.y0,q=k.y1;return k.x=[G,$,$,G],k.y=[et,et,q,q],k}).filter(function(k){return null!==k.name}),links:T.links.map(function(k){var et=k.source.x1,q=k.target.x0;k.x=[et,et,q,q];var bt=k.width/2;return k.y=[k.y0+bt,k.y0-bt,k.y1+bt,k.y1-bt],k}).filter(function(k){return null!==k.source.name&&null!==k.target.name})}}function $p(o,s,u){return O(o)?o/u:s}function jp(o,s,u){return O(o)?o/u:s}function Ol(o,s,u){var q,v=o.data,d=o.sourceField,y=o.targetField,M=o.weightField,S=o.nodeAlign,C=o.nodeSort,T=o.nodePadding,I=o.nodePaddingRatio,F=o.nodeWidth,k=o.nodeWidthRatio,G=o.nodeDepth,$=o.rawFields,et=void 0===$?[]:$;q=function Zp(o){return"node-link"===o}(o.dataType)?v:w(zp(v,d,y),d,y,M,et);var bt=Ta({nodeAlign:S,nodePadding:jp(T,I,u),nodeWidth:$p(F,k,s),nodeSort:C,nodeDepth:G},q),Ut=bt.links;return{nodes:bt.nodes.map(function(Ht){return(0,B.pi)((0,B.pi)({},zt(Ht,(0,B.ev)(["x","y","name"],et,!0))),{isNode:!0})}),edges:Ut.map(function(Ht){return(0,B.pi)((0,B.pi)({source:Ht.source.name,target:Ht.target.name,name:Ht.source.name||Ht.target.name},zt(Ht,(0,B.ev)(["x","y","value"],et,!0))),{isNode:!1})})}}function U0(o){var u=o.options.rawFields,h=void 0===u?[]:u;return V({},{options:{tooltip:{fields:(0,P.jj)((0,B.ev)(["name","source","target","value","isNode"],h,!0))},label:{fields:(0,P.jj)((0,B.ev)(["x","name"],h,!0))}}},o)}function Cs(o){var s=o.chart,u=o.options,h=u.color,v=u.nodeStyle,d=u.edgeStyle,y=u.label,M=u.tooltip,S=u.nodeState,C=u.edgeState,T=u.rawFields,I=void 0===T?[]:T;s.legend(!1),s.tooltip(M),s.axis(!1),s.coordinate().reflect("y");var F=Ol(u,s.width,s.height),k=F.nodes,G=F.edges,$=s.createView({id:po});$.data(G),_i({chart:$,options:{xField:Li,yField:Qc,seriesField:fo,rawFields:(0,B.ev)(["source","target"],I,!0),edge:{color:h,style:d,shape:"arc"},tooltip:M,state:C}});var et=s.createView({id:vo});return et.data(k),dn({chart:et,options:{xField:Li,yField:Qc,seriesField:fo,polygon:{color:h,style:v},label:y,tooltip:M,state:S}}),s.interaction("element-active"),s.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),o}function qp(o){var s=o.chart;return dt(s,o.options.animation,(0,B.ev)((0,B.ev)([],s.views[0].geometries,!0),s.views[1].geometries,!0)),o}function Bl(o){var s=o.chart,v="sankey-node-draggable";return o.options.nodeDraggable?s.interaction(v):s.removeInteraction(v),o}function bs(o){var s=o.chart,u=o.options,h=u.interactions,v=void 0===h?[]:h,d=[].concat(v,u.nodeInteractions||[]),y=[].concat(v,u.edgeInteractions||[]),M=_(s,vo),S=_(s,po);return d.forEach(function(C){!1===C?.enable?M.removeInteraction(C.type):M.interaction(C.type,C.cfg||{})}),y.forEach(function(C){!1===C?.enable?S.removeInteraction(C.type):S.interaction(C.type,C.cfg||{})}),o}function Kp(o){return pt(U0,Cs,bs,Bl,qp,Me)(o)}var sh=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.isDragging=!1,u}return(0,B.ZT)(s,o),s.prototype.isNodeElement=function(){var u=(0,P.U2)(this.context,"event.target");if(u){var h=u.get("element");return h&&h.getModel().data.isNode}return!1},s.prototype.getNodeView=function(){return _(this.context.view,vo)},s.prototype.getEdgeView=function(){return _(this.context.view,po)},s.prototype.getCurrentDatumIdx=function(u){return this.getNodeView().geometries[0].elements.indexOf(u)},s.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,P.U2)(this.context,"event.x"),y:(0,P.U2)(this.context,"event.y")};var u=this.context.event.target.get("element"),h=this.getCurrentDatumIdx(u);if(-1===h)return;this.currentElementIdx=h,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},s.prototype.translate=function(){if(this.isDragging){var u=this.context.view,h={x:(0,P.U2)(this.context,"event.x"),y:(0,P.U2)(this.context,"event.y")},v=h.x-this.prevPoint.x,d=h.y-this.prevPoint.y,y=this.getNodeView(),M=y.geometries[0].elements[this.currentElementIdx];if(M&&M.getModel()){var S=M.getModel().data,C=y.getOptions().data,T=y.getCoordinate(),I={x:v/T.getWidth(),y:d/T.getHeight()},F=(0,B.pi)((0,B.pi)({},S),{x:S.x.map(function(q){return q+I.x}),y:S.y.map(function(q){return q+I.y})}),k=(0,B.ev)([],C,!0);k[this.currentElementIdx]=F,y.data(k);var G=S.name,$=this.getEdgeView(),et=$.getOptions().data;et.forEach(function(q){q.source===G&&(q.x[0]+=I.x,q.x[1]+=I.x,q.y[0]+=I.y,q.y[1]+=I.y),q.target===G&&(q.x[2]+=I.x,q.x[3]+=I.x,q.y[2]+=I.y,q.y[3]+=I.y)}),$.data(et),this.prevPoint=h,u.render(!0)}}},s.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},s}(ft.aU);(0,ft.zl)("sankey-node-drag",sh),(0,ft.w_)("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(o){return o.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="sankey",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(u){return u.name},callback:function(u){var h=1===u[1];return{style:{fill:"#545454",textAlign:h?"end":"start"},offsetX:h?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(u){return!(0,P.U2)(u,[0,"data","isNode"])},formatter:function(u){return{name:u.source+" -> "+u.target,value:u.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},s.prototype.changeData=function(u){this.updateOption({data:u});var h=Ol(this.options,this.chart.width,this.chart.height),v=h.nodes,d=h.edges,y=_(this.chart,vo),M=_(this.chart,po);y.changeData(v),M.changeData(d)},s.prototype.getSchemaAdaptor=function(){return Kp},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()}}($e);var As="ancestor-node",lh="value",mo="path",Jp=[mo,Mc,Cl,Sc,"name","depth","height"],uh=V({},$e.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function ch(o){o.x0=Math.round(o.x0),o.y0=Math.round(o.y0),o.x1=Math.round(o.x1),o.y1=Math.round(o.y1)}function xo(o,s,u,h,v){for(var y,d=o.children,M=-1,S=d.length,C=o.value&&(h-s)/o.value;++M<S;)(y=d[M]).y0=u,y.y1=v,y.x0=s,y.x1=s+=y.value*C}function _l(){var o=1,s=1,u=0,h=!1;function v(y){var M=y.height+1;return y.x0=y.y0=u,y.x1=o,y.y1=s/M,y.eachBefore(function d(y,M){return function(S){S.children&&xo(S,S.x0,y*(S.depth+1)/M,S.x1,y*(S.depth+2)/M);var C=S.x0,T=S.y0,I=S.x1-u,F=S.y1-u;I<C&&(C=I=(C+I)/2),F<T&&(T=F=(T+F)/2),S.x0=C,S.y0=T,S.x1=I,S.y1=F}}(s,M)),h&&y.eachBefore(ch),y}return v.round=function(y){return arguments.length?(h=!!y,v):h},v.size=function(y){return arguments.length?(o=+y[0],s=+y[1],v):[o,s]},v.padding=function(y){return arguments.length?(u=+y,v):u},v}var Rl={field:"value",size:[1,1],round:!1,padding:0,sort:function(o,s){return s.value-o.value},as:["x","y"],ignoreParentValue:!0};function hh(o,s){var h,u=(s=(0,P.f0)({},Rl,s)).as;if(!(0,P.kJ)(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{h=fs(s)}catch(S){console.warn(S)}var S,d=(S=o,_l().size(s.size).round(s.round).padding(s.padding)(xa(S).sum(function(C){return(0,P.dp)(C.children)?s.ignoreParentValue?0:C[h]-(0,P.u4)(C.children,function(T,I){return T+I[h]},0):C[h]}).sort(s.sort))),y=u[0],M=u[1];return d.each(function(S){var C,T;S[y]=[S.x0,S.x1,S.x1,S.x0],S[M]=[S.y1,S.y1,S.y0,S.y0],S.name=S.name||(null===(C=S.data)||void 0===C?void 0:C.name)||(null===(T=S.data)||void 0===T?void 0:T.label),S.data.name=S.name,["x0","x1","y0","y1"].forEach(function(I){-1===u.indexOf(I)&&delete S[I]})}),vs(d)}function fh(o,s){return o.parent===s.parent?1:2}function Qp(o,s){return o+s.x}function zl(o,s){return Math.max(o,s.y)}function H0(){var o=fh,s=1,u=1,h=!1;function v(d){var y,M=0;d.eachAfter(function(F){var k=F.children;k?(F.x=function Nl(o){return o.reduce(Qp,0)/o.length}(k),F.y=function td(o){return 1+o.reduce(zl,0)}(k)):(F.x=y?M+=o(F,y):0,F.y=0,y=F)});var S=function Ts(o){for(var s;s=o.children;)o=s[0];return o}(d),C=function Zn(o){for(var s;s=o.children;)o=s[s.length-1];return o}(d),T=S.x-o(S,C)/2,I=C.x+o(C,S)/2;return d.eachAfter(h?function(F){F.x=(F.x-d.x)*s,F.y=(d.y-F.y)*u}:function(F){F.x=(F.x-T)/(I-T)*s,F.y=(1-(d.y?F.y/d.y:1))*u})}return v.separation=function(d){return arguments.length?(o=d,v):o},v.size=function(d){return arguments.length?(h=!1,s=+d[0],u=+d[1],v):h?null:[s,u]},v.nodeSize=function(d){return arguments.length?(h=!0,s=+d[0],u=+d[1],v):h?[s,u]:null},v}var ed={depth:-1},vh={};function rd(o){return o.id}function id(o){return o.parentId}function nd(){var o=rd,s=id;function u(h){var y,M,S,C,T,I,F,v=Array.from(h),d=v.length,k=new Map;for(M=0;M<d;++M)T=v[M]=new Ma(y=v[M]),null!=(I=o(y,M,h))&&(I+="")&&(F=T.id=I,k.set(F,k.has(F)?vh:T)),null!=(I=s(y,M,h))&&(I+="")&&(T.parent=I);for(M=0;M<d;++M)if(I=(T=v[M]).parent){if(!(C=k.get(I)))throw new Error("missing: "+I);if(C===vh)throw new Error("ambiguous: "+I);C.children?C.children.push(T):C.children=[T],T.parent=C}else{if(S)throw new Error("multiple roots");S=T}if(!S)throw new Error("no root");if(S.parent=ed,S.eachBefore(function(G){G.depth=G.parent.depth+1,--d}).eachBefore(wc),S.parent=null,d>0)throw new Error("cycle");return S}return u.id=function(h){return arguments.length?(o=ls(h),u):o},u.parentId=function(h){return arguments.length?(s=ls(h),u):s},u}function qr(o,s){return o.parent===s.parent?1:2}function Vl(o){var s=o.children;return s?s[0]:o.t}function Ul(o){var s=o.children;return s?s[s.length-1]:o.t}function Es(o,s,u){var h=u/(s.i-o.i);s.c-=h,s.s+=u,o.c+=h,s.z+=u,s.m+=u}function od(o,s,u){return o.a.parent===s.parent?o.a:u}function wo(o,s){this._=o,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=s}function Y0(){var o=qr,s=1,u=1,h=null;function v(C){var T=function Qi(o){for(var u,v,d,y,M,s=new wo(o,0),h=[s];u=h.pop();)if(d=u._.children)for(u.children=new Array(M=d.length),y=M-1;y>=0;--y)h.push(v=u.children[y]=new wo(d[y],y)),v.parent=u;return(s.parent=new wo(null,0)).children=[s],s}(C);if(T.eachAfter(d),T.parent.m=-T.z,T.eachBefore(y),h)C.eachBefore(S);else{var I=C,F=C,k=C;C.eachBefore(function(bt){bt.x<I.x&&(I=bt),bt.x>F.x&&(F=bt),bt.depth>k.depth&&(k=bt)});var G=I===F?1:o(I,F)/2,$=G-I.x,et=s/(F.x+G+$),q=u/(k.depth||1);C.eachBefore(function(bt){bt.x=(bt.x+$)*et,bt.y=bt.depth*q})}return C}function d(C){var T=C.children,I=C.parent.children,F=C.i?I[C.i-1]:null;if(T){!function ad(o){for(var d,s=0,u=0,h=o.children,v=h.length;--v>=0;)(d=h[v]).z+=s,d.m+=s,s+=d.s+(u+=d.c)}(C);var k=(T[0].z+T[T.length-1].z)/2;F?(C.z=F.z+o(C._,F._),C.m=C.z-k):C.z=k}else F&&(C.z=F.z+o(C._,F._));C.parent.A=function M(C,T,I){if(T){for(var Ut,F=C,k=C,G=T,$=F.parent.children[0],et=F.m,q=k.m,bt=G.m,Zt=$.m;G=Ul(G),F=Vl(F),G&&F;)$=Vl($),(k=Ul(k)).a=C,(Ut=G.z+bt-F.z-et+o(G._,F._))>0&&(Es(od(G,C,I),C,Ut),et+=Ut,q+=Ut),bt+=G.m,et+=F.m,Zt+=$.m,q+=k.m;G&&!Ul(k)&&(k.t=G,k.m+=bt-q),F&&!Vl($)&&($.t=F,$.m+=et-Zt,I=C)}return I}(C,F,C.parent.A||I[0])}function y(C){C._.x=C.z+C.parent.m,C.m+=C.parent.m}function S(C){C.x*=s,C.y=C.depth*u}return v.separation=function(C){return arguments.length?(o=C,v):o},v.size=function(C){return arguments.length?(h=!1,s=+C[0],u=+C[1],v):h?null:[s,u]},v.nodeSize=function(C){return arguments.length?(h=!0,s=+C[0],u=+C[1],v):h?[s,u]:null},v}function Fs(o,s,u,h,v){for(var y,d=o.children,M=-1,S=d.length,C=o.value&&(v-u)/o.value;++M<S;)(y=d[M]).x0=s,y.x1=h,y.y0=u,y.y1=u+=y.value*C}wo.prototype=Object.create(Ma.prototype);var ph=(1+Math.sqrt(5))/2;function $n(o,s,u,h,v,d){for(var S,C,k,G,et,q,bt,Zt,Ut,Ht,Ae,y=[],M=s.children,T=0,I=0,F=M.length,$=s.value;T<F;){k=v-u,G=d-h;do{et=M[I++].value}while(!et&&I<F);for(q=bt=et,Ae=et*et*(Ht=Math.max(G/k,k/G)/($*o)),Ut=Math.max(bt/Ae,Ae/q);I<F;++I){if(et+=C=M[I].value,C<q&&(q=C),C>bt&&(bt=C),Ae=et*et*Ht,(Zt=Math.max(bt/Ae,Ae/q))>Ut){et-=C;break}Ut=Zt}y.push(S={value:et,dice:k<G,children:M.slice(T,I)}),S.dice?xo(S,u,h,v,$?h+=G*et/$:d):Fs(S,u,h,$?u+=k*et/$:v,d),$-=et,T=I}return y}const dh=function o(s){function u(h,v,d,y,M){$n(s,h,v,d,y,M)}return u.ratio=function(h){return o((h=+h)>1?h:1)},u}(ph);function gh(){var o=dh,s=!1,u=1,h=1,v=[0],d=Gn,y=Gn,M=Gn,S=Gn,C=Gn;function T(F){return F.x0=F.y0=0,F.x1=u,F.y1=h,F.eachBefore(I),v=[0],s&&F.eachBefore(ch),F}function I(F){var k=v[F.depth],G=F.x0+k,$=F.y0+k,et=F.x1-k,q=F.y1-k;et<G&&(G=et=(G+et)/2),q<$&&($=q=($+q)/2),F.x0=G,F.y0=$,F.x1=et,F.y1=q,F.children&&(k=v[F.depth+1]=d(F)/2,G+=C(F)-k,$+=y(F)-k,(et-=M(F)-k)<G&&(G=et=(G+et)/2),(q-=S(F)-k)<$&&($=q=($+q)/2),o(F,G,$,et,q))}return T.round=function(F){return arguments.length?(s=!!F,T):s},T.size=function(F){return arguments.length?(u=+F[0],h=+F[1],T):[u,h]},T.tile=function(F){return arguments.length?(o=ls(F),T):o},T.padding=function(F){return arguments.length?T.paddingInner(F).paddingOuter(F):T.paddingInner()},T.paddingInner=function(F){return arguments.length?(d="function"==typeof F?F:Hn(+F),T):d},T.paddingOuter=function(F){return arguments.length?T.paddingTop(F).paddingRight(F).paddingBottom(F).paddingLeft(F):T.paddingTop()},T.paddingTop=function(F){return arguments.length?(y="function"==typeof F?F:Hn(+F),T):y},T.paddingRight=function(F){return arguments.length?(M="function"==typeof F?F:Hn(+F),T):M},T.paddingBottom=function(F){return arguments.length?(S="function"==typeof F?F:Hn(+F),T):S},T.paddingLeft=function(F){return arguments.length?(C="function"==typeof F?F:Hn(+F),T):C},T}function yh(o,s,u,h,v){var y,S,d=o.children,M=d.length,C=new Array(M+1);for(C[0]=S=y=0;y<M;++y)C[y+1]=S+=d[y].value;!function T(I,F,k,G,$,et,q){if(I>=F-1){var bt=d[I];return bt.x0=G,bt.y0=$,bt.x1=et,void(bt.y1=q)}for(var Zt=C[I],Ut=k/2+Zt,Ht=I+1,Ae=F-1;Ht<Ae;){var Ne=Ht+Ae>>>1;C[Ne]<Ut?Ht=Ne+1:Ae=Ne}Ut-C[Ht-1]<C[Ht]-Ut&&I+1<Ht&&--Ht;var He=C[Ht]-Zt,nr=k-He;if(et-G>q-$){var qe=k?(G*nr+et*He)/k:et;T(I,Ht,He,G,$,qe,q),T(Ht,F,nr,qe,$,et,q)}else{var Ye=k?($*nr+q*He)/k:q;T(I,Ht,He,G,$,et,Ye),T(Ht,F,nr,G,Ye,et,q)}}(0,M,o.value,s,u,h,v)}function mh(o,s,u,h,v){(1&o.depth?Fs:xo)(o,s,u,h,v)}const xh=function o(s){function u(h,v,d,y,M){if((S=h._squarify)&&S.ratio===s)for(var S,C,T,I,k,F=-1,G=S.length,$=h.value;++F<G;){for(T=(C=S[F]).children,I=C.value=0,k=T.length;I<k;++I)C.value+=T[I].value;C.dice?xo(C,v,d,y,$?d+=(M-d)*C.value/$:M):Fs(C,v,d,$?v+=(y-v)*C.value/$:y,M),$-=C.value}else h._squarify=S=$n(s,h,v,d,y,M),S.ratio=s}return u.ratio=function(h){return o((h=+h)>1?h:1)},u}(ph);var wi={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(o,s){return s.value-o.value},ratio:.5*(1+Math.sqrt(5))};function wh(o,s){var h,u=(s=(0,P.f0)({},wi,s)).as;if(!(0,P.kJ)(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{h=fs(s)}catch(C){console.warn(C)}var C,v=function Ea(o,s){return"treemapSquarify"===o?ee[o].ratio(s):ee[o]}(s.tile,s.ratio),y=(C=o,gh().tile(v).size(s.size).round(s.round).padding(s.padding).paddingInner(s.paddingInner).paddingOuter(s.paddingOuter).paddingTop(s.paddingTop).paddingRight(s.paddingRight).paddingBottom(s.paddingBottom).paddingLeft(s.paddingLeft)(xa(C).sum(function(T){return s.ignoreParentValue&&T.children?0:T[h]}).sort(s.sort))),M=u[0],S=u[1];return y.each(function(C){C[M]=[C.x0,C.x1,C.x1,C.x0],C[S]=[C.y1,C.y1,C.y0,C.y0],["x0","x1","y0","y1"].forEach(function(T){-1===u.indexOf(T)&&delete C[T]})}),vs(y)}function Gl(o){var u=o.colorField,h=o.rawFields,v=o.hierarchyConfig,d=void 0===v?{}:v,y=d.activeDepth,S=o.seriesField,C=o.type||"partition",T={partition:hh,treemap:wh}[C](o.data,(0,B.pi)((0,B.pi)({field:S||"value"},(0,P.CE)(d,["activeDepth"])),{type:"hierarchy.".concat(C),as:["x","y"]})),I=[];return T.forEach(function(F){var k,G,$,et,q,bt;if(0===F.depth||y>0&&F.depth>y)return null;for(var Zt=F.data.name,Ut=(0,B.pi)({},F);Ut.depth>1;)Zt="".concat(null===(G=Ut.parent.data)||void 0===G?void 0:G.name," / ").concat(Zt),Ut=Ut.parent;var Ht=(0,B.pi)((0,B.pi)((0,B.pi)({},zt(F.data,(0,B.ev)((0,B.ev)([],h||[],!0),[d.field],!1))),((k={})[mo]=Zt,k[As]=Ut.data.name,k)),F);S&&(Ht[S]=F.data[S]||(null===(et=null===($=F.parent)||void 0===$?void 0:$.data)||void 0===et?void 0:et[S])),u&&(Ht[u]=F.data[u]||(null===(bt=null===(q=F.parent)||void 0===q?void 0:q.data)||void 0===bt?void 0:bt[u])),Ht.ext=d,Ht[Un]={hierarchyConfig:d,colorField:u,rawFields:h},I.push(Ht)}),I}function sd(o){var I,s=o.chart,u=o.options,h=u.color,v=u.colorField,d=void 0===v?As:v,y=u.sunburstStyle,M=u.rawFields,S=void 0===M?[]:M,C=u.shape,T=Gl(u);return s.data(T),y&&(I=function(F){return V({},{fillOpacity:Math.pow(.85,F.depth)},(0,P.mf)(y)?y(F):y)}),dn(V({},o,{options:{xField:"x",yField:"y",seriesField:d,rawFields:(0,P.jj)((0,B.ev)((0,B.ev)([],Jp,!0),S,!0)),polygon:{color:h,style:I,shape:C}}})),o}function Mh(o){return o.chart.axis(!1),o}function Fa(o){var h=o.options.label,v=re(o.chart,"polygon");if(h){var d=h.fields,y=void 0===d?["name"]:d,M=h.callback,S=(0,B._T)(h,["fields","callback"]);v.label({fields:y,callback:M,cfg:Qt(S)})}else v.label(!1);return o}function ld(o){var u=o.options,d=u.reflect,y=o.chart.coordinate({type:"polar",cfg:{innerRadius:u.innerRadius,radius:u.radius}});return d&&y.reflect(d),o}function Hl(o){var s,u=o.options;return pt(Be({},((s={})[lh]=(0,P.U2)(u.meta,(0,P.U2)(u.hierarchyConfig,["field"],"value")),s)))(o)}function ud(o){var s=o.chart,h=o.options.tooltip;if(!1===h)s.tooltip(!1);else{var v=h;(0,P.U2)(h,"fields")||(v=V({},{customItems:function(d){return d.map(function(y){var M=(0,P.U2)(s.getOptions(),"scales"),S=(0,P.U2)(M,[mo,"formatter"],function(T){return T}),C=(0,P.U2)(M,[lh,"formatter"],function(T){return T});return(0,B.pi)((0,B.pi)({},y),{name:S(y.data[mo]),value:C(y.data.value)})})}},v)),s.tooltip(v)}return o}function Sh(o){var s=o.drilldown,u=o.interactions,h=void 0===u?[]:u;return s?.enabled?V({},o,{interactions:(0,B.ev)((0,B.ev)([],h,!0),[{type:"drill-down",cfg:{drillDownConfig:s,transformData:Gl}}],!1)}):o}function Ch(o){var s=o.chart,u=o.options,h=u.drilldown;return Le({chart:s,options:Sh(u)}),h?.enabled&&(s.appendPadding=te(s.appendPadding,(0,P.U2)(h,["breadCrumb","position"]))),o}function bh(o){return pt(Me,ge("sunburstStyle"),sd,Mh,Hl,ue,ld,ud,Fa,Ch,fe,_e())(o)}function Ia(o,s){if((0,P.kJ)(o))return o.find(function(u){return u.type===s})}function Ah(o,s){var u=Ia(o,s);return u&&!1!==u.enable}function ri(o){var s=o.interactions;return(0,P.U2)(o.drilldown,"enabled")||Ah(s,"treemap-drill-down")}function Yl(o){var s=o.data,u=o.colorField,h=o.enableDrillDown,v=o.hierarchyConfig,d=wh(s,(0,B.pi)((0,B.pi)({},v),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),y=[];return d.forEach(function(M){if(0===M.depth||h&&1!==M.depth||!h&&M.children)return null;var S=M.ancestors().map(function(F){return{data:F.data,height:F.height,value:F.value}}),C=h&&(0,P.kJ)(s.path)?S.concat(s.path.slice(1)):S,T=Object.assign({},M.data,(0,B.pi)({x:M.x,y:M.y,depth:M.depth,value:M.value,path:C},M));if(!M.data[u]&&M.parent){var I=M.ancestors().find(function(F){return F.data[u]});T[u]=I?.data[u]}else T[u]=M.data[u];T[Un]={hierarchyConfig:v,colorField:u,enableDrillDown:h},y.push(T)}),y}function Xl(o){return V({options:{rawFields:["value"],tooltip:{fields:["name","value",o.options.colorField,"path"],formatter:function(h){return{name:h.name,value:h.value}}}}},o)}function bn(o){var s=o.chart,u=o.options,h=u.color,v=u.colorField,d=u.rectStyle,y=u.hierarchyConfig,M=u.rawFields,S=Yl({data:u.data,colorField:u.colorField,enableDrillDown:ri(u),hierarchyConfig:y});return s.data(S),dn(V({},o,{options:{xField:"x",yField:"y",seriesField:v,rawFields:M,polygon:{color:h,style:d}}})),s.coordinate().reflect("y"),o}function Ar(o){return o.chart.axis(!1),o}function Th(o){var s=o.drilldown,u=o.interactions,h=void 0===u?[]:u;return ri(o)?V({},o,{interactions:(0,B.ev)((0,B.ev)([],h,!0),[{type:"drill-down",cfg:{drillDownConfig:s,transformData:Yl}}],!1)}):o}function hd(o){var s=o.chart,u=o.options,h=u.interactions,v=u.drilldown;Le({chart:s,options:Th(u)});var d=Ia(h,"view-zoom");return d&&(!1!==d.enable?s.getCanvas().on("mousewheel",function(M){M.preventDefault()}):s.getCanvas().off("mousewheel")),ri(u)&&(s.appendPadding=te(s.appendPadding,(0,P.U2)(v,["breadCrumb","position"]))),o}function Eh(o){return pt(Xl,Me,ge("rectStyle"),bn,Ar,ue,Te,hd,fe,_e())(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="sunburst",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return uh},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return bh},s.SUNBURST_ANCESTOR_FIELD=As,s.SUNBURST_PATH_FIELD=mo,s.NODE_ANCESTORS_FIELD=Cl}($e);var Mo={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},hn=(function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="treemap",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Mo},s.prototype.changeData=function(u){var h=this.options,v=h.colorField,d=h.interactions,y=h.hierarchyConfig;this.updateOption({data:u});var M=Yl({data:u,colorField:v,enableDrillDown:Ah(d,"treemap-drill-down"),hierarchyConfig:y});this.chart.changeData(M),function cd(o){var s=o.interactions["drill-down"];s&&s.context.actions.find(function(h){return"drill-down-action"===h.name}).reset()}(this.chart)},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Eh}}($e),"id"),tn="path",Is={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(o){return{name:o.id,value:o.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function An(o){o&&o.geometries[0].elements.forEach(function(u){u.shape.toFront()})}var Wl=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.syncElementsPos=function(){An(this.context.view)},s.prototype.active=function(){o.prototype.active.call(this),this.syncElementsPos()},s.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},s.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},s}((0,ft.gj)("element-active")),pd=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.syncElementsPos=function(){An(this.context.view)},s.prototype.highlight=function(){o.prototype.highlight.call(this),this.syncElementsPos()},s.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},s.prototype.clear=function(){o.prototype.clear.call(this),this.syncElementsPos()},s.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},s}((0,ft.gj)("element-highlight")),Tn=(0,ft.gj)("element-selected"),Fh=(0,ft.gj)("element-single-selected"),dd=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.syncElementsPos=function(){An(this.context.view)},s.prototype.selected=function(){o.prototype.selected.call(this),this.syncElementsPos()},s.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},s.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},s}(Tn),gd=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.syncElementsPos=function(){An(this.context.view)},s.prototype.selected=function(){o.prototype.selected.call(this),this.syncElementsPos()},s.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},s.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},s}(Fh);(0,ft.zl)("venn-element-active",Wl),(0,ft.zl)("venn-element-highlight",pd),(0,ft.zl)("venn-element-selected",dd),(0,ft.zl)("venn-element-single-selected",gd),(0,ft.w_)("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),(0,ft.w_)("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),(0,ft.w_)("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),(0,ft.w_)("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),(0,ft.w_)("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),(0,ft.w_)("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var Ih=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return(0,B.ZT)(s,o),s.prototype.getLabelPoint=function(u,h,v){var d=u.data,S=u.customLabelInfo;return{content:u.content[v],x:d.x+S.offsetX,y:d.y+S.offsetY}},s}(ft.Lc);(0,ft.gp)("venn",Ih);var yd=mt(4177),So="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Lh=new RegExp("([a-z])["+So+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+So+"]*,?["+So+"]*)+)","ig"),md=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+So+"]*,?["+So+"]*","ig");Math,(0,ft.Fj)("schema","venn",{draw:function(o,s){var h=function Ls(o){if(!o)return null;if((0,yd.Z)(o))return o;var s={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},u=[];return String(o).replace(Lh,function(h,v,d){var y=[],M=v.toLowerCase();if(d.replace(md,function(S,C){C&&y.push(+C)}),"m"===M&&y.length>2&&(u.push([v].concat(y.splice(0,2))),M="l",v="m"===v?"l":"L"),"o"===M&&1===y.length&&u.push([v,y[0]]),"r"===M)u.push([v].concat(y));else for(;y.length>=s[M]&&(u.push([v].concat(y.splice(0,s[M]))),s[M]););return""}),u}(o.data[tn]),v=function $0(o){return V({},o.defaultStyle,{fill:o.color},o.style)}(o),d=s.addGroup({name:"venn-shape"});d.addShape("path",{attrs:(0,B.pi)((0,B.pi)({},v),{path:h}),name:"venn-path"});var y=o.customInfo,C=ft.Zr.transform(null,[["t",y.offsetX,y.offsetY]]);return d.setMatrix(C),d},getMarker:function(o){var s=o.color;return{symbol:"circle",style:{lineWidth:0,stroke:s,fill:s,r:4}}}});var Nh=mt(873),fn={normal:function(o){return o},multiply:function(o,s){return o*s/255},screen:function(o,s){return 255*(1-(1-o/255)*(1-s/255))},overlay:function(o,s){return s<128?2*o*s/255:255*(1-2*(1-o/255)*(1-s/255))},darken:function(o,s){return o>s?s:o},lighten:function(o,s){return o>s?o:s},dodge:function(o,s){return 255===o||(o=s/255*255/(1-o/255))>255?255:o},burn:function(o,s){return 255===s?255:0===o?0:255*(1-Math.min(1,(1-s/255)/(o/255)))}};function Os(o){var u,s=o.replace("/s+/g","");return"string"!=typeof s||s.startsWith("rgba")||s.startsWith("#")?(s.startsWith("rgba")&&(u=s.replace("rgba(","").replace(")","").split(",")),s.startsWith("#")&&(u=Nh.Z.rgb2arr(s).concat([1])),u.map(function(h,v){return 3===v?Number(h):0|h})):u=Nh.Z.rgb2arr(Nh.Z.toRGB(s)).concat([1])}var rn=mt(6948),zh=1e-10;function Jl(o,s){var y,u=function Vh(o){for(var s=[],u=0;u<o.length;++u)for(var h=u+1;h<o.length;++h)for(var v=Ql(o[u],o[h]),d=0;d<v.length;++d){var y=v[d];y.parentIndex=[u,h],s.push(y)}return s}(o),h=u.filter(function(Ne){return function bd(o,s){for(var u=0;u<s.length;++u)if(si(o,s[u])>s[u].radius+zh)return!1;return!0}(Ne,o)}),v=0,d=0,M=[];if(h.length>1){var S=Gh(h);for(y=0;y<h.length;++y){var C=h[y];C.angle=Math.atan2(C.x-S.x,C.y-S.y)}h.sort(function(Ne,He){return He.angle-Ne.angle});var T=h[h.length-1];for(y=0;y<h.length;++y){var I=h[y];d+=(T.x+I.x)*(I.y-T.y);for(var F={x:(I.x+T.x)/2,y:(I.y+T.y)/2},k=null,G=0;G<I.parentIndex.length;++G)if(T.parentIndex.indexOf(I.parentIndex[G])>-1){var $=o[I.parentIndex[G]],et=Math.atan2(I.x-$.x,I.y-$.y),q=Math.atan2(T.x-$.x,T.y-$.y),bt=q-et;bt<0&&(bt+=2*Math.PI);var Zt=q-bt/2,Ut=si(F,{x:$.x+$.radius*Math.sin(Zt),y:$.y+$.radius*Math.cos(Zt)});Ut>2*$.radius&&(Ut=2*$.radius),(null===k||k.width>Ut)&&(k={circle:$,width:Ut,p1:I,p2:T})}null!==k&&(M.push(k),v+=vn(k.circle.radius,k.width),T=I)}}else{var Ht=o[0];for(y=1;y<o.length;++y)o[y].radius<Ht.radius&&(Ht=o[y]);var Ae=!1;for(y=0;y<o.length;++y)if(si(o[y],Ht)>Math.abs(Ht.radius-o[y].radius)){Ae=!0;break}Ae?v=d=0:(v=Ht.radius*Ht.radius*Math.PI,M.push({circle:Ht,p1:{x:Ht.x,y:Ht.y+Ht.radius},p2:{x:Ht.x-zh,y:Ht.y+Ht.radius},width:2*Ht.radius}))}return d/=2,s&&(s.area=v+d,s.arcArea=v,s.polygonArea=d,s.arcs=M,s.innerPoints=h,s.intersectionPoints=u),v+d}function vn(o,s){return o*o*Math.acos(1-s/o)-(o-s)*Math.sqrt(s*(2*o-s))}function si(o,s){return Math.sqrt((o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y))}function Uh(o,s,u){if(u>=o+s)return 0;if(u<=Math.abs(o-s))return Math.PI*Math.min(o,s)*Math.min(o,s);var v=s-(u*u-o*o+s*s)/(2*u);return vn(o,o-(u*u-s*s+o*o)/(2*u))+vn(s,v)}function Ql(o,s){var u=si(o,s),h=o.radius,v=s.radius;if(u>=h+v||u<=Math.abs(h-v))return[];var d=(h*h-v*v+u*u)/(2*u),y=Math.sqrt(h*h-d*d),M=o.x+d*(s.x-o.x)/u,S=o.y+d*(s.y-o.y)/u,C=y/u*-(s.y-o.y),T=y/u*-(s.x-o.x);return[{x:M+C,y:S-T},{x:M-C,y:S+T}]}function Gh(o){for(var s={x:0,y:0},u=0;u<o.length;++u)s.x+=o[u].x,s.y+=o[u].y;return s.x/=o.length,s.y/=o.length,s}function tu(o,s,u){var v,d,h=s[0].radius-si(s[0],o);for(v=1;v<s.length;++v)(d=s[v].radius-si(s[v],o))<=h&&(h=d);for(v=0;v<u.length;++v)(d=si(u[v],o)-u[v].radius)<=h&&(h=d);return h}function Hh(o,s){var h,u=[];for(h=0;h<o.length;++h){var v=o[h];u.push({x:v.x,y:v.y}),u.push({x:v.x+v.radius/2,y:v.y}),u.push({x:v.x-v.radius/2,y:v.y}),u.push({x:v.x,y:v.y+v.radius/2}),u.push({x:v.x,y:v.y-v.radius/2})}var d=u[0],y=tu(u[0],o,s);for(h=1;h<u.length;++h){var M=tu(u[h],o,s);M>=y&&(d=u[h],y=M)}var S=(0,rn.nelderMead)(function(F){return-1*tu({x:F[0],y:F[1]},o,s)},[d.x,d.y],{maxIterations:500,minErrorDelta:1e-10}).x,C={x:S[0],y:S[1]},T=!0;for(h=0;h<o.length;++h)if(si(C,o[h])>o[h].radius){T=!1;break}for(h=0;h<s.length;++h)if(si(C,s[h])<s[h].radius){T=!1;break}if(!T)if(1==o.length)C={x:o[0].x,y:o[0].y};else{var I={};Jl(o,I),C=0===I.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==I.arcs.length?{x:I.arcs[0].circle.x,y:I.arcs[0].circle.y}:s.length?Hh(o,[]):Gh(I.arcs.map(function(F){return F.p1}))}return C}var Wh=1e-10;function La(o,s,u){return Math.min(o,s)*Math.min(o,s)*Math.PI<=u+Wh?Math.abs(o-s):(0,rn.bisect)(function(h){return Uh(o,s,h)-u},0,o+s)}function _s(o,s){var u=function ru(o,s){for(var d,u=s&&s.lossFunction?s.lossFunction:ka,h={},v={},y=0;y<o.length;++y){var M=o[y];1==M.sets.length&&(h[d=M.sets[0]]={x:1e10,y:1e10,rowid:Object.keys(h).length,size:M.size,radius:Math.sqrt(M.size/Math.PI)},v[d]=[])}for(o=o.filter(function(be){return 2==be.sets.length}),y=0;y<o.length;++y){var S=o[y],C=S.hasOwnProperty("weight")?S.weight:1,T=S.sets[0],I=S.sets[1];S.size+Wh>=Math.min(h[T].size,h[I].size)&&(C=0),v[T].push({set:I,size:S.size,weight:C}),v[I].push({set:T,size:S.size,weight:C})}var F=[];for(d in v)if(v.hasOwnProperty(d)){var k=0;for(y=0;y<v[d].length;++y)k+=v[d][y].size*v[d][y].weight;F.push({set:d,size:k})}function G(be,Ue){return Ue.size-be.size}F.sort(G);var $={};function et(be){return be.set in $}function q(be,Ue){h[Ue].x=be.x,h[Ue].y=be.y,$[Ue]=!0}for(q({x:0,y:0},F[0].set),y=1;y<F.length;++y){var bt=F[y].set,Zt=v[bt].filter(et);if(d=h[bt],Zt.sort(G),0===Zt.length)throw"ERROR: missing pairwise overlap information";for(var Ut=[],Ht=0;Ht<Zt.length;++Ht){var Ae=h[Zt[Ht].set],Ne=La(d.radius,Ae.radius,Zt[Ht].size);Ut.push({x:Ae.x+Ne,y:Ae.y}),Ut.push({x:Ae.x-Ne,y:Ae.y}),Ut.push({y:Ae.y+Ne,x:Ae.x}),Ut.push({y:Ae.y-Ne,x:Ae.x});for(var He=Ht+1;He<Zt.length;++He)for(var nr=h[Zt[He].set],qe=La(d.radius,nr.radius,Zt[He].size),Ye=Ql({x:Ae.x,y:Ae.y,radius:Ne},{x:nr.x,y:nr.y,radius:qe}),vr=0;vr<Ye.length;++vr)Ut.push(Ye[vr])}var kr=1e50,Fr=Ut[0];for(Ht=0;Ht<Ut.length;++Ht){h[bt].x=Ut[Ht].x,h[bt].y=Ut[Ht].y;var Hr=u(h,o);Hr<kr&&(kr=Hr,Fr=Ut[Ht])}q(Fr,bt)}return h}(o,s),h=s.lossFunction||ka;if(o.length>=8){var v=function Rs(o,s){var d,u=(s=s||{}).restarts||10,h=[],v={};for(d=0;d<o.length;++d){var y=o[d];1==y.sets.length&&(v[y.sets[0]]=h.length,h.push(y))}var M=function Zh(o,s,u){var h=(0,rn.zerosM)(s.length,s.length),v=(0,rn.zerosM)(s.length,s.length);return o.filter(function(d){return 2==d.sets.length}).map(function(d){var y=u[d.sets[0]],M=u[d.sets[1]],T=La(Math.sqrt(s[y].size/Math.PI),Math.sqrt(s[M].size/Math.PI),d.size);h[y][M]=h[M][y]=T;var I=0;d.size+1e-10>=Math.min(s[y].size,s[M].size)?I=1:d.size<=1e-10&&(I=-1),v[y][M]=v[M][y]=I}),{distances:h,constraints:v}}(o,h,v),S=M.distances,C=M.constraints,T=(0,rn.norm2)(S.map(rn.norm2))/S.length;S=S.map(function(bt){return bt.map(function(Zt){return Zt/T})});var F,k,I=function(bt,Zt){return function Bs(o,s,u,h){var d,v=0;for(d=0;d<s.length;++d)s[d]=0;for(d=0;d<u.length;++d)for(var y=o[2*d],M=o[2*d+1],S=d+1;S<u.length;++S){var C=o[2*S],T=o[2*S+1],I=u[d][S],F=h[d][S],k=(C-y)*(C-y)+(T-M)*(T-M),G=Math.sqrt(k),$=k-I*I;F>0&&G<=I||F<0&&G>=I||(v+=2*$*$,s[2*d]+=4*$*(y-C),s[2*d+1]+=4*$*(M-T),s[2*S]+=4*$*(C-y),s[2*S+1]+=4*$*(T-M))}return v}(bt,Zt,S,C)};for(d=0;d<u;++d){var G=(0,rn.zeros)(2*S.length).map(Math.random);k=(0,rn.conjugateGradient)(I,G,s),(!F||k.fx<F.fx)&&(F=k)}var $=F.x,et={};for(d=0;d<h.length;++d){var q=h[d];et[q.sets[0]]={x:$[2*d]*T,y:$[2*d+1]*T,radius:Math.sqrt(q.size/Math.PI)}}if(s.history)for(d=0;d<s.history.length;++d)(0,rn.scale)(s.history[d].x,T);return et}(o,s);h(v,o)+1e-8<h(u,o)&&(u=v)}return u}function ka(o,s){for(var u=0,v=0;v<s.length;++v){var d=s[v],y=void 0;if(1!=d.sets.length){if(2==d.sets.length){var M=o[d.sets[0]],S=o[d.sets[1]];y=Uh(M.radius,S.radius,si(M,S))}else y=Jl(d.sets.map(function(I){return o[I]}));u+=(d.hasOwnProperty("weight")?d.weight:1)*(y-d.size)*(y-d.size)}}return u}var Kh=(0,P.HP)(function(o,s,u,h){var v=new Map,d=o.length;return s.forEach(function(y,M){if(1===y[h].length)v.set(y[hn],o[(M+d)%d]);else{var S=y[h].map(function(C){return v.get(C)});v.set(y[hn],S.slice(1).reduce(function(C,T){return function Gi(o,s,u){void 0===u&&(u="normal");var h=function(o){return function(s,u){var h=[];return h[0]=o(s[0],u[0]),h[1]=o(s[1],u[1]),h[2]=o(s[2],u[2]),h}}(function(o){if(!fn[o])throw new Error("unknown blend mode "+o);return fn[o]}(u))(Os(o),Os(s)),v=Os(o),d=v[0],y=v[1],M=v[2],S=v[3],C=Os(s),T=C[0],I=C[1],F=C[2],k=C[3],G=Number((S+k*(1-S)).toFixed(2)),$=Math.round((S*(1-k)*(d/255)+S*k*(h[0]/255)+(1-S)*k*(T/255))/G*255),et=Math.round((S*(1-k)*(y/255)+S*k*(h[1]/255)+(1-S)*k*(I/255))/G*255),q=Math.round((S*(1-k)*(M/255)+S*k*(h[2]/255)+(1-S)*k*(F/255))/G*255);return"rgba(".concat($,", ").concat(et,", ").concat(q,", ").concat(G,")")}(C,T,u)},S[0]))}}),v},function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return JSON.stringify(o)});function Pa(o,s,u,h){void 0===h&&(h=0);var v=o.data,d=o.setsField,y=o.sizeField;if(0===v.length)return ve(Nt.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var M=v.map(function(I){var F;return(0,B.pi)((0,B.pi)({},I),((F={sets:I[d]||[],size:I[y]})[tn]="",F[hn]="",F))});M.sort(function(I,F){return I.sets.length-F.sets.length});var S=function Ed(o,s){(s=s||{}).maxIterations=s.maxIterations||500;var u=s.initialLayout||_s,h=s.lossFunction||ka;o=function eu(o){o=o.slice();var h,v,d,y,s=[],u={};for(h=0;h<o.length;++h){var M=o[h];1==M.sets.length?s.push(M.sets[0]):2==M.sets.length&&(u[[d=M.sets[0],y=M.sets[1]]]=!0,u[[y,d]]=!0)}for(s.sort(function(S,C){return S>C?1:-1}),h=0;h<s.length;++h)for(d=s[h],v=h+1;v<s.length;++v)[d,y=s[v]]in u||o.push({sets:[d,y],size:0});return o}(o);var M,v=u(o,s),d=[],y=[];for(M in v)v.hasOwnProperty(M)&&(d.push(v[M].x),d.push(v[M].y),y.push(M));for(var C=(0,rn.nelderMead)(function(I){for(var F={},k=0;k<y.length;++k){var G=y[k];F[G]={x:I[2*k],y:I[2*k+1],radius:v[G].radius}}return h(F,o)},d,s).x,T=0;T<y.length;++T)v[M=y[T]].x=C[2*T],v[M].y=C[2*T+1];return v}(M),C=function iu(o,s,u,h){var v=[],d=[];for(var y in o)o.hasOwnProperty(y)&&(d.push(y),v.push(o[y]));s-=2*h,u-=2*h;var M=function pn(o){var s=function(u){return{max:Math.max.apply(null,o.map(function(d){return d[u]+d.radius})),min:Math.min.apply(null,o.map(function(d){return d[u]-d.radius}))}};return{xRange:s("x"),yRange:s("y")}}(v),S=M.xRange,C=M.yRange;if(S.max==S.min||C.max==C.min)return console.log("not scaling solution: zero size detected"),o;for(var F=Math.min(u/(C.max-C.min),s/(S.max-S.min)),k=(s-(S.max-S.min)*F)/2,G=(u-(C.max-C.min)*F)/2,$={},et=0;et<v.length;++et){var q=v[et];$[d[et]]={radius:F*q.radius,x:h+k+(q.x-S.min)*F,y:h+G+(q.y-C.min)*F}}return $}(S,s,u,h),T=function Xh(o,s){for(var u={},h=function Yh(o){var s={},u=[];for(var h in o)u.push(h),s[h]=[];for(var v=0;v<u.length;v++)for(var d=o[u[v]],y=v+1;y<u.length;++y){var M=o[u[y]],S=si(d,M);S+M.radius<=d.radius+1e-10?s[u[y]].push(u[v]):S+d.radius<=M.radius+1e-10&&s[u[v]].push(u[y])}return s}(o),v=0;v<s.length;++v){for(var d=s[v].sets,y={},M={},S=0;S<d.length;++S){y[d[S]]=!0;for(var C=h[d[S]],T=0;T<C.length;++T)M[C[T]]=!0}var I=[],F=[];for(var k in o)k in y?I.push(o[k]):k in M||F.push(o[k]);var G=Hh(I,F);u[d]=G,G.disjoint&&s[v].size>0&&console.log("WARNING: area "+d+" not represented on screen")}return u}(C,M);return M.forEach(function(I){var F=I.sets,k=F.join(",");I[hn]=k;var $=function Td(o){var s={};Jl(o,s);var u=s.arcs;if(0===u.length)return"M 0 0";if(1==u.length){var h=u[0].circle;return function Ad(o,s,u){var h=[],v=o-u,d=s;return h.push("M",v,d),h.push("A",u,u,0,1,0,v+2*u,d),h.push("A",u,u,0,1,0,v,d),h.join(" ")}(h.x,h.y,h.radius)}for(var v=["\nM",u[0].p2.x,u[0].p2.y],d=0;d<u.length;++d){var y=u[d],M=y.circle.radius;v.push("\nA",M,M,0,y.width>M?1:0,1,y.p1.x,y.p1.y)}return v.join(" ")}(F.map(function(q){return C[q]}));/[zZ]$/.test($)||($+=" Z"),I[tn]=$,(0,P.f0)(I,T[k]||{x:0,y:0})}),M}var Fd=40;function Ns(o,s,u){var v=o.options,d=v.blendMode,y=v.setsField,M=o.chart.getTheme(),S=M.colors10,C=M.colors20,T=u;(0,P.kJ)(T)||(T=s.filter(function(F){return 1===F[y].length}).length<=10?S:C);var I=Kh(T,s,d,y);return function(F){return I.get(F)||T[0]}}function au(o){var s=o.chart,u=o.options,h=u.legend,v=u.appendPadding,d=u.padding,y=Dt(v);return!1!==h&&(y=te(v,(0,P.U2)(h,"position"),Fd)),s.appendPadding=ae([y,d]),o}function Id(o){var u=o.options.data;u||(ve(Nt.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),u=[]);var h=u.filter(function(d){return 1===d.sets.length}).map(function(d){return d.sets[0]}),v=u.filter(function(d){return function nu(o,s){for(var u=0;u<s.length;u++)if(!o.includes(s[u]))return!1;return!0}(h,d.sets)});return(0,P.Xy)(v,u)||ve(Nt.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,P.b$)({},o,{options:{data:v}})}function Qh(o){var s=o.chart,u=o.options,h=u.pointStyle,v=u.setsField,d=u.sizeField,y=Dt(s.appendPadding),M=y[0],C=y[2],T=y[3],I={offsetX:T,offsetY:M},F=s.viewBBox,G=F.height,$=Pa(u,Math.max(F.width-(y[1]+T),0),Math.max(G-(M+C),0),0);s.data($);var q=Ln(V({},o,{options:{xField:"x",yField:"y",sizeField:d,seriesField:hn,rawFields:[v,d],schema:{shape:"venn",style:h}}})).ext.geometry;q.customInfo(I);var bt=function Jh(o,s){var h=o.options.color;if("function"!=typeof h){var d=Ns(o,s,"string"==typeof h?[h]:h);return function(y){return d(y[hn])}}return h}(o,$);return"function"==typeof bt&&q.color(hn,function(Zt){var Ut=$.find(function(Ae){return Ae[hn]===Zt}),Ht=Ns(o,$)(Zt);return bt(Ut,Ht)}),o}function tf(o){var s=o.chart,h=o.options.label,v=Dt(s.appendPadding),M={offsetX:v[3],offsetY:v[0]},S=re(s,"schema");if(h){var C=h.callback,T=(0,B._T)(h,["callback"]);S.label({fields:["id"],callback:C,cfg:(0,P.b$)({},Qt(T),{type:"venn",customLabelInfo:M})})}else S.label(!1);return o}function Ld(o){var s=o.chart,u=o.options,v=u.sizeField;return s.legend(hn,u.legend),s.legend(v,!1),o}function kd(o){return o.chart.axis(!1),o}function Pd(o){var u=o.chart,h=o.options.interactions;if(h){var v={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Le(V({},o,{options:{interactions:h.map(function(d){return(0,B.pi)((0,B.pi)({},d),{type:v[d.type]||d.type})})}}))}return u.removeInteraction("legend-active"),u.removeInteraction("legend-highlight"),o}function Dd(o){return pt(au,Me,Id,Qh,tf,Be({}),Ld,kd,Te,Pd,fe)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="venn",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Is},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Dd},s.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}($e);var ki="x",Kr="violinY",Od="violinSize",rf="minMax",bo="quantile",nf="median",ou="violin_view",af="min_max_view",Bd="quantile_view",_d="median_view",ii=V({},$e.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),Fn=mt(4319),Rd=mt.n(Fn);function of(o,s){var u=o.length*s;if(0===o.length)throw new Error("quantile requires at least one data point.");if(s<0||s>1)throw new Error("quantiles must be between 0 and 1");return 1===s?o[o.length-1]:0===s?o[0]:u%1!=0?o[Math.ceil(u)-1]:o.length%2==0?(o[u-1]+o[u])/2:o[u]}function Ao(o,s,u){var h=o[s];o[s]=o[u],o[u]=h}function zs(o,s,u,h){for(u=u||0,h=h||o.length-1;h>u;){if(h-u>600){var v=h-u+1,d=s-u+1,y=Math.log(v),M=.5*Math.exp(2*y/3),S=.5*Math.sqrt(y*M*(v-M)/v);d-v/2<0&&(S*=-1),zs(o,s,Math.max(u,Math.floor(s-d*M/v+S)),Math.min(h,Math.floor(s+(v-d)*M/v+S)))}var I=o[s],F=u,k=h;for(Ao(o,u,s),o[h]>I&&Ao(o,u,h);F<k;){for(Ao(o,F,k),F++,k--;o[F]<I;)F++;for(;o[k]>I;)k--}o[u]===I?Ao(o,u,k):Ao(o,++k,h),k<=s&&(u=k+1),s<=k&&(h=k-1)}}function To(o,s){var u=o.slice();if(Array.isArray(s)){!function Nd(o,s){for(var u=[0],h=0;h<s.length;h++)u.push(sf(o.length,s[h]));u.push(o.length-1),u.sort(lu);for(var v=[0,u.length-1];v.length;){var d=Math.ceil(v.pop()),y=Math.floor(v.pop());if(!(d-y<=1)){var M=Math.floor((y+d)/2);su(o,u[M],Math.floor(u[y]),Math.ceil(u[d])),v.push(y,M,M,d)}}}(u,s);for(var h=[],v=0;v<s.length;v++)h[v]=of(u,s[v]);return h}return su(u,sf(u.length,s),0,u.length-1),of(u,s)}function su(o,s,u,h){s%1==0?zs(o,s,u,h):(zs(o,s=Math.floor(s),u,h),zs(o,s+1,s+1,h))}function lu(o,s){return o-s}function sf(o,s){var u=o*s;return 1===s?o-1:0===s?0:u%1!=0?Math.ceil(u)-1:o%2==0?u-.5:u}var uu=function(o){return{low:(0,P.VV)(o),high:(0,P.Fp)(o),q1:To(o,.25),q3:To(o,.75),median:To(o,[.5]),minMax:[(0,P.VV)(o),(0,P.Fp)(o)],quantile:[To(o,.25),To(o,.75)]}},Da=function(o,s){var u=Rd().create(o,s);return{violinSize:u.map(function(h){return h.y}),violinY:u.map(function(h){return h.x})}},lf=function(o){var s=o.xField,u=o.yField,h=o.seriesField,v=o.data,d=o.kde,y={min:d.min,max:d.max,size:d.sampleSize,width:d.width};if(!h){var M=(0,P.vM)(v,s);return Object.keys(M).map(function(T){var F=M[T].map(function(k){return k[u]});return(0,B.pi)((0,B.pi)({x:T},Da(F,y)),uu(F))})}var S=[],C=(0,P.vM)(v,h);return Object.keys(C).forEach(function(T){var I=(0,P.vM)(C[T],s);return Object.keys(I).forEach(function(F){var k,$=I[F].map(function(et){return et[u]});S.push((0,B.pi)((0,B.pi)(((k={x:F})[h]=T,k),Da($,y)),uu($)))})}),S},Vs=["low","high","q1","q3","median"],Us=[{type:"dodge",marginRatio:1/32}];function zd(o){return o.chart.data(lf(o.options)),o}function Gs(o){var u=o.options,h=u.seriesField,v=u.color,d=u.shape,y=void 0===d?"violin":d,M=u.violinStyle,S=u.tooltip,C=u.state,T=o.chart.createView({id:ou});return function Na(o){var s=o.options,u=s.violin,d=s.seriesField,S=Br(s.tooltip,[s.xField,s.yField,d,s.sizeField]);u&&dr(V({},o,{options:{type:"violin",colorField:d,tooltipFields:S.fields,mapping:(0,B.pi)({tooltip:S.formatter},u)}}))}({chart:T,options:{xField:ki,yField:Kr,seriesField:h||ki,sizeField:Od,tooltip:(0,B.pi)({fields:Vs},S),violin:{style:M,color:v,shape:y},state:C}}),T.geometries[0].adjust(Us),o}function uf(o){var s=o.chart,u=o.options,h=u.seriesField,v=u.color,d=u.tooltip,y=u.box;if(!1===y)return o;var M=s.createView({id:af});Ir({chart:M,options:{xField:ki,yField:rf,seriesField:h||ki,tooltip:(0,B.pi)({fields:Vs},d),state:"object"==typeof y?y.state:{},interval:{color:v,size:1,style:{lineWidth:0}}}}),M.geometries[0].adjust(Us);var S=s.createView({id:Bd});Ir({chart:S,options:{xField:ki,yField:bo,seriesField:h||ki,tooltip:(0,B.pi)({fields:Vs},d),state:"object"==typeof y?y.state:{},interval:{color:v,size:8,style:{fillOpacity:1}}}}),S.geometries[0].adjust(Us);var C=s.createView({id:_d});return Ur({chart:C,options:{xField:ki,yField:nf,seriesField:h||ki,tooltip:(0,B.pi)({fields:Vs},d),state:"object"==typeof y?y.state:{},point:{color:v,size:1,style:{fill:"white",lineWidth:0}}}}),C.geometries[0].adjust(Us),S.axis(!1),M.axis(!1),C.axis(!1),C.legend(!1),M.legend(!1),S.legend(!1),o}function Vd(o){var s,u=o.chart,h=o.options,y=h.yAxis,S=V({},h.meta,((s={})[ki]=(0,B.pi)((0,B.pi)({sync:!0},zt(h.xAxis,Jt)),{type:"cat"}),s[Kr]=(0,B.pi)({sync:!0},zt(y,Jt)),s[rf]=(0,B.pi)({sync:Kr},zt(y,Jt)),s[bo]=(0,B.pi)({sync:Kr},zt(y,Jt)),s[nf]=(0,B.pi)({sync:Kr},zt(y,Jt)),s));return u.scale(S),o}function cu(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,d=_(s,ou);return d.axis(ki,!1!==h&&h),d.axis(Kr,!1!==v&&v),s.axis(!1),o}function cf(o){var s=o.chart,u=o.options,h=u.legend,v=u.seriesField,d=u.shape;if(!1===h)s.legend(!1);else{var y=v||ki,M=(0,P.CE)(h,["selected"]);(!d||!d.startsWith("hollow"))&&((0,P.U2)(M,["marker","style","lineWidth"])||(0,P.t8)(M,["marker","style","lineWidth"],0)),s.legend(y,M),(0,P.U2)(h,"selected")&&(0,P.S6)(s.views,function(S){return S.legend(y,h)})}return o}function Ud(o){var u=_(o.chart,ou);return _e()((0,B.pi)((0,B.pi)({},o),{chart:u})),o}function Gd(o){var h=o.options.animation;return(0,P.S6)(o.chart.views,function(v){dt(v,h)}),o}function Hd(o){return pt(Me,zd,Gs,uf,Vd,Te,cu,cf,Le,Ud,Gd)(o)}!function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="violin",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return ii},s.prototype.changeData=function(u){this.updateOption({data:u}),this.chart.changeData(lf(this.options))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.getSchemaAdaptor=function(){return Hd}}($e);var Pi="$$yField$$",Hs="$$diffField$$",hu="$$absoluteField$$",fu="$$isTotal$$",Yd={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function vu(o,s,u,h){var v=function hf(o,s,u,h,v){var d,y=[];if((0,P.u4)(o,function(S,C){var T;ve(Nt.WARN,(0,P.hj)(C[u]),"".concat(C[u]," is not a valid number"));var I=(0,P.o8)(C[u])?null:C[u];return y.push((0,B.pi)((0,B.pi)({},C),((T={})[h]=[S,S+I],T))),S+I},0),y.length&&v){var M=(0,P.U2)(y,[[o.length-1],h,[1]]);y.push(((d={})[s]=v.label,d[u]=M,d[h]=[0,M],d))}return y}(o,s,u,Pi,h);return v.map(function(d,y){var M;return(0,P.Kn)(d)?(0,B.pi)((0,B.pi)({},d),((M={})[hu]=d[Pi][1],M[Hs]=d[Pi][1]-d[Pi][0],M[fu]=y===o.length,M)):d})}function ff(o){var s=o.options,h=s.total,v=Pr(s.locale).get(["waterfall","total"]);return h&&"string"!=typeof h.label&&v&&(o.options.total.label=v),o}function Zd(o){var u=o.options,v=u.xField,d=u.yField,y=u.total,M=u.leaderLine,S=u.columnWidthRatio,C=u.waterfallStyle,T=u.risingFill,I=u.fallingFill,F=u.color,k=u.shape,G=u.customInfo;return o.chart.data(vu(u.data,v,d,y)),Ir(V({},o,{options:{xField:v,yField:Pi,seriesField:v,rawFields:[d,Hs,fu,Pi],widthRatio:S,interval:{style:C,shape:k||"waterfall",color:F||function(Zt){return(0,P.U2)(Zt,[fu])?(0,P.U2)(y,["style","fill"],""):(0,P.U2)(Zt,[Pi,1])-(0,P.U2)(Zt,[Pi,0])>0?T:I}}}})).ext.geometry.customInfo((0,B.pi)((0,B.pi)({},G),{leaderLine:M})),o}function $d(o){var s,u,h=o.options,v=h.xAxis,d=h.yAxis,y=h.xField,M=h.yField,S=h.meta,C=V({},{alias:M},(0,P.U2)(S,M));return pt(Be(((s={})[y]=v,s[M]=d,s[Pi]=d,s),V({},S,((u={})[Pi]=C,u[Hs]=C,u[hu]=C,u))))(o)}function jd(o){var s=o.chart,u=o.options,h=u.xAxis,v=u.yAxis,y=u.yField;return s.axis(u.xField,!1!==h&&h),!1===v?(s.axis(y,!1),s.axis(Pi,!1)):(s.axis(y,v),s.axis(Pi,v)),o}function pu(o){var s=o.chart,u=o.options,h=u.legend,v=u.total,d=u.risingFill,y=u.fallingFill,S=Pr(u.locale);if(!1===h)s.legend(!1);else{var C=[{name:S.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:d}}},{name:S.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:y}}}];v&&C.push({name:v.label||"",value:"total",marker:{symbol:"square",style:V({},{r:5},(0,P.U2)(v,"style"))}}),s.legend(V({},{custom:!0,position:"top",items:C},h)),s.removeInteraction("legend-filter")}return o}function pr(o){var u=o.options,h=u.label,v=u.labelMode,d=u.xField,y=re(o.chart,"interval");if(h){var M=h.callback,S=(0,B._T)(h,["callback"]);y.label({fields:"absolute"===v?[hu,d]:[Hs,d],callback:M,cfg:Qt(S)})}else y.label(!1);return o}function K0(o){var s=o.chart,u=o.options,h=u.tooltip,v=u.xField,d=u.yField;if(!1!==h){s.tooltip((0,B.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[d]},h));var y=s.geometries[0];h?.formatter?y.tooltip("".concat(v,"*").concat(d),h.formatter):y.tooltip(d)}else s.tooltip(!1);return o}function Di(o){return pt(ff,Me,Zd,$d,jd,pu,K0,pr,Oe,Le,fe,_e())(o)}(0,ft.Fj)("interval","waterfall",{draw:function(o,s){var u=o.customInfo,h=o.points,v=o.nextPoints,d=s.addGroup(),y=this.parsePath(function Xd(o){for(var s=[],u=0;u<o.length;u++){var h=o[u];h&&s.push([0===u?"M":"L",h.x,h.y])}var d=o[0];return s.push(["L",d.x,d.y]),s.push(["z"]),s}(h)),M=function Wd(o){return V({},o.defaultStyle,o.style,{fill:o.color})}(o);d.addShape("path",{attrs:(0,B.pi)((0,B.pi)({},M),{path:y})});var S=(0,P.U2)(u,"leaderLine");if(S&&v){var C=[["M",h[2].x,h[2].y],["L",v[0].x,v[0].y]];h[2].y===v[1].y&&(C[1]=["L",v[1].x,v[1].y]),C=this.parsePath(C),d.addShape("path",{attrs:(0,B.pi)({path:C},S.style||{})})}return d}}),function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="waterfall",u}(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Yd},s.prototype.changeData=function(u){var h=this.options,v=h.xField,d=h.yField,y=h.total;this.updateOption({data:u}),this.chart.changeData(vu(u,v,d,y))},s.prototype.getSchemaAdaptor=function(){return Di},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()}}($e);var Ys="color",Kd=V({},$e.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",Ys],formatter:function(o){return{name:o.text,value:o.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Jd={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function Eo(o,s){return function Fo(o,s){var u=function ug(){var o=[256,256],s=Qd,u=tg,h=Mi,v=eg,d=rg,y=vf,M=Math.random,S=[],C=1/0,T=du,I=Mi,F=Zs,k={};function $(et,q,bt){for(var He,qe,Ye,Zt=q.x,Ut=q.y,Ht=Math.sqrt(o[0]*o[0]+o[1]*o[1]),Ae=y(o),Ne=M()<.5?1:-1,nr=-Ne;(He=Ae(nr+=Ne))&&(qe=~~He[0],Ye=~~He[1],!(Math.min(Math.abs(qe),Math.abs(Ye))>=Ht));)if(q.x=Zt+qe,q.y=Ut+Ye,!(q.x+q.x0<0||q.y+q.y0<0||q.x+q.x1>o[0]||q.y+q.y1>o[1])&&(!bt||!ng(q,et,o[0]))&&(!bt||og(q,bt))){for(var vr=q.sprite,kr=q.width>>5,Fr=o[0]>>5,Hr=q.x-(kr<<4),be=127&Hr,Ue=32-be,Ke=q.y1-q.y0,Je=void 0,Xe=(q.y+q.y0)*Fr+(Hr>>5),Qe=0;Qe<Ke;Qe++){Je=0;for(var hr=0;hr<=kr;hr++)et[Xe+hr]|=Je<<Ue|(hr<kr?(Je=vr[Qe*kr+hr])>>>be:0);Xe+=Fr}return delete q.sprite,!0}return!1}return k.start=function(){var et=o[0],q=o[1],bt=function G(et){et.width=et.height=1;var q=Math.sqrt(et.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);et.width=(Oa<<5)/q,et.height=Ws/q;var bt=et.getContext("2d",{willReadFrequently:!0});return bt.fillStyle=bt.strokeStyle="red",bt.textAlign="center",{context:bt,ratio:q}}(F()),Zt=k.board?k.board:pf((o[0]>>5)*o[1]),Ut=S.length,Ht=[],Ae=S.map(function(qe,Ye,vr){return qe.text=T.call(this,qe,Ye,vr),qe.font=s.call(this,qe,Ye,vr),qe.style=I.call(this,qe,Ye,vr),qe.weight=h.call(this,qe,Ye,vr),qe.rotate=v.call(this,qe,Ye,vr),qe.size=~~u.call(this,qe,Ye,vr),qe.padding=d.call(this,qe,Ye,vr),qe}).sort(function(qe,Ye){return Ye.size-qe.size}),Ne=-1,He=k.board?[{x:0,y:0},{x:et,y:q}]:null;return function nr(){for(var qe=Date.now();Date.now()-qe<C&&++Ne<Ut;){var Ye=Ae[Ne];Ye.x=et*(M()+.5)>>1,Ye.y=q*(M()+.5)>>1,ig(bt,Ye,Ae,Ne),Ye.hasText&&$(Zt,Ye,He)&&(Ht.push(Ye),He?k.hasImage||ag(He,Ye):He=[{x:Ye.x+Ye.x0,y:Ye.y+Ye.y0},{x:Ye.x+Ye.x1,y:Ye.y+Ye.y1}],Ye.x-=o[0]>>1,Ye.y-=o[1]>>1)}k._tags=Ht,k._bounds=He}(),k},k.createMask=function(et){var q=document.createElement("canvas"),bt=o[0],Zt=o[1];if(bt&&Zt){var Ut=bt>>5,Ht=pf((bt>>5)*Zt);q.width=bt,q.height=Zt;var Ae=q.getContext("2d");Ae.drawImage(et,0,0,et.width,et.height,0,0,bt,Zt);for(var Ne=Ae.getImageData(0,0,bt,Zt).data,He=0;He<Zt;He++)for(var nr=0;nr<bt;nr++){var Ye=He*bt+nr<<2;Ht[Ut*He+(nr>>5)]|=Ne[Ye]>=250&&Ne[Ye+1]>=250&&Ne[Ye+2]>=250?1<<31-nr%32:0}k.board=Ht,k.hasImage=!0}},k.timeInterval=function(et){C=et??1/0},k.words=function(et){S=et},k.size=function(et){o=[+et[0],+et[1]]},k.font=function(et){s=Hi(et)},k.fontWeight=function(et){h=Hi(et)},k.rotate=function(et){v=Hi(et)},k.spiral=function(et){y=lg[et]||et},k.fontSize=function(et){u=Hi(et)},k.padding=function(et){d=Hi(et)},k.random=function(et){M=Hi(et)},k}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(S){(0,P.UM)(s[S])||u[S](s[S])}),u.words(o),s.imageMask&&u.createMask(s.imageMask);var v=u.start()._tags;v.forEach(function(S){S.x+=s.size[0]/2,S.y+=s.size[1]/2});var d=s.size,y=d[0],M=d[1];return v.push({text:"",value:0,x:0,y:0,opacity:0}),v.push({text:"",value:0,x:y,y:M,opacity:0}),v}(o,s=(0,P.f0)({},Jd,s))}var Xs=Math.PI/180,Oa=64,Ws=2048;function du(o){return o.text}function Qd(){return"serif"}function Mi(){return"normal"}function tg(o){return o.value}function eg(){return 90*~~(2*Math.random())}function rg(){return 1}function ig(o,s,u,h){if(!s.sprite){var v=o.context,d=o.ratio;v.clearRect(0,0,(Oa<<5)/d,Ws/d);var y=0,M=0,S=0,C=u.length;for(--h;++h<C;){s=u[h],v.save(),v.font=s.style+" "+s.weight+" "+~~((s.size+1)/d)+"px "+s.font;var T=v.measureText(s.text+"m").width*d,I=s.size<<1;if(s.rotate){var F=Math.sin(s.rotate*Xs),k=Math.cos(s.rotate*Xs),G=T*k,$=T*F,et=I*k,q=I*F;T=Math.max(Math.abs(G+q),Math.abs(G-q))+31>>5<<5,I=~~Math.max(Math.abs($+et),Math.abs($-et))}else T=T+31>>5<<5;if(I>S&&(S=I),y+T>=Oa<<5&&(y=0,M+=S,S=0),M+I>=Ws)break;v.translate((y+(T>>1))/d,(M+(I>>1))/d),s.rotate&&v.rotate(s.rotate*Xs),v.fillText(s.text,0,0),s.padding&&(v.lineWidth=2*s.padding,v.strokeText(s.text,0,0)),v.restore(),s.width=T,s.height=I,s.xoff=y,s.yoff=M,s.x1=T>>1,s.y1=I>>1,s.x0=-s.x1,s.y0=-s.y1,s.hasText=!0,y+=T}for(var bt=v.getImageData(0,0,(Oa<<5)/d,Ws/d).data,Zt=[];--h>=0;)if((s=u[h]).hasText){for(var Ut=(T=s.width)>>5,Ht=(I=s.y1-s.y0,0);Ht<I*Ut;Ht++)Zt[Ht]=0;if(null==(y=s.xoff))return;M=s.yoff;for(var Ae=0,Ne=-1,He=0;He<I;He++){for(Ht=0;Ht<T;Ht++){var qe=bt[(M+He)*(Oa<<5)+(y+Ht)<<2]?1<<31-Ht%32:0;Zt[Ut*He+(Ht>>5)]|=qe,Ae|=qe}Ae?Ne=He:(s.y0++,I--,He--,M++)}s.y1=s.y0+Ne,s.sprite=Zt.slice(0,(s.y1-s.y0)*Ut)}}}function ng(o,s,u){for(var T,h=o.sprite,v=o.width>>5,d=o.x-(v<<4),y=127&d,M=32-y,S=o.y1-o.y0,C=(o.y+o.y0)*(u>>=5)+(d>>5),I=0;I<S;I++){T=0;for(var F=0;F<=v;F++)if((T<<M|(F<v?(T=h[I*v+F])>>>y:0))&s[C+F])return!0;C+=u}return!1}function ag(o,s){var u=o[0],h=o[1];s.x+s.x0<u.x&&(u.x=s.x+s.x0),s.y+s.y0<u.y&&(u.y=s.y+s.y0),s.x+s.x1>h.x&&(h.x=s.x+s.x1),s.y+s.y1>h.y&&(h.y=s.y+s.y1)}function og(o,s){return o.x+o.x1>s[0].x&&o.x+o.x0<s[1].x&&o.y+o.y1>s[0].y&&o.y+o.y0<s[1].y}function vf(o){var s=o[0]/o[1];return function(u){return[s*(u*=.1)*Math.cos(u),u*Math.sin(u)]}}function pf(o){for(var s=[],u=-1;++u<o;)s[u]=0;return s}function Zs(){return document.createElement("canvas")}function Hi(o){return(0,P.mf)(o)?o:function(){return o}}var lg={archimedean:vf,rectangular:function sg(o){var u=4*o[0]/o[1],h=0,v=0;return function(d){var y=d<0?-1:1;switch(Math.sqrt(1+4*y*d)-y&3){case 0:h+=u;break;case 1:v+=4;break;case 2:h-=u;break;default:v-=4}return[h,v]}}};function df(o){var s=o.options,u=o.chart,v=u.width,d=u.height,y=u.padding,M=u.appendPadding,S=u.ele,C=s.data,T=s.imageMask,I=s.wordField,F=s.weightField,k=s.colorField,G=s.wordStyle,$=s.timeInterval,et=s.random,q=s.spiral,bt=s.autoFit,Zt=void 0===bt||bt,Ut=s.placementStrategy;if(!C||!C.length)return[];var Ht=G.fontFamily,Ae=G.fontWeight,Ne=G.padding,He=G.fontSize,nr=function pg(o,s){return o.map(function(u){return u[s]}).filter(function(u){return"number"==typeof u&&!isNaN(u)})}(C,F),qe=[yg(nr),J0(nr)],Ye=C.map(function(Fr){return{text:Fr[I],value:Fr[F],color:Fr[k],datum:Fr}}),vr={imageMask:T,font:Ht,fontSize:vg(He,qe),fontWeight:Ae,size:cg({width:v,height:d,padding:y,appendPadding:M,autoFit:Zt,container:S}),padding:Ne,timeInterval:$,random:et,spiral:q,rotate:dg(s)};if((0,P.mf)(Ut)){var kr=Ye.map(function(Fr,Hr,be){return(0,B.pi)((0,B.pi)((0,B.pi)({},Fr),{hasText:!!Fr.text,font:Hi(vr.font)(Fr,Hr,be),weight:Hi(vr.fontWeight)(Fr,Hr,be),rotate:Hi(vr.rotate)(Fr,Hr,be),size:Hi(vr.fontSize)(Fr,Hr,be),style:"normal"}),Ut.call(u,Fr,Hr,be))});return kr.push({text:"",value:0,x:0,y:0,opacity:0}),kr.push({text:"",value:0,x:vr.size[0],y:vr.size[1],opacity:0}),kr}return Eo(Ye,vr)}function cg(o){var s=o.width,u=o.height,d=o.padding,y=o.appendPadding;if(o.autoFit){var M=It(o.container);s=M.width,u=M.height}s=s||400,u=u||400;var S=function hg(o){var s=Dt(o.padding),u=Dt(o.appendPadding);return[s[0]+u[0],s[1]+u[1],s[2]+u[2],s[3]+u[3]]}({padding:d,appendPadding:y});return[s-(S[3]+S[1]),u-(S[0]+S[2])]}function vg(o,s){if((0,P.mf)(o))return o;if((0,P.kJ)(o)){var u=o[0],h=o[1];if(!s)return function(){return(h+u)/2};var v=s[0],d=s[1];return d===v?function(){return(h+u)/2}:function(M){return(h-u)/(d-v)*(M.value-v)+u}}return function(){return o}}function dg(o){var s=function gg(o){var s=o.wordStyle.rotationSteps;return s<1&&(ve(Nt.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),s=1),{rotation:o.wordStyle.rotation,rotationSteps:s}}(o),u=s.rotation,h=s.rotationSteps;if(!(0,P.kJ)(u))return u;var v=u[0],d=u[1],y=1===h?0:(d-v)/(h-1);return function(){return d===v?d:Math.floor(Math.random()*h)*y}}function yg(o){return Math.min.apply(Math,o)}function J0(o){return Math.max.apply(Math,o)}function mg(o){var s=o.chart,u=o.options,h=u.colorField,v=u.color,d=df(o);return s.data(d),Ur(V({},o,{options:{xField:"x",yField:"y",seriesField:h&&Ys,rawFields:(0,P.mf)(v)&&(0,B.ev)((0,B.ev)([],(0,P.U2)(u,"rawFields",[]),!0),["datum"],!1),point:{color:v,shape:"word-cloud"}}})).ext.geometry.label(!1),s.coordinate().reflect("y"),s.axis(!1),o}function xg(o){return pt(Be({x:{nice:!1},y:{nice:!1}}))(o)}function wg(o){var s=o.chart,u=o.options,h=u.legend,v=u.colorField;return!1===h?s.legend(!1):v&&s.legend(Ys,h),o}function gf(o){pt(mg,xg,Te,wg,Le,fe,Me,Oe)(o)}function Mg(o){return{fontSize:o.data.size,text:o.data.text,textAlign:"center",fontFamily:o.data.font,fontWeight:o.data.weight,fill:o.color||o.defaultStyle.stroke,textBaseline:"alphabetic"}}(0,ft.Fj)("point","word-cloud",{draw:function(o,s){var u=o.x,h=o.y,v=s.addShape("text",{attrs:(0,B.pi)((0,B.pi)({},Mg(o)),{x:u,y:h})}),d=o.data.rotate;return"number"==typeof d&&ft.Zr.rotate(v,d*Math.PI/180),v}});var Sg=function(o){function s(){var u=null!==o&&o.apply(this,arguments)||this;return u.type="word-cloud",u}return(0,B.ZT)(s,o),s.getDefaultOptions=function(){return Kd},s.prototype.changeData=function(u){this.updateOption({data:u}),this.options.imageMask?this.render():this.chart.changeData(df({chart:this.chart,options:this.options}))},s.prototype.getDefaultOptions=function(){return s.getDefaultOptions()},s.prototype.render=function(){var u=this;return new Promise(function(h){var v=u.options.imageMask;if(!v)return o.prototype.render.call(u),void h();var d=function(y){u.options=(0,B.pi)((0,B.pi)({},u.options),{imageMask:y||null}),o.prototype.render.call(u),h()};(function fg(o){return new Promise(function(s,u){if(o instanceof HTMLImageElement)s(o);else{if((0,P.HD)(o)){var h=new Image;return h.crossOrigin="anonymous",h.src=o,h.onload=function(){s(h)},void(h.onerror=function(){ve(Nt.ERROR,!1,"image %s load failed !!!",o),u()})}ve(Nt.WARN,void 0===o,"The type of imageMask option must be String or HTMLImageElement."),u()}})})(v).then(d).catch(d)})},s.prototype.getSchemaAdaptor=function(){return gf},s.prototype.triggerResize=function(){var u=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){o.prototype.triggerResize.call(u)}))},s}($e);!function(o){function s(u,h,v,d){var y=o.call(this,u,V({},d,h))||this;return y.type="g2-plot",y.defaultOptions=d,y.adaptor=v,y}(0,B.ZT)(s,o),s.prototype.getDefaultOptions=function(){return this.defaultOptions},s.prototype.getSchemaAdaptor=function(){return this.adaptor}}($e),Wr("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),Wr("zh-CN",{locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}})},3882:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Dg:()=>$t,lh:()=>Jt,m$:()=>B,vs:()=>Yt,zu:()=>P});var ee=mt(7543),ft=mt(8235);function B(zt,pe,w){var p=[0,0,0,0,0,0,0,0,0];return ee.vc(p,w),ee.Jp(zt,p,pe)}function P(zt,pe,w){var p=[0,0,0,0,0,0,0,0,0];return ee.Us(p,w),ee.Jp(zt,p,pe)}function Jt(zt,pe,w){var p=[0,0,0,0,0,0,0,0,0];return ee.xJ(p,w),ee.Jp(zt,p,pe)}function Nt(zt,pe,w){return ee.Jp(zt,w,pe)}function Yt(zt,pe){for(var w=zt?[].concat(zt):[1,0,0,0,1,0,0,0,1],p=0,st=pe.length;p<st;p++){var Q=pe[p];switch(Q[0]){case"t":B(w,w,[Q[1],Q[2]]);break;case"s":Jt(w,w,[Q[1],Q[2]]);break;case"r":P(w,w,Q[1]);break;case"m":Nt(w,w,Q[1])}}return w}function $t(zt,pe,w){var p=ft.EU(zt,pe),st=function Lt(zt,pe){return zt[0]*pe[1]-pe[0]*zt[1]}(zt,pe)>=0;return w?st?2*Math.PI-p:p:st?p:2*Math.PI-p}},2759:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{e9:()=>$t,Wq:()=>ce,tr:()=>Q,wb:()=>Tt,zx:()=>N});var ee=mt(8250),ft=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,B=/[^\s\,]+/gi;const Jt=function P(K){var ot=K||[];return(0,ee.kJ)(ot)?ot:(0,ee.HD)(ot)?(ot=ot.match(ft),(0,ee.S6)(ot,function(gt,Et){if((gt=gt.match(B))[0].length>1){var Kt=gt[0].charAt(0);gt.splice(1,0,gt[0].substr(1)),gt[0]=Kt}(0,ee.S6)(gt,function(le,ie){isNaN(le)||(gt[ie]=+le)}),ot[Et]=gt}),ot):void 0};var Nt=mt(8235);const $t=function Lt(K,ot,gt){void 0===ot&&(ot=!1),void 0===gt&&(gt=[[0,0],[1,1]]);for(var Et=!!ot,Kt=[],le=0,ie=K.length;le<ie;le+=2)Kt.push([K[le],K[le+1]]);var ue,Te,Le,oe=function Yt(K,ot,gt,Et){var ie,oe,Wt,ge,ue,Te,Le,Kt=[],le=!!Et;if(le){Wt=Et[0],ge=Et[1];for(var fe=0,Me=K.length;fe<Me;fe+=1)Wt=Nt.VV([0,0],Wt,Oe=K[fe]),ge=Nt.Fp([0,0],ge,Oe)}fe=0;for(var Re=K.length;fe<Re;fe+=1){var Oe=K[fe];if(0!==fe||gt)if(fe!==Re-1||gt){var Be=[0,0];Be=Nt.lu(Be,oe=K[gt?(fe+1)%Re:fe+1],ie=K[[fe?fe-1:Re-1,fe-1][gt?0:1]]),Be=Nt.bA(Be,Be,ot);var _e=Nt.TE(Oe,ie),Ge=Nt.TE(Oe,oe),Ze=_e+Ge;0!==Ze&&(_e/=Ze,Ge/=Ze);var ar=Nt.bA([0,0],Be,-_e),or=Nt.bA([0,0],Be,Ge);Te=Nt.IH([0,0],Oe,ar),ue=Nt.IH([0,0],Oe,or),ue=Nt.VV([0,0],ue,Nt.Fp([0,0],oe,Oe)),ue=Nt.Fp([0,0],ue,Nt.VV([0,0],oe,Oe)),ar=Nt.lu([0,0],ue,Oe),ar=Nt.bA([0,0],ar,-_e/Ge),Te=Nt.IH([0,0],Oe,ar),Te=Nt.VV([0,0],Te,Nt.Fp([0,0],ie,Oe)),Te=Nt.Fp([0,0],Te,Nt.VV([0,0],ie,Oe)),or=Nt.lu([0,0],Oe,Te),or=Nt.bA([0,0],or,Ge/_e),ue=Nt.IH([0,0],Oe,or),le&&(Te=Nt.Fp([0,0],Te,Wt),Te=Nt.VV([0,0],Te,ge),ue=Nt.Fp([0,0],ue,Wt),ue=Nt.VV([0,0],ue,ge)),Kt.push(Le),Kt.push(Te),Le=ue}else Te=Oe,Kt.push(Le),Kt.push(Te);else Le=Oe}return gt&&Kt.push(Kt.shift()),Kt}(Kt,.4,Et,gt),Wt=Kt.length,ge=[];for(le=0;le<Wt-1;le+=1)ge.push(["C",(ue=oe[2*le])[0],ue[1],(Te=oe[2*le+1])[0],Te[1],(Le=Kt[le+1])[0],Le[1]]);return Et&&ge.push(["C",(ue=oe[Wt])[0],ue[1],(Te=oe[Wt+1])[0],Te[1],(Le=Kt[0])[0],Le[1]]),ge};var w="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",p=new RegExp("([a-z])["+w+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+w+"]*,?["+w+"]*)+)","ig"),st=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+w+"]*,?["+w+"]*","ig");function Q(K){if(!K)return null;if((0,ee.kJ)(K))return K;var ot={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},gt=[];return String(K).replace(p,function(Et,Kt,le){var ie=[],oe=Kt.toLowerCase();if(le.replace(st,function(Wt,ge){ge&&ie.push(+ge)}),"m"===oe&&ie.length>2&&(gt.push([Kt].concat(ie.splice(0,2))),oe="l",Kt="m"===Kt?"l":"L"),"o"===oe&&1===ie.length&&gt.push([Kt,ie[0]]),"r"===oe)gt.push([Kt].concat(ie));else for(;ie.length>=ot[oe]&&(gt.push([Kt].concat(ie.splice(0,ot[oe]))),ot[oe]););return""}),gt}var Gt=/[a-z]/;function _t(K,ot){return[ot[0]+(ot[0]-K[0]),ot[1]+(ot[1]-K[1])]}function Tt(K){var ot=Q(K);if(!ot||!ot.length)return[["M",0,0]];for(var gt=!1,Et=0;Et<ot.length;Et++)if(Gt.test(Kt=ot[Et][0])||["V","H","T","S"].indexOf(Kt)>=0){gt=!0;break}if(!gt)return ot;var le=[],ie=0,oe=0,Wt=0,ge=0,ue=0,fe=ot[0];("M"===fe[0]||"m"===fe[0])&&(Wt=ie=+fe[1],ge=oe=+fe[2],ue++,le[0]=["M",ie,oe]),Et=ue;for(var Me=ot.length;Et<Me;Et++){var Kt,Oe=ot[Et],Re=le[Et-1],ke=[],Be=(Kt=Oe[0]).toUpperCase();if(Kt!==Be)switch(ke[0]=Be,Be){case"A":ke[1]=Oe[1],ke[2]=Oe[2],ke[3]=Oe[3],ke[4]=Oe[4],ke[5]=Oe[5],ke[6]=+Oe[6]+ie,ke[7]=+Oe[7]+oe;break;case"V":ke[1]=+Oe[1]+oe;break;case"H":ke[1]=+Oe[1]+ie;break;case"M":ge=+Oe[2]+oe,ke[1]=Wt=+Oe[1]+ie,ke[2]=ge;break;default:for(var _e=1,Ge=Oe.length;_e<Ge;_e++)ke[_e]=+Oe[_e]+(_e%2?ie:oe)}else ke=ot[Et];switch(Be){case"Z":ie=+Wt,oe=+ge;break;case"H":ke=["L",ie=ke[1],oe];break;case"V":ke=["L",ie,oe=ke[1]];break;case"T":ie=ke[1],oe=ke[2];var Ze=_t([Re[1],Re[2]],[Re[3],Re[4]]);ke=["Q",Ze[0],Ze[1],ie,oe];break;case"S":ie=ke[ke.length-2],oe=ke[ke.length-1];var ar=Re.length,or=_t([Re[ar-4],Re[ar-3]],[Re[ar-2],Re[ar-1]]);ke=["C",or[0],or[1],ke[1],ke[2],ie,oe];break;case"M":Wt=ke[ke.length-2],ge=ke[ke.length-1];break;default:ie=ke[ke.length-2],oe=ke[ke.length-1]}le.push(ke)}return le}function j(K){return Math.sqrt(K[0]*K[0]+K[1]*K[1])}function St(K,ot){return j(K)*j(ot)?(K[0]*ot[0]+K[1]*ot[1])/(j(K)*j(ot)):1}function Ft(K,ot){return(K[0]*ot[1]<K[1]*ot[0]?-1:1)*Math.acos(St(K,ot))}function U(K,ot){return K[0]===ot[0]&&K[1]===ot[1]}function H(K,ot){var gt=ot[1],Et=ot[2],Kt=(0,ee.wQ)((0,ee.c$)(ot[3]),2*Math.PI),le=ot[4],ie=ot[5],oe=K[0],Wt=K[1],ge=ot[6],ue=ot[7],Te=Math.cos(Kt)*(oe-ge)/2+Math.sin(Kt)*(Wt-ue)/2,Le=-1*Math.sin(Kt)*(oe-ge)/2+Math.cos(Kt)*(Wt-ue)/2,fe=Te*Te/(gt*gt)+Le*Le/(Et*Et);fe>1&&(gt*=Math.sqrt(fe),Et*=Math.sqrt(fe));var Me=gt*gt*(Le*Le)+Et*Et*(Te*Te),Oe=Me?Math.sqrt((gt*gt*(Et*Et)-Me)/Me):1;le===ie&&(Oe*=-1),isNaN(Oe)&&(Oe=0);var Re=Et?Oe*gt*Le/Et:0,ke=gt?Oe*-Et*Te/gt:0,Be=(oe+ge)/2+Math.cos(Kt)*Re-Math.sin(Kt)*ke,_e=(Wt+ue)/2+Math.sin(Kt)*Re+Math.cos(Kt)*ke,Ge=[(Te-Re)/gt,(Le-ke)/Et],Ze=[(-1*Te-Re)/gt,(-1*Le-ke)/Et],ar=Ft([1,0],Ge),or=Ft(Ge,Ze);return St(Ge,Ze)<=-1&&(or=Math.PI),St(Ge,Ze)>=1&&(or=0),0===ie&&or>0&&(or-=2*Math.PI),1===ie&&or<0&&(or+=2*Math.PI),{cx:Be,cy:_e,rx:U(K,[ge,ue])?0:gt,ry:U(K,[ge,ue])?0:Et,startAngle:ar,endAngle:ar+or,xRotation:Kt,arcFlag:le,sweepFlag:ie}}function L(K,ot){return[ot[0]+(ot[0]-K[0]),ot[1]+(ot[1]-K[1])]}function N(K){for(var ot=[],gt=null,Et=null,Kt=null,le=0,ie=(K=Jt(K)).length,oe=0;oe<ie;oe++){var Wt=K[oe];Et=K[oe+1];var ge=Wt[0],ue={command:ge,prePoint:gt,params:Wt,startTangent:null,endTangent:null};switch(ge){case"M":Kt=[Wt[1],Wt[2]],le=oe;break;case"A":var Te=H(gt,Wt);ue.arcParams=Te}if("Z"===ge)gt=Kt,Et=K[le+1];else{var Le=Wt.length;gt=[Wt[Le-2],Wt[Le-1]]}Et&&"Z"===Et[0]&&(Et=K[le],ot[le]&&(ot[le].prePoint=gt)),ue.currentPoint=gt,ot[le]&&U(gt,ot[le].currentPoint)&&(ot[le].prePoint=ue.prePoint),ue.nextPoint=Et?[Et[Et.length-2],Et[Et.length-1]]:null;var Me=ue.prePoint;if(["L","H","V"].includes(ge))ue.startTangent=[Me[0]-gt[0],Me[1]-gt[1]],ue.endTangent=[gt[0]-Me[0],gt[1]-Me[1]];else if("Q"===ge)ue.startTangent=[Me[0]-(Oe=[Wt[1],Wt[2]])[0],Me[1]-Oe[1]],ue.endTangent=[gt[0]-Oe[0],gt[1]-Oe[1]];else if("T"===ge){var Oe=L((Re=ot[oe-1]).currentPoint,Me);"Q"===Re.command?(ue.command="Q",ue.startTangent=[Me[0]-Oe[0],Me[1]-Oe[1]],ue.endTangent=[gt[0]-Oe[0],gt[1]-Oe[1]]):(ue.command="TL",ue.startTangent=[Me[0]-gt[0],Me[1]-gt[1]],ue.endTangent=[gt[0]-Me[0],gt[1]-Me[1]])}else if("C"===ge){var Be=[Wt[3],Wt[4]];ue.startTangent=[Me[0]-(ke=[Wt[1],Wt[2]])[0],Me[1]-ke[1]],ue.endTangent=[gt[0]-Be[0],gt[1]-Be[1]],0===ue.startTangent[0]&&0===ue.startTangent[1]&&(ue.startTangent=[ke[0]-Be[0],ke[1]-Be[1]]),0===ue.endTangent[0]&&0===ue.endTangent[1]&&(ue.endTangent=[Be[0]-ke[0],Be[1]-ke[1]])}else if("S"===ge){var Re,ke=L((Re=ot[oe-1]).currentPoint,Me);Be=[Wt[1],Wt[2]],"C"===Re.command?(ue.command="C",ue.startTangent=[Me[0]-ke[0],Me[1]-ke[1]],ue.endTangent=[gt[0]-Be[0],gt[1]-Be[1]]):(ue.command="SQ",ue.startTangent=[Me[0]-Be[0],Me[1]-Be[1]],ue.endTangent=[gt[0]-Be[0],gt[1]-Be[1]])}else if("A"===ge){var _e=.001,Ge=ue.arcParams||{},Ze=Ge.cx,ar=void 0===Ze?0:Ze,or=Ge.cy,Cr=void 0===or?0:or,Wr=Ge.rx,Pr=void 0===Wr?0:Wr,Bi=Ge.ry,Yi=void 0===Bi?0:Bi,Br=Ge.sweepFlag,Vr=Ge.startAngle,dr=void 0===Vr?0:Vr,di=Ge.endAngle,_i=void 0===di?0:di;0===(void 0===Br?0:Br)&&(_e*=-1);var nn=Pr*Math.cos(dr-_e)+ar,Ir=Yi*Math.sin(dr-_e)+Cr;ue.startTangent=[nn-Kt[0],Ir-Kt[1]];var Ri=Pr*Math.cos(dr+_i+_e)+ar,Ur=Yi*Math.sin(dr+_i-_e)+Cr;ue.endTangent=[Me[0]-Ri,Me[1]-Ur]}ot.push(ue)}return ot}Math;var _=1e-6;function rt(K){return Math.abs(K)<_?0:K<0?-1:1}function X(K,ot,gt){return(gt[0]-K[0])*(ot[1]-K[1])==(ot[0]-K[0])*(gt[1]-K[1])&&Math.min(K[0],ot[0])<=gt[0]&&gt[0]<=Math.max(K[0],ot[0])&&Math.min(K[1],ot[1])<=gt[1]&&gt[1]<=Math.max(K[1],ot[1])}function dt(K,ot,gt){var Et=!1,Kt=K.length;if(Kt<=2)return!1;for(var le=0;le<Kt;le++){var ie=K[le],oe=K[(le+1)%Kt];if(X(ie,oe,[ot,gt]))return!0;rt(ie[1]-gt)>0!=rt(oe[1]-gt)>0&&rt(ot-(gt-ie[1])*(ie[0]-oe[0])/(ie[1]-oe[1])-ie[0])<0&&(Et=!Et)}return Et}var yt=function(K,ot,gt){return K>=ot&&K<=gt};function de(K){for(var ot=[],gt=K.length,Et=0;Et<gt-1;Et++){var Kt=K[Et],le=K[Et+1];ot.push({from:{x:Kt[0],y:Kt[1]},to:{x:le[0],y:le[1]}})}if(ot.length>1){var ie=K[0],oe=K[gt-1];ot.push({from:{x:oe[0],y:oe[1]},to:{x:ie[0],y:ie[1]}})}return ot}function Ce(K){var ot=K.map(function(Et){return Et[0]}),gt=K.map(function(Et){return Et[1]});return{minX:Math.min.apply(null,ot),maxX:Math.max.apply(null,ot),minY:Math.min.apply(null,gt),maxY:Math.max.apply(null,gt)}}function ce(K,ot){if(K.length<2||ot.length<2)return!1;if(!function we(K,ot){return!(ot.minX>K.maxX||ot.maxX<K.minX||ot.minY>K.maxY||ot.maxY<K.minY)}(Ce(K),Ce(ot)))return!1;var Kt=!1;if((0,ee.S6)(ot,function(Wt){if(dt(K,Wt[0],Wt[1]))return Kt=!0,!1}),Kt||((0,ee.S6)(K,function(Wt){if(dt(ot,Wt[0],Wt[1]))return Kt=!0,!1}),Kt))return!0;var le=de(K),ie=de(ot),oe=!1;return(0,ee.S6)(ie,function(Wt){if(function se(K,ot){var gt=!1;return(0,ee.S6)(K,function(Et){if(function Rt(K,ot,gt,Et){var le_x=gt.x-K.x,le_y=gt.y-K.y,ie_x=ot.x-K.x,ie_y=ot.y-K.y,oe_x=Et.x-gt.x,oe_y=Et.y-gt.y,Wt=ie_x*oe_y-ie_y*oe_x,Le=null;if(Wt*Wt>.001*(ie_x*ie_x+ie_y*ie_y)*(oe_x*oe_x+oe_y*oe_y)){var fe=(le_x*oe_y-le_y*oe_x)/Wt,Me=(le_x*ie_y-le_y*ie_x)/Wt;yt(fe,0,1)&&yt(Me,0,1)&&(Le={x:K.x+fe*ie_x,y:K.y+fe*ie_y})}return Le}(Et.from,Et.to,ot.from,ot.to))return gt=!0,!1}),gt}(le,Wt))return oe=!0,!1}),oe}},8250:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Ct:()=>ha,f0:()=>Yo,uZ:()=>_e,VS:()=>yi,d9:()=>On,FX:()=>P,Ds:()=>Bn,b$:()=>aa,e5:()=>Lt,S6:()=>_t,yW:()=>le,hX:()=>Nt,sE:()=>Ot,cx:()=>Vt,Wx:()=>kt,ri:()=>Ze,xH:()=>J,U5:()=>bi,U2:()=>Xo,Lo:()=>ca,rx:()=>lt,ru:()=>Le,vM:()=>ue,Ms:()=>Te,wH:()=>Jr,YM:()=>we,q9:()=>P,cq:()=>Rr,kJ:()=>st,jn:()=>Sr,J_:()=>Pn,kK:()=>ia,xb:()=>Go,Xy:()=>_n,mf:()=>pe,BD:()=>V,UM:()=>p,Ft:()=>_o,hj:()=>or,vQ:()=>di,Kn:()=>Q,PO:()=>me,HD:()=>yt,P9:()=>zt,o8:()=>Qs,XP:()=>xt,Z$:()=>ce,vl:()=>ut,UI:()=>Xa,Q8:()=>rl,Fp:()=>ae,UT:()=>Ur,HP:()=>Uo,VV:()=>Se,F:()=>dn,CD:()=>Yo,wQ:()=>Na,ZT:()=>$o,CE:()=>Wo,ei:()=>Fi,u4:()=>rt,Od:()=>dt,U7:()=>na,t8:()=>Za,dp:()=>jo,G:()=>oe,MR:()=>de,ng:()=>qt,P2:()=>il,qo:()=>Zo,c$:()=>Va,BB:()=>nt,jj:()=>se,EL:()=>ja,jC:()=>Pe,VO:()=>kn,I:()=>Ce});const ft=function(R){return null!==R&&"function"!=typeof R&&isFinite(R.length)},P=function(R,vt){return!!ft(R)&&R.indexOf(vt)>-1},Nt=function(R,vt){if(!ft(R))return R;for(var Ct=[],Bt=0;Bt<R.length;Bt++){var he=R[Bt];vt(he,Bt)&&Ct.push(he)}return Ct},Lt=function(R,vt){return void 0===vt&&(vt=[]),Nt(R,function(Ct){return!P(vt,Ct)})};var $t={}.toString;const zt=function(R,vt){return $t.call(R)==="[object "+vt+"]"},pe=function(R){return zt(R,"Function")},p=function(R){return null==R},st=function(R){return Array.isArray?Array.isArray(R):zt(R,"Array")},Q=function(R){var vt=typeof R;return null!==R&&"object"===vt||"function"===vt},_t=function Gt(R,vt){if(R)if(st(R))for(var Bt=0,he=R.length;Bt<he&&!1!==vt(R[Bt],Bt);Bt++);else if(Q(R))for(var De in R)if(R.hasOwnProperty(De)&&!1===vt(R[De],De))break},xt=Object.keys?function(R){return Object.keys(R)}:function(R){var vt=[];return _t(R,function(Ct,Bt){pe(R)&&"prototype"===Bt||vt.push(Bt)}),vt},V=function tt(R,vt){var Ct=xt(vt),Bt=Ct.length;if(p(R))return!Bt;for(var he=0;he<Bt;he+=1){var De=Ct[he];if(vt[De]!==R[De]||!(De in R))return!1}return!0},pt=function(R){return"object"==typeof R&&null!==R},me=function(R){if(!pt(R)||!zt(R,"Object"))return!1;if(null===Object.getPrototypeOf(R))return!0;for(var vt=R;null!==Object.getPrototypeOf(vt);)vt=Object.getPrototypeOf(vt);return Object.getPrototypeOf(R)===vt},Ot=function wt(R,vt){if(!st(R))return null;var Ct;if(pe(vt)&&(Ct=vt),me(vt)&&(Ct=function(he){return V(he,vt)}),Ct)for(var Bt=0;Bt<R.length;Bt+=1)if(Ct(R[Bt]))return R[Bt];return null},Vt=function Qt(R,vt,Ct){void 0===Ct&&(Ct=0);for(var Bt=Ct;Bt<R.length;Bt++)if(vt(R[Bt],Bt))return Bt;return-1},kt=function(R,vt){for(var Ct=null,Bt=0;Bt<R.length;Bt++){var De=R[Bt][vt];if(!p(De)){Ct=st(De)?De[0]:De;break}}return Ct},J=function(R){if(!st(R))return[];for(var vt=[],Ct=0;Ct<R.length;Ct++)vt=vt.concat(R[Ct]);return vt},ae=function(R){if(st(R))return R.reduce(function(vt,Ct){return Math.max(vt,Ct)},R[0])},Se=function(R){if(st(R))return R.reduce(function(vt,Ct){return Math.min(vt,Ct)},R[0])},lt=function(R){var vt=R.filter(function(We){return!isNaN(We)});if(!vt.length)return{min:0,max:0};if(st(R[0])){for(var Ct=[],Bt=0;Bt<R.length;Bt++)Ct=Ct.concat(R[Bt]);vt=Ct}var he=ae(vt);return{min:Se(vt),max:he}};var H=Array.prototype.splice;const rt=function(R,vt,Ct){if(!st(R)&&!me(R))return R;var Bt=Ct;return _t(R,function(he,De){Bt=vt(Bt,he,De)}),Bt},dt=function(R,vt){var Ct=[];if(!ft(R))return Ct;for(var Bt=-1,he=[],De=R.length;++Bt<De;){var We=R[Bt];vt(We,Bt,R)&&(Ct.push(We),he.push(Bt))}return function(vt,Ct){if(!ft(vt))return[];for(var Bt=vt?Ct.length:0,he=Bt-1;Bt--;){var De=void 0,We=Ct[Bt];(Bt===he||We!==De)&&(De=We,H.call(vt,We,1))}}(R,he),Ct},yt=function(R){return zt(R,"String")},de=function Rt(R,vt){var Ct;if(pe(vt))Ct=function(he,De){return vt(he)-vt(De)};else{var Bt=[];yt(vt)?Bt.push(vt):st(vt)&&(Bt=vt),Ct=function(he,De){for(var We=0;We<Bt.length;We+=1){var gr=Bt[We];if(he[gr]>De[gr])return 1;if(he[gr]<De[gr])return-1}return 0}}return R.sort(Ct),R};function se(R,vt){void 0===vt&&(vt=new Map);var Ct=[];if(Array.isArray(R))for(var Bt=0,he=R.length;Bt<he;Bt++){var De=R[Bt];vt.has(De)||(Ct.push(De),vt.set(De,!0))}return Ct}const Ce=function(R,vt){for(var Ct=[],Bt={},he=0;he<R.length;he++){var We=R[he][vt];if(!p(We)){st(We)||(We=[We]);for(var gr=0;gr<We.length;gr++){var $r=We[gr];Bt[$r]||(Ct.push($r),Bt[$r]=!0)}}}return Ct};function we(R){if(ft(R))return R[0]}function ce(R){if(ft(R))return R[R.length-1]}const le=function(R,vt){for(var Ct=0;Ct<R.length;Ct++)if(!vt(R[Ct],Ct))return!1;return!0},oe=function(R,vt){for(var Ct=0;Ct<R.length;Ct++)if(vt(R[Ct],Ct))return!0;return!1};var Wt=Object.prototype.hasOwnProperty;const ue=function ge(R,vt){if(!vt||!st(R))return{};for(var he,Ct={},Bt=pe(vt)?vt:function(gr){return gr[vt]},De=0;De<R.length;De++){var We=R[De];he=Bt(We),Wt.call(Ct,he)?Ct[he].push(We):Ct[he]=[We]}return Ct};function Te(R,vt){if(!vt)return{0:R};if(!pe(vt)){var Ct=st(vt)?vt:vt.replace(/\s+/g,"").split("*");vt=function(Bt){for(var he="_",De=0,We=Ct.length;De<We;De++)he+=Bt[Ct[De]]&&Bt[Ct[De]].toString();return he}}return ue(R,vt)}const Le=function(R,vt){if(!vt)return[R];var Ct=Te(R,vt),Bt=[];for(var he in Ct)Bt.push(Ct[he]);return Bt},_e=function(R,vt,Ct){return R<vt?vt:R>Ct?Ct:R},Ze=function(R,vt){var Ct=vt.toString(),Bt=Ct.indexOf(".");if(-1===Bt)return Math.round(R);var he=Ct.substr(Bt+1).length;return he>20&&(he=20),parseFloat(R.toFixed(he))},or=function(R){return zt(R,"Number")};var dr=1e-5;function di(R,vt,Ct){return void 0===Ct&&(Ct=dr),Math.abs(R-vt)<Ct}const Ur=function(R,vt){if(st(R)){for(var Ct,Bt=-1/0,he=0;he<R.length;he++){var De=R[he],We=pe(vt)?vt(De):De[vt];We>Bt&&(Ct=De,Bt=We)}return Ct}},dn=function(R,vt){if(st(R)){for(var Ct,Bt=1/0,he=0;he<R.length;he++){var De=R[he],We=pe(vt)?vt(De):De[vt];We<Bt&&(Ct=De,Bt=We)}return Ct}},Na=function(R,vt){return(R%vt+vt)%vt};Math,parseInt;var $e=Math.PI/180;const Va=function(R){return $e*R},bi=_t,Jr=function(R,vt){return R.hasOwnProperty(vt)},kn=Object.values?function(R){return Object.values(R)}:function(R){var vt=[];return _t(R,function(Ct,Bt){pe(R)&&"prototype"===Bt||vt.push(Ct)}),vt},nt=function(R){return p(R)?"":R.toString()},ut=function(R){return nt(R).toLowerCase()},qt=function At(R,vt){return R&&vt?R.replace(/\\?\{([^{}]+)\}/g,function(Ct,Bt){return"\\"===Ct.charAt(0)?Ct.slice(1):void 0===vt[Bt]?"":vt[Bt]}):R},Pe=function(R){var vt=nt(R);return vt.charAt(0).toUpperCase()+vt.substring(1)};var Ie={}.toString;const Sr=function(R){return zt(R,"Boolean")},Pn=function(R){return zt(R,"Date")},_o=function(R){return null===R};var ra=Object.prototype;const Qs=function(R){return void 0===R},ia=function(R){return R instanceof Element||R instanceof HTMLDocument};function na(R){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ct){return setTimeout(Ct,16)})(R)}function yi(R){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(R)}var Qr=function(R){if("object"!=typeof R||null===R)return R;var vt;if(st(R)){vt=[];for(var Ct=0,Bt=R.length;Ct<Bt;Ct++)vt[Ct]="object"==typeof R[Ct]&&null!=R[Ct]?Qr(R[Ct]):R[Ct]}else for(var he in vt={},R)vt[he]="object"==typeof R[he]&&null!=R[he]?Qr(R[he]):R[he];return vt};const On=Qr,Bn=function Vo(R,vt,Ct){var Bt;return function(){var he=this,De=arguments,gr=Ct&&!Bt;clearTimeout(Bt),Bt=setTimeout(function(){Bt=null,Ct||R.apply(he,De)},vt),gr&&R.apply(he,De)}},Uo=function(R,vt){if(!pe(R))throw new TypeError("Expected a function");var Ct=function(){for(var Bt=[],he=0;he<arguments.length;he++)Bt[he]=arguments[he];var De=vt?vt.apply(this,Bt):Bt[0],We=Ct.cache;if(We.has(De))return We.get(De);var gr=R.apply(this,Bt);return We.set(De,gr),gr};return Ct.cache=new Map,Ct};function Ha(R,vt,Ct,Bt){for(var he in Ct=Ct||0,Bt=Bt||5,vt)if(vt.hasOwnProperty(he)){var De=vt[he];null!==De&&me(De)?(me(R[he])||(R[he]={}),Ct<Bt?Ha(R[he],De,Ct+1,Bt):R[he]=vt[he]):st(De)?(R[he]=[],R[he]=R[he].concat(De)):void 0!==De&&(R[he]=De)}}const aa=function(R){for(var vt=[],Ct=1;Ct<arguments.length;Ct++)vt[Ct-1]=arguments[Ct];for(var Bt=0;Bt<vt.length;Bt+=1)Ha(R,vt[Bt]);return R},Rr=function(R,vt){if(!ft(R))return-1;var Ct=Array.prototype.indexOf;if(Ct)return Ct.call(R,vt);for(var Bt=-1,he=0;he<R.length;he++)if(R[he]===vt){Bt=he;break}return Bt};var zi=Object.prototype.hasOwnProperty;const Go=function Ei(R){if(p(R))return!0;if(ft(R))return!R.length;var vt=function(R){return Ie.call(R).replace(/^\[object /,"").replace(/]$/,"")}(R);if("Map"===vt||"Set"===vt)return!R.size;if(function(R){var vt=R&&R.constructor;return R===("function"==typeof vt&&vt.prototype||ra)}(R))return!Object.keys(R).length;for(var Ct in R)if(zi.call(R,Ct))return!1;return!0};var on=function(R,vt){if(R===vt)return!0;if(!R||!vt||yt(R)||yt(vt))return!1;if(ft(R)||ft(vt)){if(R.length!==vt.length)return!1;for(var Ct=!0,Bt=0;Bt<R.length&&(Ct=on(R[Bt],vt[Bt]));Bt++);return Ct}if(pt(R)||pt(vt)){var he=Object.keys(R),De=Object.keys(vt);if(he.length!==De.length)return!1;for(Ct=!0,Bt=0;Bt<he.length&&(Ct=on(R[he[Bt]],vt[he[Bt]]));Bt++);return Ct}return!1};const _n=on,Xa=function(R,vt){if(!ft(R))return R;for(var Ct=[],Bt=0;Bt<R.length;Bt++)Ct.push(vt(R[Bt],Bt));return Ct};var Wa=function(R){return R};const rl=function(R,vt){void 0===vt&&(vt=Wa);var Ct={};return Q(R)&&!p(R)&&Object.keys(R).forEach(function(Bt){Ct[Bt]=vt(R[Bt],Bt)}),Ct};function oa(R,vt){for(var Ct in vt)vt.hasOwnProperty(Ct)&&"constructor"!==Ct&&void 0!==vt[Ct]&&(R[Ct]=vt[Ct])}function Yo(R,vt,Ct,Bt){return vt&&oa(R,vt),Ct&&oa(R,Ct),Bt&&oa(R,Bt),R}const Xo=function(R,vt,Ct){for(var Bt=0,he=yt(vt)?vt.split("."):vt;R&&Bt<he.length;)R=R[he[Bt++]];return void 0===R||Bt<he.length?Ct:R},Za=function(R,vt,Ct){var Bt=R,he=yt(vt)?vt.split("."):vt;return he.forEach(function(De,We){We<he.length-1?(Q(Bt[De])||(Bt[De]=or(he[We+1])?[]:{}),Bt=Bt[De]):Bt[De]=Ct}),R};var $a=Object.prototype.hasOwnProperty;const Fi=function(R,vt){if(null===R||!me(R))return{};var Ct={};return _t(vt,function(Bt){$a.call(R,Bt)&&(Ct[Bt]=R[Bt])}),Ct},Wo=function(R,vt){return rt(R,function(Ct,Bt,he){return vt.includes(he)||(Ct[he]=Bt),Ct},{})},il=function(R,vt,Ct){var Bt,he,De,We,gr=0;Ct||(Ct={});var $r=function(){gr=!1===Ct.leading?0:Date.now(),Bt=null,We=R.apply(he,De),Bt||(he=De=null)},ci=function(){var ti=Date.now();!gr&&!1===Ct.leading&&(gr=ti);var Rn=vt-(ti-gr);return he=this,De=arguments,Rn<=0||Rn>vt?(Bt&&(clearTimeout(Bt),Bt=null),gr=ti,We=R.apply(he,De),Bt||(he=De=null)):!Bt&&!1!==Ct.trailing&&(Bt=setTimeout($r,Rn)),We};return ci.cancel=function(){clearTimeout(Bt),gr=0,Bt=he=De=null},ci},Zo=function(R){return ft(R)?Array.prototype.slice.call(R):[]};var sa={};const ja=function(R){return sa[R=R||"g"]?sa[R]+=1:sa[R]=1,R+sa[R]},$o=function(){};function jo(R){return p(R)?0:ft(R)?R.length:Object.keys(R).length}var la,qo=mt(655);const ua=Uo(function(R,vt){void 0===vt&&(vt={});var Ct=vt.fontSize,Bt=vt.fontFamily,he=vt.fontWeight,De=vt.fontStyle,We=vt.fontVariant;return la||(la=document.createElement("canvas").getContext("2d")),la.font=[De,We,he,Ct+"px",Bt].join(" "),la.measureText(yt(R)?R:"").width},function(R,vt){return void 0===vt&&(vt={}),(0,qo.pr)([R],kn(vt)).join("")}),ca=function(R,vt,Ct,Bt){void 0===Bt&&(Bt="...");var ci,ti,De=ua(Bt,Ct),We=yt(R)?R:nt(R),gr=vt,$r=[];if(ua(R,Ct)<=vt)return R;for(;ci=We.substr(0,16),!((ti=ua(ci,Ct))+De>gr&&ti>gr);)if($r.push(ci),gr-=ti,!(We=We.substr(16)))return $r.join("");for(;ci=We.substr(0,1),!((ti=ua(ci,Ct))+De>gr);)if($r.push(ci),gr-=ti,!(We=We.substr(1)))return $r.join("");return""+$r.join("")+Bt},ha=function(){function R(){this.map={}}return R.prototype.has=function(vt){return void 0!==this.map[vt]},R.prototype.get=function(vt,Ct){var Bt=this.map[vt];return void 0===Bt?Ct:Bt},R.prototype.set=function(vt,Ct){this.map[vt]=Ct},R.prototype.clear=function(){this.map={}},R.prototype.delete=function(vt){delete this.map[vt]},R.prototype.size=function(){return Object.keys(this.map).length},R}()},5066:function(rr,Fe){!function(mt){"use strict";function ee(wt,Ot){return function ft(wt){if(Array.isArray(wt))return wt}(wt)||function B(wt,Ot){var Qt=[],Vt=!0,Pt=!1,kt=void 0;try{for(var J,O=wt[Symbol.iterator]();!(Vt=(J=O.next()).done)&&(Qt.push(J.value),!Ot||Qt.length!==Ot);Vt=!0);}catch(Dt){Pt=!0,kt=Dt}finally{try{!Vt&&null!=O.return&&O.return()}finally{if(Pt)throw kt}}return Qt}(wt,Ot)||function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Jt(wt,Ot,Qt,Vt){wt=wt.filter(function(ht,j){var St=Ot(ht,j),Ft=Qt(ht,j);return null!=St&&isFinite(St)&&null!=Ft&&isFinite(Ft)}),Vt&&wt.sort(function(ht,j){return Ot(ht)-Ot(j)});for(var te,ae,Se,Pt=wt.length,kt=new Float64Array(Pt),O=new Float64Array(Pt),J=0,Dt=0,W=0;W<Pt;)kt[W]=te=+Ot(Se=wt[W],W,wt),O[W]=ae=+Qt(Se,W,wt),J+=(te-J)/++W,Dt+=(ae-Dt)/W;for(var lt=0;lt<Pt;++lt)kt[lt]-=J,O[lt]-=Dt;return[kt,O,J,Dt]}function Nt(wt,Ot,Qt,Vt){for(var Pt=0,kt=0,O=wt.length;kt<O;kt++){var J=wt[kt],Dt=+Ot(J,kt,wt),te=+Qt(J,kt,wt);null!=Dt&&isFinite(Dt)&&null!=te&&isFinite(te)&&Vt(Dt,te,Pt++)}}function Yt(wt,Ot,Qt,Vt,Pt){var kt=0,O=0;return Nt(wt,Ot,Qt,function(J,Dt){var te=Dt-Pt(J),ae=Dt-Vt;kt+=te*te,O+=ae*ae}),1-kt/O}function Lt(wt){return 180*Math.atan2(wt[1][1]-wt[0][1],wt[1][0]-wt[0][0])/Math.PI}function $t(wt){return[(wt[0][0]+wt[1][0])/2,(wt[0][1]+wt[1][1])/2]}function ve(wt,Ot,Qt){for(var Vt=Math.log(Ot-wt)*Math.LOG10E+1|0,Pt=1*Math.pow(10,-Vt/2-1),O=[Dt(wt),Dt(Ot)],J=0;te(O)&&J<1e4;);return O;function Dt(ae){return[ae,Qt(ae)]}function te(ae){J++;for(var Se=ae.length,W=!1,lt=0;lt<Se-1;lt++){var ht=ae[lt],St=$t([ht,ae[lt+1]]),Ft=Dt(St[0]),U=Lt([ht,St]),H=Lt([ht,Ft]);Math.abs(U-H)>Pt&&(ae.splice(lt+1,0,Ft),W=!0)}return W}}function zt(wt,Ot,Qt,Vt){var Pt=Vt-wt*wt,kt=Math.abs(Pt)<1e-24?0:(Qt-wt*Ot)/Pt;return[Ot-kt*wt,kt]}function w(){var Qt,wt=function(kt){return kt[0]},Ot=function(kt){return kt[1]};function Vt(Pt){var kt=0,O=0,J=0,Dt=0,te=0,ae=Qt?+Qt[0]:1/0,Se=Qt?+Qt[1]:-1/0;Nt(Pt,wt,Ot,function(U,H){++kt,O+=(U-O)/kt,J+=(H-J)/kt,Dt+=(U*H-Dt)/kt,te+=(U*U-te)/kt,Qt||(U<ae&&(ae=U),U>Se&&(Se=U))});var lt=ee(zt(O,J,Dt,te),2),ht=lt[0],j=lt[1],St=function(H){return j*H+ht},Ft=[[ae,St(ae)],[Se,St(Se)]];return Ft.a=j,Ft.b=ht,Ft.predict=St,Ft.rSquared=Yt(Pt,wt,Ot,J,St),Ft}return Vt.domain=function(Pt){return arguments.length?(Qt=Pt,Vt):Qt},Vt.x=function(Pt){return arguments.length?(wt=Pt,Vt):wt},Vt.y=function(Pt){return arguments.length?(Ot=Pt,Vt):Ot},Vt}function p(wt){wt.sort(function(Qt,Vt){return Qt-Vt});var Ot=wt.length/2;return Ot%1==0?(wt[Ot-1]+wt[Ot])/2:wt[Math.floor(Ot)]}function _t(wt){return(wt=1-wt*wt*wt)*wt*wt}function Tt(wt,Ot,Qt){var Vt=wt[Ot],Pt=Qt[0],kt=Qt[1]+1;if(!(kt>=wt.length))for(;Ot>Pt&&wt[kt]-Vt<=Vt-wt[Pt];)Qt[0]=++Pt,Qt[1]=kt,++kt}function V(){var Qt,wt=function(kt){return kt[0]},Ot=function(kt){return kt[1]};function Vt(Pt){var Ft,U,H,L,O=ee(Jt(Pt,wt,Ot),4),J=O[0],Dt=O[1],te=O[2],ae=O[3],Se=J.length,W=0,lt=0,ht=0,j=0,St=0;for(Ft=0;Ft<Se;)U=J[Ft],H=Dt[Ft++],W+=((L=U*U)-W)/Ft,lt+=(L*U-lt)/Ft,ht+=(L*L-ht)/Ft,j+=(U*H-j)/Ft,St+=(L*H-St)/Ft;var N=0,_=0,rt=Qt?+Qt[0]:1/0,X=Qt?+Qt[1]:-1/0;Nt(Pt,wt,Ot,function(ce,K){_++,N+=(K-N)/_,Qt||(ce<rt&&(rt=ce),ce>X&&(X=ce))});var dt=ht-W*W,yt=W*dt-lt*lt,Rt=(St*W-j*lt)/yt,de=(j*dt-St*lt)/yt,se=-Rt*W,Ce=function(K){return Rt*(K-=te)*K+de*K+se+ae},we=ve(rt,X,Ce);return we.a=Rt,we.b=de-2*Rt*te,we.c=se-de*te+Rt*te*te+ae,we.predict=Ce,we.rSquared=Yt(Pt,wt,Ot,N,Ce),we}return Vt.domain=function(Pt){return arguments.length?(Qt=Pt,Vt):Qt},Vt.x=function(Pt){return arguments.length?(wt=Pt,Vt):wt},Vt.y=function(Pt){return arguments.length?(Ot=Pt,Vt):Ot},Vt}mt.regressionExp=function pe(){var Qt,wt=function(kt){return kt[0]},Ot=function(kt){return kt[1]};function Vt(Pt){var kt=0,O=0,J=0,Dt=0,te=0,ae=0,Se=Qt?+Qt[0]:1/0,W=Qt?+Qt[1]:-1/0;Nt(Pt,wt,Ot,function(H,L){var N=Math.log(L),_=H*L;++kt,O+=(L-O)/kt,Dt+=(_-Dt)/kt,ae+=(H*_-ae)/kt,J+=(L*N-J)/kt,te+=(_*N-te)/kt,Qt||(H<Se&&(Se=H),H>W&&(W=H))});var ht=ee(zt(Dt/O,J/O,te/O,ae/O),2),j=ht[0],St=ht[1];j=Math.exp(j);var Ft=function(L){return j*Math.exp(St*L)},U=ve(Se,W,Ft);return U.a=j,U.b=St,U.predict=Ft,U.rSquared=Yt(Pt,wt,Ot,O,Ft),U}return Vt.domain=function(Pt){return arguments.length?(Qt=Pt,Vt):Qt},Vt.x=function(Pt){return arguments.length?(wt=Pt,Vt):wt},Vt.y=function(Pt){return arguments.length?(Ot=Pt,Vt):Ot},Vt},mt.regressionLinear=w,mt.regressionLoess=function Gt(){var wt=function(kt){return kt[0]},Ot=function(kt){return kt[1]},Qt=.3;function Vt(Pt){for(var O=ee(Jt(Pt,wt,Ot,!0),4),J=O[0],Dt=O[1],te=O[2],ae=O[3],Se=J.length,W=Math.max(2,~~(Qt*Se)),lt=new Float64Array(Se),ht=new Float64Array(Se),j=new Float64Array(Se).fill(1),St=-1;++St<=2;){for(var Ft=[0,W-1],U=0;U<Se;++U){for(var H=J[U],L=Ft[0],N=Ft[1],rt=0,X=0,dt=0,yt=0,Rt=0,de=1/Math.abs(J[H-J[L]>J[N]-H?L:N]-H||1),se=L;se<=N;++se){var Ce=J[se],we=Dt[se],ce=_t(Math.abs(H-Ce)*de)*j[se],K=Ce*ce;rt+=ce,X+=K,dt+=we*ce,yt+=we*K,Rt+=Ce*K}var gt=ee(zt(X/rt,dt/rt,yt/rt,Rt/rt),2);lt[U]=gt[0]+gt[1]*H,ht[U]=Math.abs(Dt[U]-lt[U]),Tt(J,U+1,Ft)}if(2===St)break;var le=p(ht);if(Math.abs(le)<1e-12)break;for(var oe,Wt,ie=0;ie<Se;++ie)j[ie]=(oe=ht[ie]/(6*le))>=1?1e-12:(Wt=1-oe*oe)*Wt}return function xt(wt,Ot,Qt,Vt){for(var te,Pt=wt.length,kt=[],O=0,J=0,Dt=[];O<Pt;++O)Dt[0]===(te=wt[O]+Qt)?Dt[1]+=(Ot[O]-Dt[1])/++J:(J=0,Dt[1]+=Vt,kt.push(Dt=[te,Ot[O]]));return Dt[1]+=Vt,kt}(J,lt,te,ae)}return Vt.bandwidth=function(Pt){return arguments.length?(Qt=Pt,Vt):Qt},Vt.x=function(Pt){return arguments.length?(wt=Pt,Vt):wt},Vt.y=function(Pt){return arguments.length?(Ot=Pt,Vt):Ot},Vt},mt.regressionLog=function tt(){var Vt,wt=function(O){return O[0]},Ot=function(O){return O[1]},Qt=Math.E;function Pt(kt){var O=0,J=0,Dt=0,te=0,ae=0,Se=Vt?+Vt[0]:1/0,W=Vt?+Vt[1]:-1/0,lt=Math.log(Qt);Nt(kt,wt,Ot,function(L,N){var _=Math.log(L)/lt;++O,J+=(_-J)/O,Dt+=(N-Dt)/O,te+=(_*N-te)/O,ae+=(_*_-ae)/O,Vt||(L<Se&&(Se=L),L>W&&(W=L))});var j=ee(zt(J,Dt,te,ae),2),St=j[0],Ft=j[1],U=function(N){return Ft*Math.log(N)/lt+St},H=ve(Se,W,U);return H.a=Ft,H.b=St,H.predict=U,H.rSquared=Yt(kt,wt,Ot,Dt,U),H}return Pt.domain=function(kt){return arguments.length?(Vt=kt,Pt):Vt},Pt.x=function(kt){return arguments.length?(wt=kt,Pt):wt},Pt.y=function(kt){return arguments.length?(Ot=kt,Pt):Ot},Pt.base=function(kt){return arguments.length?(Qt=kt,Pt):Qt},Pt},mt.regressionPoly=function It(){var Vt,wt=function(O){return O[0]},Ot=function(O){return O[1]},Qt=3;function Pt(kt){if(1===Qt){var O=w().x(wt).y(Ot).domain(Vt)(kt);return O.coefficients=[O.b,O.a],delete O.a,delete O.b,O}if(2===Qt){var J=V().x(wt).y(Ot).domain(Vt)(kt);return J.coefficients=[J.c,J.b,J.a],delete J.a,delete J.b,delete J.c,J}var _,rt,X,dt,yt,te=ee(Jt(kt,wt,Ot),4),ae=te[0],Se=te[1],W=te[2],lt=te[3],ht=ae.length,j=[],St=[],Ft=Qt+1,U=0,H=0,L=Vt?+Vt[0]:1/0,N=Vt?+Vt[1]:-1/0;for(Nt(kt,wt,Ot,function(Ce,we){++H,U+=(we-U)/H,Vt||(Ce<L&&(L=Ce),Ce>N&&(N=Ce))}),_=0;_<Ft;++_){for(X=0,dt=0;X<ht;++X)dt+=Math.pow(ae[X],_)*Se[X];for(j.push(dt),yt=new Float64Array(Ft),rt=0;rt<Ft;++rt){for(X=0,dt=0;X<ht;++X)dt+=Math.pow(ae[X],_+rt);yt[rt]=dt}St.push(yt)}St.push(j);var Rt=function re(wt){var Vt,Pt,kt,O,J,Ot=wt.length-1,Qt=[];for(Vt=0;Vt<Ot;++Vt){for(O=Vt,Pt=Vt+1;Pt<Ot;++Pt)Math.abs(wt[Vt][Pt])>Math.abs(wt[Vt][O])&&(O=Pt);for(kt=Vt;kt<Ot+1;++kt)J=wt[kt][Vt],wt[kt][Vt]=wt[kt][O],wt[kt][O]=J;for(Pt=Vt+1;Pt<Ot;++Pt)for(kt=Ot;kt>=Vt;kt--)wt[kt][Pt]-=wt[kt][Vt]*wt[Vt][Pt]/wt[Vt][Vt]}for(Pt=Ot-1;Pt>=0;--Pt){for(J=0,kt=Pt+1;kt<Ot;++kt)J+=wt[kt][Pt]*Qt[kt];Qt[Pt]=(wt[Ot][Pt]-J)/wt[Pt][Pt]}return Qt}(St),de=function(we){var ce=lt+Rt[0]+Rt[1]*(we-=W)+Rt[2]*we*we;for(_=3;_<Ft;++_)ce+=Rt[_]*Math.pow(we,_);return ce},se=ve(L,N,de);return se.coefficients=function pt(wt,Ot,Qt,Vt){var kt,O,J,Dt,Pt=Array(wt);for(kt=0;kt<wt;++kt)Pt[kt]=0;for(kt=wt-1;kt>=0;--kt)for(Dt=1,Pt[kt]+=J=Ot[kt],O=1;O<=kt;++O)Dt*=(kt+1-O)/O,Pt[kt-O]+=J*Math.pow(Qt,O)*Dt;return Pt[0]+=Vt,Pt}(Ft,Rt,-W,lt),se.predict=de,se.rSquared=Yt(kt,wt,Ot,U,de),se}return Pt.domain=function(kt){return arguments.length?(Vt=kt,Pt):Vt},Pt.x=function(kt){return arguments.length?(wt=kt,Pt):wt},Pt.y=function(kt){return arguments.length?(Ot=kt,Pt):Ot},Pt.order=function(kt){return arguments.length?(Qt=kt,Pt):Qt},Pt},mt.regressionPow=function me(){var Qt,wt=function(kt){return kt[0]},Ot=function(kt){return kt[1]};function Vt(Pt){var kt=0,O=0,J=0,Dt=0,te=0,ae=0,Se=Qt?+Qt[0]:1/0,W=Qt?+Qt[1]:-1/0;Nt(Pt,wt,Ot,function(H,L){var N=Math.log(H),_=Math.log(L);++kt,O+=(N-O)/kt,J+=(_-J)/kt,Dt+=(N*_-Dt)/kt,te+=(N*N-te)/kt,ae+=(L-ae)/kt,Qt||(H<Se&&(Se=H),H>W&&(W=H))});var ht=ee(zt(O,J,Dt,te),2),j=ht[0],St=ht[1];j=Math.exp(j);var Ft=function(L){return j*Math.pow(L,St)},U=ve(Se,W,Ft);return U.a=j,U.b=St,U.predict=Ft,U.rSquared=Yt(Pt,wt,Ot,ae,Ft),U}return Vt.domain=function(Pt){return arguments.length?(Qt=Pt,Vt):Qt},Vt.x=function(Pt){return arguments.length?(wt=Pt,Vt):wt},Vt.y=function(Pt){return arguments.length?(Ot=Pt,Vt):Ot},Vt},mt.regressionQuad=V,Object.defineProperty(mt,"__esModule",{value:!0})}(Fe)},2260:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{qY:()=>pe});var ee=function(Tt,xt,tt){if(tt||2===arguments.length)for(var pt,V=0,It=xt.length;V<It;V++)(pt||!(V in xt))&&(pt||(pt=Array.prototype.slice.call(xt,0,V)),pt[V]=xt[V]);return Tt.concat(pt||Array.prototype.slice.call(xt))},ft=function Tt(xt,tt,V){this.name=xt,this.version=tt,this.os=V,this.type="browser"},B=function Tt(xt){this.version=xt,this.type="node",this.name="node",this.os=process.platform},P=function Tt(xt,tt,V,It){this.name=xt,this.version=tt,this.os=V,this.bot=It,this.type="bot-device"},Jt=function Tt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Nt=function Tt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Lt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$t=3,ve=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],zt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pe(Tt){return Tt?st(Tt):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Nt:typeof navigator<"u"?st(navigator.userAgent):function Gt(){return typeof process<"u"&&process.version?new B(process.version.slice(1)):null}()}function st(Tt){var xt=function w(Tt){return""!==Tt&&ve.reduce(function(xt,tt){var V=tt[0];if(xt)return xt;var pt=tt[1].exec(Tt);return!!pt&&[V,pt]},!1)}(Tt);if(!xt)return null;var tt=xt[0],V=xt[1];if("searchbot"===tt)return new Jt;var It=V[1]&&V[1].split(".").join("_").split("_").slice(0,3);It?It.length<$t&&(It=ee(ee([],It,!0),function _t(Tt){for(var xt=[],tt=0;tt<Tt;tt++)xt.push("0");return xt}($t-It.length),!0)):It=[];var pt=It.join("."),re=function Q(Tt){for(var xt=0,tt=zt.length;xt<tt;xt++){var V=zt[xt],It=V[0];if(V[1].exec(Tt))return It}return null}(Tt),me=Lt.exec(Tt);return me&&me[1]?new P(tt,pt,re,me[1]):new ft(tt,pt,re)}},6948:function(rr,Fe){!function(mt){"use strict";function ft(w){for(var p=new Array(w),st=0;st<w;++st)p[st]=0;return p}function P(w,p){for(var st=0,Q=0;Q<w.length;++Q)st+=w[Q]*p[Q];return st}function Jt(w){return Math.sqrt(P(w,w))}function Nt(w,p,st){for(var Q=0;Q<p.length;++Q)w[Q]=p[Q]*st}function Yt(w,p,st,Q,Gt){for(var _t=0;_t<w.length;++_t)w[_t]=p*st[_t]+Q*Gt[_t]}function $t(w,p,st,Q,Gt,_t,Tt){var xt=st.fx,tt=P(st.fxprime,p),V=xt,It=xt,pt=tt,re=0;function me(Ot,Qt,Vt){for(var Pt=0;Pt<16;++Pt)if(Yt(Q.x,1,st.x,Gt=(Ot+Qt)/2,p),V=Q.fx=w(Q.x,Q.fxprime),pt=P(Q.fxprime,p),V>xt+_t*Gt*tt||V>=Vt)Qt=Gt;else{if(Math.abs(pt)<=-Tt*tt)return Gt;pt*(Qt-Ot)>=0&&(Qt=Ot),Ot=Gt,Vt=V}return 0}Gt=Gt||1,_t=_t||1e-6,Tt=Tt||.1;for(var wt=0;wt<10;++wt){if(Yt(Q.x,1,st.x,Gt,p),V=Q.fx=w(Q.x,Q.fxprime),pt=P(Q.fxprime,p),V>xt+_t*Gt*tt||wt&&V>=It)return me(re,Gt,It);if(Math.abs(pt)<=-Tt*tt)return Gt;if(pt>=0)return me(Gt,re,V);It=V,re=Gt,Gt*=2}return Gt}mt.bisect=function ee(w,p,st,Q){var Gt=(Q=Q||{}).maxIterations||100,_t=Q.tolerance||1e-10,Tt=w(p),xt=w(st),tt=st-p;if(Tt*xt>0)throw"Initial bisect points must have opposite signs";if(0===Tt)return p;if(0===xt)return st;for(var V=0;V<Gt;++V){var It=p+(tt/=2),pt=w(It);if(pt*Tt>=0&&(p=It),Math.abs(tt)<_t||0===pt)return It}return p+tt},mt.nelderMead=function Lt(w,p,st){var re,Q=(st=st||{}).maxIterations||200*p.length,Gt=st.nonZeroDelta||1.05,_t=st.zeroDelta||.001,Tt=st.minErrorDelta||1e-6,xt=st.minErrorDelta||1e-5,tt=void 0!==st.rho?st.rho:1,V=void 0!==st.chi?st.chi:2,It=void 0!==st.psi?st.psi:-.5,pt=void 0!==st.sigma?st.sigma:.5,me=p.length,wt=new Array(me+1);wt[0]=p,wt[0].fx=w(p),wt[0].id=0;for(var Ot=0;Ot<me;++Ot){var Qt=p.slice();Qt[Ot]=Qt[Ot]?Qt[Ot]*Gt:_t,wt[Ot+1]=Qt,wt[Ot+1].fx=w(Qt),wt[Ot+1].id=Ot+1}function Vt(ht){for(var j=0;j<ht.length;j++)wt[me][j]=ht[j];wt[me].fx=ht.fx}for(var Pt=function(ht,j){return ht.fx-j.fx},kt=p.slice(),O=p.slice(),J=p.slice(),Dt=p.slice(),te=0;te<Q;++te){if(wt.sort(Pt),st.history){var ae=wt.map(function(ht){var j=ht.slice();return j.fx=ht.fx,j.id=ht.id,j});ae.sort(function(ht,j){return ht.id-j.id}),st.history.push({x:wt[0].slice(),fx:wt[0].fx,simplex:ae})}for(re=0,Ot=0;Ot<me;++Ot)re=Math.max(re,Math.abs(wt[0][Ot]-wt[1][Ot]));if(Math.abs(wt[0].fx-wt[me].fx)<Tt&&re<xt)break;for(Ot=0;Ot<me;++Ot){kt[Ot]=0;for(var Se=0;Se<me;++Se)kt[Ot]+=wt[Se][Ot];kt[Ot]/=me}var W=wt[me];if(Yt(O,1+tt,kt,-tt,W),O.fx=w(O),O.fx<wt[0].fx)Yt(Dt,1+V,kt,-V,W),Dt.fx=w(Dt),Vt(Dt.fx<O.fx?Dt:O);else if(O.fx>=wt[me-1].fx){var lt=!1;if(O.fx>W.fx?(Yt(J,1+It,kt,-It,W),J.fx=w(J),J.fx<W.fx?Vt(J):lt=!0):(Yt(J,1-It*tt,kt,It*tt,W),J.fx=w(J),J.fx<O.fx?Vt(J):lt=!0),lt){if(pt>=1)break;for(Ot=1;Ot<wt.length;++Ot)Yt(wt[Ot],1-pt,wt[0],pt,wt[Ot]),wt[Ot].fx=w(wt[Ot])}}else Vt(O)}return wt.sort(Pt),{fx:wt[0].fx,x:wt[0]}},mt.conjugateGradient=function ve(w,p,st){var Tt,xt,V,Q={x:p.slice(),fx:0,fxprime:p.slice()},Gt={x:p.slice(),fx:0,fxprime:p.slice()},_t=p.slice(),tt=1;V=(st=st||{}).maxIterations||20*p.length,Q.fx=w(Q.x,Q.fxprime),Nt(Tt=Q.fxprime.slice(),Q.fxprime,-1);for(var It=0;It<V;++It){if(tt=$t(w,Tt,Q,Gt,tt),st.history&&st.history.push({x:Q.x.slice(),fx:Q.fx,fxprime:Q.fxprime.slice(),alpha:tt}),tt){Yt(_t,1,Gt.fxprime,-1,Q.fxprime);var pt=P(Q.fxprime,Q.fxprime);Yt(Tt,Math.max(0,P(_t,Gt.fxprime)/pt),Tt,-1,Gt.fxprime),xt=Q,Q=Gt,Gt=xt}else Nt(Tt,Q.fxprime,-1);if(Jt(Q.fxprime)<=1e-5)break}return st.history&&st.history.push({x:Q.x.slice(),fx:Q.fx,fxprime:Q.fxprime.slice(),alpha:tt}),Q},mt.gradientDescent=function zt(w,p,st){for(var Q=(st=st||{}).maxIterations||100*p.length,Gt=st.learnRate||.001,_t={x:p.slice(),fx:0,fxprime:p.slice()},Tt=0;Tt<Q&&(_t.fx=w(_t.x,_t.fxprime),st.history&&st.history.push({x:_t.x.slice(),fx:_t.fx,fxprime:_t.fxprime.slice()}),Yt(_t.x,1,_t.x,-Gt,_t.fxprime),!(Jt(_t.fxprime)<=1e-5));++Tt);return _t},mt.gradientDescentLineSearch=function pe(w,p,st){st=st||{};var It,Q={x:p.slice(),fx:0,fxprime:p.slice()},Gt={x:p.slice(),fx:0,fxprime:p.slice()},_t=st.maxIterations||100*p.length,Tt=st.learnRate||1,xt=p.slice(),tt=st.c1||.001,V=st.c2||.1,pt=[];if(st.history){var re=w;w=function(wt,Ot){return pt.push(wt.slice()),re(wt,Ot)}}Q.fx=w(Q.x,Q.fxprime);for(var me=0;me<_t&&(Nt(xt,Q.fxprime,-1),Tt=$t(w,xt,Q,Gt,Tt,tt,V),st.history&&(st.history.push({x:Q.x.slice(),fx:Q.fx,fxprime:Q.fxprime.slice(),functionCalls:pt,learnRate:Tt,alpha:Tt}),pt=[]),It=Q,Q=Gt,Gt=It,!(0===Tt||Jt(Q.fxprime)<1e-5));++me);return Q},mt.zeros=ft,mt.zerosM=function B(w,p){return ft(w).map(function(){return ft(p)})},mt.norm2=Jt,mt.weightedSum=Yt,mt.scale=Nt}(Fe)},5278:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{WT:()=>ft});var ft=typeof Float32Array<"u"?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var Lt=0,$t=arguments.length;$t--;)Lt+=arguments[$t]*arguments[$t];return Math.sqrt(Lt)})},7543:(rr,Fe,mt)=>{"use strict";function $t(O,J){var Dt=J[0],te=J[1],ae=J[2],Se=J[3],W=J[4],lt=J[5],ht=J[6],j=J[7],St=J[8],Ft=St*W-lt*j,U=-St*Se+lt*ht,H=j*Se-W*ht,L=Dt*Ft+te*U+ae*H;return L?(O[0]=Ft*(L=1/L),O[1]=(-St*te+ae*j)*L,O[2]=(lt*te-ae*W)*L,O[3]=U*L,O[4]=(St*Dt-ae*ht)*L,O[5]=(-lt*Dt+ae*Se)*L,O[6]=H*L,O[7]=(-j*Dt+te*ht)*L,O[8]=(W*Dt-te*Se)*L,O):null}function pe(O,J,Dt){var te=J[0],ae=J[1],Se=J[2],W=J[3],lt=J[4],ht=J[5],j=J[6],St=J[7],Ft=J[8],U=Dt[0],H=Dt[1],L=Dt[2],N=Dt[3],_=Dt[4],rt=Dt[5],X=Dt[6],dt=Dt[7],yt=Dt[8];return O[0]=U*te+H*W+L*j,O[1]=U*ae+H*lt+L*St,O[2]=U*Se+H*ht+L*Ft,O[3]=N*te+_*W+rt*j,O[4]=N*ae+_*lt+rt*St,O[5]=N*Se+_*ht+rt*Ft,O[6]=X*te+dt*W+yt*j,O[7]=X*ae+dt*lt+yt*St,O[8]=X*Se+dt*ht+yt*Ft,O}function Q(O,J){return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=1,O[5]=0,O[6]=J[0],O[7]=J[1],O[8]=1,O}function Gt(O,J){var Dt=Math.sin(J),te=Math.cos(J);return O[0]=te,O[1]=Dt,O[2]=0,O[3]=-Dt,O[4]=te,O[5]=0,O[6]=0,O[7]=0,O[8]=1,O}function _t(O,J){return O[0]=J[0],O[1]=0,O[2]=0,O[3]=0,O[4]=J[1],O[5]=0,O[6]=0,O[7]=0,O[8]=1,O}mt.d(Fe,{Jp:()=>pe,U_:()=>$t,Us:()=>Gt,vc:()=>Q,xJ:()=>_t})},8235:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{$X:()=>Lt,AK:()=>re,EU:()=>J,Fp:()=>p,Fv:()=>pt,I6:()=>ae,IH:()=>Yt,TE:()=>_t,VV:()=>w,bA:()=>Q,kE:()=>xt,kK:()=>Pt,lu:()=>lt});var ee=mt(5278);function Yt(L,N,_){return L[0]=N[0]+_[0],L[1]=N[1]+_[1],L}function Lt(L,N,_){return L[0]=N[0]-_[0],L[1]=N[1]-_[1],L}function w(L,N,_){return L[0]=Math.min(N[0],_[0]),L[1]=Math.min(N[1],_[1]),L}function p(L,N,_){return L[0]=Math.max(N[0],_[0]),L[1]=Math.max(N[1],_[1]),L}function Q(L,N,_){return L[0]=N[0]*_,L[1]=N[1]*_,L}function _t(L,N){return Math.hypot(N[0]-L[0],N[1]-L[1])}function xt(L){return Math.hypot(L[0],L[1])}function pt(L,N){var _=N[0],rt=N[1],X=_*_+rt*rt;return X>0&&(X=1/Math.sqrt(X)),L[0]=N[0]*X,L[1]=N[1]*X,L}function re(L,N){return L[0]*N[0]+L[1]*N[1]}function Pt(L,N,_){var rt=N[0],X=N[1];return L[0]=_[0]*rt+_[3]*X+_[6],L[1]=_[1]*rt+_[4]*X+_[7],L}function J(L,N){var _=L[0],rt=L[1],X=N[0],dt=N[1],yt=Math.sqrt(_*_+rt*rt)*Math.sqrt(X*X+dt*dt);return Math.acos(Math.min(Math.max(yt&&(_*X+rt*dt)/yt,-1),1))}function ae(L,N){return L[0]===N[0]&&L[1]===N[1]}var lt=Lt;(function ft(){var L=new ee.WT(2);ee.WT!=Float32Array&&(L[0]=0,L[1]=0)})()},6224:rr=>{"use strict";var Fe=rr.exports;rr.exports.isNumber=function(mt){return"number"==typeof mt},rr.exports.findMin=function(mt){if(0===mt.length)return 1/0;for(var ee=mt[0],ft=1;ft<mt.length;ft++)ee=Math.min(ee,mt[ft]);return ee},rr.exports.findMax=function(mt){if(0===mt.length)return-1/0;for(var ee=mt[0],ft=1;ft<mt.length;ft++)ee=Math.max(ee,mt[ft]);return ee},rr.exports.findMinMulti=function(mt){for(var ee=Fe.findMin(mt[0]),ft=1;ft<mt.length;ft++)ee=Math.min(ee,Fe.findMin(mt[ft]));return ee},rr.exports.findMaxMulti=function(mt){for(var ee=Fe.findMax(mt[0]),ft=1;ft<mt.length;ft++)ee=Math.max(ee,Fe.findMax(mt[ft]));return ee},rr.exports.inside=function(mt,ee,ft){return mt<=ft&&ft<=ee}},4319:(rr,Fe,mt)=>{"use strict";var B=Math.log(2),P=rr.exports,Jt=mt(6224);function Nt(Lt){return 1-Math.abs(Lt)}rr.exports.getUnifiedMinMax=function(Lt,$t){return P.getUnifiedMinMaxMulti([Lt],$t)},rr.exports.getUnifiedMinMaxMulti=function(Lt,$t){var ve=!1,zt=!1,pe=Jt.isNumber(($t=$t||{}).width)?$t.width:2,w=Jt.isNumber($t.size)?$t.size:50,p=Jt.isNumber($t.min)?$t.min:(ve=!0,Jt.findMinMulti(Lt)),st=Jt.isNumber($t.max)?$t.max:(zt=!0,Jt.findMaxMulti(Lt)),Gt=(st-p)/(w-1);return ve&&(p-=2*pe*Gt),zt&&(st+=2*pe*Gt),{min:p,max:st}},rr.exports.create=function(Lt,$t){if(!Lt||0===Lt.length)return[];var ve=Jt.isNumber(($t=$t||{}).size)?$t.size:50,zt=Jt.isNumber($t.width)?$t.width:2,pe=P.getUnifiedMinMax(Lt,{size:ve,width:zt,min:$t.min,max:$t.max}),w=pe.min,st=pe.max-w,Q=st/(ve-1);if(0===st)return[{x:w,y:1}];for(var Gt=[],_t=0;_t<ve;_t++)Gt.push({x:w+_t*Q,y:0});var xt=function Yt(Lt,$t){for(var ve={},zt=0,pe=-$t;pe<=$t;pe++)zt+=Lt(pe/$t),ve[pe]=zt;return ve}(Nt,zt),tt=xt[zt],V=xt[zt-1]-xt[zt-2],It=0;Lt.forEach(function(wt){var Ot=function(wt){return Math.floor((wt-w)/Q)}(wt);if(!(Ot+zt<0||Ot-zt>=Gt.length)){var Qt=Math.max(Ot-zt,0),Vt=Ot,Pt=Math.min(Ot+zt,Gt.length-1),kt=Qt-(Ot-zt),te=tt/(tt-(xt[-zt-1+kt]||0)-(xt[-zt-1+(Ot+zt-Pt)]||0));kt>0&&(It+=te*(kt-1)*V);var ae=Math.max(0,Ot-zt+1);Jt.inside(0,Gt.length-1,ae)&&(Gt[ae].y+=1*te*V),Jt.inside(0,Gt.length-1,Vt+1)&&(Gt[Vt+1].y-=2*te*V),Jt.inside(0,Gt.length-1,Pt+1)&&(Gt[Pt+1].y+=1*te*V)}});var pt=It,re=0,me=0;return Gt.forEach(function(wt){wt.y=pt+=re+=wt.y,me+=pt}),me>0&&Gt.forEach(function(wt){wt.y/=me}),Gt},rr.exports.getExpectedValueFromPdf=function(Lt){if(Lt&&0!==Lt.length){var $t=0;return Lt.forEach(function(ve){$t+=ve.x*ve.y}),$t}},rr.exports.getXWithLeftTailArea=function(Lt,$t){if(Lt&&0!==Lt.length){for(var ve=0,zt=0,pe=0;pe<Lt.length&&(zt=pe,!((ve+=Lt[pe].y)>=$t));pe++);return Lt[zt].x}},rr.exports.getPerplexity=function(Lt){if(Lt&&0!==Lt.length){var $t=0;return Lt.forEach(function(ve){var zt=Math.log(ve.y);isFinite(zt)&&($t+=ve.y*zt)}),$t=-$t/B,Math.pow(2,$t)}}},8836:(rr,Fe)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.SensorTabIndex=Fe.SensorClassName=Fe.SizeSensorId=void 0,Fe.SizeSensorId="size-sensor-id",Fe.SensorClassName="size-sensor-object",Fe.SensorTabIndex="-1"},1920:(rr,Fe)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0,Fe.default=function(ft){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,P=null;return function(){for(var Jt=this,Nt=arguments.length,Yt=new Array(Nt),Lt=0;Lt<Nt;Lt++)Yt[Lt]=arguments[Lt];clearTimeout(P),P=setTimeout(function(){ft.apply(Jt,Yt)},B)}}},595:(rr,Fe)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var mt=1;Fe.default=function(){return"".concat(mt++)}},1909:(rr,Fe,mt)=>{"use strict";Fe.ak=void 0;var ft=mt(53);Fe.ak=function(Yt,Lt){var $t=(0,ft.getSensor)(Yt);return $t.bind(Lt),function(){$t.unbind(Lt)}}},53:(rr,Fe,mt)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.removeSensor=Fe.getSensor=void 0;var ee=function P(Lt){return Lt&&Lt.__esModule?Lt:{default:Lt}}(mt(595)),ft=mt(627),B=mt(8836),Jt={};Fe.getSensor=function($t){var ve=$t.getAttribute(B.SizeSensorId);if(ve&&Jt[ve])return Jt[ve];var zt=(0,ee.default)();$t.setAttribute(B.SizeSensorId,zt);var pe=(0,ft.createSensor)($t);return Jt[zt]=pe,pe},Fe.removeSensor=function($t){var ve=$t.element.getAttribute(B.SizeSensorId);$t.element.removeAttribute(B.SizeSensorId),$t.destroy(),ve&&Jt[ve]&&delete Jt[ve]}},627:(rr,Fe,mt)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.createSensor=void 0;var ee=mt(1463),ft=mt(4534),B=typeof ResizeObserver<"u"?ft.createSensor:ee.createSensor;Fe.createSensor=B},1463:(rr,Fe,mt)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.createSensor=void 0;var ee=function B(Jt){return Jt&&Jt.__esModule?Jt:{default:Jt}}(mt(1920)),ft=mt(8836);Fe.createSensor=function(Nt){var Yt=void 0,Lt=[],ve=(0,ee.default)(function(){Lt.forEach(function(p){p(Nt)})}),pe=function(){Yt&&Yt.parentNode&&(Yt.contentDocument&&Yt.contentDocument.defaultView.removeEventListener("resize",ve),Yt.parentNode.removeChild(Yt),Yt=void 0,Lt=[])};return{element:Nt,bind:function(st){Yt||(Yt=function(){"static"===getComputedStyle(Nt).position&&(Nt.style.position="relative");var st=document.createElement("object");return st.onload=function(){st.contentDocument.defaultView.addEventListener("resize",ve),ve()},st.style.display="block",st.style.position="absolute",st.style.top="0",st.style.left="0",st.style.height="100%",st.style.width="100%",st.style.overflow="hidden",st.style.pointerEvents="none",st.style.zIndex="-1",st.style.opacity="0",st.setAttribute("class",ft.SensorClassName),st.setAttribute("tabindex",ft.SensorTabIndex),st.type="text/html",Nt.appendChild(st),st.data="about:blank",st}()),-1===Lt.indexOf(st)&&Lt.push(st)},destroy:pe,unbind:function(st){var Q=Lt.indexOf(st);-1!==Q&&Lt.splice(Q,1),0===Lt.length&&Yt&&pe()}}}},4534:(rr,Fe,mt)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.createSensor=void 0;var ee=function ft(P){return P&&P.__esModule?P:{default:P}}(mt(1920));Fe.createSensor=function(Jt){var Nt=void 0,Yt=[],Lt=(0,ee.default)(function(){Yt.forEach(function(w){w(Jt)})}),zt=function(){Nt.disconnect(),Yt=[],Nt=void 0};return{element:Jt,bind:function(p){Nt||(Nt=function(){var p=new ResizeObserver(Lt);return p.observe(Jt),Lt(),p}()),-1===Yt.indexOf(p)&&Yt.push(p)},destroy:zt,unbind:function(p){var st=Yt.indexOf(p);-1!==st&&Yt.splice(st,1),0===Yt.length&&Nt&&zt()}}}},4177:(rr,Fe,mt)=>{"use strict";mt.d(Fe,{Z:()=>ft});const ft=Array.isArray}}]);