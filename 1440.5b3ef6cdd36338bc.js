"use strict";(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[1440],{1440:(U,s,t)=>{t.r(s),t.d(s,{UploadComponent:()=>P});var g=t(1368),a=t(6504),f=t(6716),h=t(5072),D=t(788),d=t(460),z=t(5128),p=t(5584),r=t(1752),l=t(2532),c=t(6088),C=t(6080),n=t(4496),A=t(9432),O=t(3064);function I(e,_){if(1&e&&(n.SAx(0),n.OEk(1),n.k70()),2&e){const o=n.GaO().$implicit;n.yG2(),n.cNF(o.errors.message)}}function M(e,_){1&e&&(n.SAx(0),n.OEk(1,"Ph\u1ea7n b\u1eaft bu\u1ed9c"),n.k70())}function T(e,_){if(1&e&&n.yuY(0,I,2,1,"ng-container",18)(1,M,2,0,"ng-container",18),2&e){const o=_.$implicit;n.E7m("ngIf",o.hasError("message")),n.yG2(),n.E7m("ngIf",o.hasError("required"))}}let P=(()=>{class e{constructor(o,i){this.message=o,this.fb=i,this.pageHeaderInfo={title:"\u6587\u4ef6\u4e0a\u4f20",breadcrumb:["\u9996\u9875","\u529f\u80fd","\u6587\u4ef6\u4e0a\u4f20"],desc:"\u7b80\u5355\u5f04\u4e00\u4e0b\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u670d\u52a1\u5668\u7edf\u4e00\u8fd4\u56de\u7684\u6587\u4ef6"},this.uploadUrl=f.OU.production?"/api/file/test/upload/document/":"/site/api/file/test/upload/document/",this.fileList=[],this.fileFormList=[]}handleChange(o){"success"===o.type&&0===o.file.response.code&&this.message.success(`\u670d\u52a1\u5668\u4e0a\u8fd4\u56de\u7684\u6587\u4ef6\u8def\u5f84\uff1a${o.file.response.data.data}`)}uploadFn(o){"success"===o.type&&0===o.file.response.code&&this.validateForm.get("file")?.setValue(o.file.response.data.data)}resetForm(){this.validateForm.reset(),this.fileFormList=[]}submitForm(){(0,D.qg)(this.validateForm)}initForm(){this.validateForm=this.fb.group({file:[null,[a.AQ.required]]})}ngOnInit(){this.initForm()}static#n=this.\u0275fac=function(i){return new(i||e)(n.GI1(A.yo),n.GI1(a.im))};static#t=this.\u0275cmp=n.In1({type:e,selectors:[["app-upload"]],standalone:!0,features:[n.UHJ],decls:27,vars:22,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzTitle","V\xed d\u1ee5 \u0111\u01a1n gi\u1ea3n, \u0111\u1ecba ch\u1ec9 t\u1ec7p \u0111\u01b0\u1ee3c m\xe1y ch\u1ee7 tr\u1ea3 v\u1ec1 l\xe0 h\u1ee3p nh\u1ea5t v\xe0 ch\u1ee9c n\u0103ng tr\xecnh di\u1ec5n s\u1ebd kh\xf4ng l\u01b0u t\u1ec7p \u0111\xe3 t\u1ea3i l\xean."],[3,"nzAction","nzFileList","nzLimit","nzName","nzShowButton","nzSize","nzChange"],["nz-button",""],["nz-icon","","nzType","upload"],["nzTitle","\u5d4c\u5165\u8868\u5355\uff0c\u52a0\u5165\u8868\u5355\u9a8c\u8bc1",1,"m-t-20"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nz-col","","nzSpan","24"],[3,"nzErrorTip","nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzAction","nzFileList","nzLimit","nzName","nzSize","nzChange"],["formControlName","file",3,"hidden"],["nz-row","",1,"m-t-20"],[3,"nzSpan"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",1,"m-l-10",3,"click"],["combineTpl",""],[4,"ngIf"]],template:function(i,u){if(1&i&&(n.wR5(0,"app-page-header",0),n.I0R(1,"div",1)(2,"nz-card",2)(3,"nz-upload",3),n.qCj("nzChange",function(m){return u.handleChange(m)}),n.I0R(4,"button",4),n.wR5(5,"i",5),n.OEk(6," Nh\u1eadp nguy\xean li\u1ec7u (t\u1ea3i l\xean th\u1eed nghi\u1ec7m t\u1ed1i \u0111a 5M) "),n.C$Y()()(),n.I0R(7,"nz-card",6)(8,"form",7)(9,"nz-form-item",8)(10,"nz-form-control",9)(11,"nz-form-label",10),n.OEk(12,"ru\u1ed9t th\u1eeba:"),n.C$Y(),n.I0R(13,"nz-form-control",10)(14,"nz-upload",11),n.qCj("nzChange",function(m){return u.uploadFn(m)}),n.I0R(15,"button",4),n.wR5(16,"i",5),n.OEk(17," T\u1ea3i l\xean t\u1ec7p \u0111\xednh k\xe8m (t\u1ea3i l\xean th\u1eed nghi\u1ec7m t\u1ed1i \u0111a 5M) "),n.C$Y(),n.wR5(18,"input",12),n.C$Y()()(),n.I0R(19,"nz-form-item",13)(20,"nz-form-control",14)(21,"button",15),n.qCj("click",function(){return u.submitForm()}),n.OEk(22,"Submit"),n.C$Y(),n.I0R(23,"button",16),n.qCj("click",function(){return u.resetForm()}),n.OEk(24,"c\xe0i l\u1ea1i"),n.C$Y()()()()()()(),n.yuY(25,T,2,2,"ng-template",null,17,n.gJz)),2&i){const E=n.Gew(26);n.E7m("pageHeaderInfo",u.pageHeaderInfo),n.yG2(3),n.E7m("nzAction",u.uploadUrl)("nzFileList",u.fileList)("nzLimit",1)("nzName","document")("nzShowButton",!0)("nzSize",5120),n.yG2(5),n.E7m("formGroup",u.validateForm),n.yG2(2),n.E7m("nzErrorTip",E)("nzSm",6)("nzXs",24),n.yG2(),n.E7m("nzSm",14)("nzXs",24),n.yG2(2),n.E7m("nzSm",14)("nzXs",24),n.yG2(),n.E7m("nzAction",u.uploadUrl)("nzFileList",u.fileFormList)("nzLimit",1)("nzName","document")("nzSize",5120),n.yG2(4),n.E7m("hidden",!0),n.yG2(2),n.E7m("nzSpan",14)}},dependencies:[h.Q,z.iq,z.Q9,C.wX,C.KC,d.EV,d.Ez,O.k,p.o9,p.gn,c.Wy,c.If,a.y,a.sz,a.ot,a.ue,a.u,r.WO,l.QD,l.ox,r.BN,r.qU,r.Qo,r.YZ,a.sl,a.uW,a.Wo,l.Ko,g.u_],encapsulation:2,changeDetection:0})}return e})()}}]);