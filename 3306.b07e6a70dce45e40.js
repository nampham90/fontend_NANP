(self.webpackChunkng_ant_admin=self.webpackChunkng_ant_admin||[]).push([[3306],{3306:(b,D,r)=>{"use strict";r.r(D),r.d(D,{DownloadComponent:()=>o});var n=r(2223),v=r(5855),h=r(9019),s=r(4895),F=r(4327),p=r.n(F),i=r(4259),w=r(3642),f=r(4247),e=r(4246);let t=(()=>{class a{constructor(u){this.http=u}fileStreamDownload(u){return this.http.downLoadWithBlob("/file/download/document",u,{needSuccessInfo:!1})}}return a.\u0275fac=function(u){return new(u||a)(n.LFG(e.q))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var l=r(2242);let o=(()=>{class a{constructor(u){this.downloadService=u,this.pageHeaderInfo={title:"\u6587\u4ef6\u4e0b\u8f7d",breadcrumb:["\u9996\u9875","\u529f\u80fd","\u6587\u4ef6\u4e0b\u8f7d"],desc:"\u5404\u79cd\u6587\u4ef6\u4e0b\u8f7d"},this.destroyRef=(0,n.f3M)(n.ktI)}ngOnInit(){}fileStreamDownload(){this.downloadService.fileStreamDownload({downloadUrl:`http://${h.ip}/api/file/\u56fe\u7eb8\u5b9e\u9645\u6750\u6599\u91cf\u5bfc\u5165\u6a21\u677f.xlsx`}).pipe((0,v.sL)(this.destroyRef)).subscribe(c=>{const d=new Blob([c],{type:"text/plain;charset=utf-8"});p().saveAs(d,"\u6750\u6599\u5e93\u5bfc\u5165\u6a21\u677f.xlsx")})}}return a.\u0275fac=function(u){return new(u||a)(n.Y36(t))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-download"]],standalone:!0,features:[n.jDz],decls:14,vars:1,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],["nzTitle","\u6839\u636e\u540e\u53f0\u63a5\u53e3\u6587\u4ef6\u6d41\u4e0b\u8f7d",1,"m-b-10"],["nz-button","","nzType","primary",3,"click"],["nzTitle","\u6839\u636e\u6587\u4ef6\u5730\u5740\u4e0b\u8f7d\u6587\u4ef6",1,"m-b-10"],["nzTitle","base64\u6d41\u4e0b\u8f7d",1,"m-b-10"],["nzTitle","\u56fe\u7247Url\u4e0b\u8f7d,\u5982\u679c\u6709\u8de8\u57df\u95ee\u9898\uff0c\u9700\u8981\u5904\u7406\u56fe\u7247\u8de8\u57df",1,"m-b-10"]],template:function(u,c){1&u&&(n._UZ(0,"app-page-header",0),n.TgZ(1,"div",1)(2,"nz-card",2)(3,"button",3),n.NdJ("click",function(){return c.fileStreamDownload()}),n._uU(4,"\u6587\u4ef6\u6d41\u4e0b\u8f7d"),n.qZA()(),n.TgZ(5,"nz-card",4)(6,"button",3),n.NdJ("click",function(){return c.fileStreamDownload()}),n._uU(7,"\u6587\u4ef6\u5730\u5740\u4e0b\u8f7d"),n.qZA()(),n.TgZ(8,"nz-card",5)(9,"button",3),n.NdJ("click",function(){return c.fileStreamDownload()}),n._uU(10,"base64\u6d41\u4e0b\u8f7d"),n.qZA()(),n.TgZ(11,"nz-card",6)(12,"button",3),n.NdJ("click",function(){return c.fileStreamDownload()}),n._uU(13,"\u56fe\u7247Url\u4e0b\u8f7d"),n.qZA()()()),2&u&&n.Q6J("pageHeaderInfo",c.pageHeaderInfo)},dependencies:[s.q,w.vh,w.bd,i.sL,i.ix,l.w,f.dQ,f.vG],encapsulation:2,changeDetection:0}),a})()},4327:function(b,D){var r,v;void 0!==(v="function"==typeof(r=function(){"use strict";function s(e,t,l){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){f(o.response,t,l)},o.onerror=function(){console.error("could not download file")},o.send()}function F(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return 200<=t.status&&299>=t.status}function p(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,w=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(e,t,l){var o=i.URL||i.webkitURL,a=document.createElement("a");a.download=t=t||e.name||"download",a.rel="noopener","string"==typeof e?(a.href=e,a.origin===location.origin?p(a):F(a.href)?s(e,t,l):p(a,a.target="_blank")):(a.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){p(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,l){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function h(e,t){return typeof t>"u"?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),t);else if(F(e))s(e,t,l);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){p(o)})}}:function(e,t,l,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,l);var a="application/octet-stream"===e.type,m=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&m||w)&&typeof FileReader<"u"){var c=new FileReader;c.onloadend=function(){var E=c.result;E=u?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=E:location=E,o=null},c.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,y=d.createObjectURL(e);o?o.location=y:location.href=y,o=null,setTimeout(function(){d.revokeObjectURL(y)},4e4)}});i.saveAs=f.saveAs=f,b.exports=f})?r.apply(D,[]):r)&&(b.exports=v)}}]);